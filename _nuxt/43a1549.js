/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[81],[function(e,t,n){"use strict";n.d(t,"v",(function(){return d})),n.d(t,"lb",(function(){return c})),n.d(t,"qb",(function(){return h})),n.d(t,"Ab",(function(){return v})),n.d(t,"oc",(function(){return l})),n.d(t,"vc",(function(){return y})),n.d(t,"a",(function(){return st})),n.d(t,"b",(function(){return Er})),n.d(t,"c",(function(){return qo})),n.d(t,"d",(function(){return Sn})),n.d(t,"e",(function(){return Xi})),n.d(t,"f",(function(){return bi})),n.d(t,"g",(function(){return Ji})),n.d(t,"h",(function(){return Ar})),n.d(t,"i",(function(){return Ir})),n.d(t,"j",(function(){return qr})),n.d(t,"k",(function(){return Vo})),n.d(t,"l",(function(){return $o})),n.d(t,"m",(function(){return ao})),n.d(t,"n",(function(){return co})),n.d(t,"o",(function(){return lo})),n.d(t,"p",(function(){return gi})),n.d(t,"q",(function(){return Bi})),n.d(t,"r",(function(){return pr})),n.d(t,"s",(function(){return lr})),n.d(t,"t",(function(){return Tn})),n.d(t,"u",(function(){return Po})),n.d(t,"w",(function(){return Li})),n.d(t,"x",(function(){return Xo})),n.d(t,"y",(function(){return Uo})),n.d(t,"z",(function(){return oo})),n.d(t,"A",(function(){return dr})),n.d(t,"B",(function(){return To})),n.d(t,"C",(function(){return Rr})),n.d(t,"D",(function(){return fr})),n.d(t,"E",(function(){return Di})),n.d(t,"F",(function(){return jo})),n.d(t,"G",(function(){return ho})),n.d(t,"H",(function(){return Yn})),n.d(t,"I",(function(){return Mo})),n.d(t,"J",(function(){return yr})),n.d(t,"K",(function(){return Fr})),n.d(t,"L",(function(){return Wo})),n.d(t,"M",(function(){return mr})),n.d(t,"N",(function(){return ee})),n.d(t,"O",(function(){return Re})),n.d(t,"P",(function(){return J})),n.d(t,"Q",(function(){return z})),n.d(t,"R",(function(){return $})),n.d(t,"S",(function(){return mn})),n.d(t,"T",(function(){return O})),n.d(t,"U",(function(){return I})),n.d(t,"V",(function(){return je})),n.d(t,"W",(function(){return Mi})),n.d(t,"X",(function(){return Ai})),n.d(t,"Y",(function(){return In})),n.d(t,"Z",(function(){return rn})),n.d(t,"ab",(function(){return Le})),n.d(t,"bb",(function(){return er})),n.d(t,"cb",(function(){return tn})),n.d(t,"db",(function(){return K})),n.d(t,"eb",(function(){return Jo})),n.d(t,"fb",(function(){return ar})),n.d(t,"gb",(function(){return ur})),n.d(t,"hb",(function(){return $i})),n.d(t,"ib",(function(){return Hn})),n.d(t,"jb",(function(){return P})),n.d(t,"kb",(function(){return ke})),n.d(t,"mb",(function(){return bt})),n.d(t,"nb",(function(){return pe})),n.d(t,"ob",(function(){return it})),n.d(t,"pb",(function(){return xr})),n.d(t,"rb",(function(){return Lt})),n.d(t,"sb",(function(){return re})),n.d(t,"tb",(function(){return zn})),n.d(t,"ub",(function(){return ne})),n.d(t,"vb",(function(){return F})),n.d(t,"wb",(function(){return E})),n.d(t,"xb",(function(){return S})),n.d(t,"yb",(function(){return V})),n.d(t,"zb",(function(){return vt})),n.d(t,"Bb",(function(){return Fe})),n.d(t,"Cb",(function(){return cr})),n.d(t,"Db",(function(){return pn})),n.d(t,"Eb",(function(){return C})),n.d(t,"Fb",(function(){return Gt})),n.d(t,"Gb",(function(){return Ri})),n.d(t,"Hb",(function(){return x})),n.d(t,"Ib",(function(){return qn})),n.d(t,"Jb",(function(){return yt})),n.d(t,"Kb",(function(){return on})),n.d(t,"Lb",(function(){return nn})),n.d(t,"Mb",(function(){return No})),n.d(t,"Nb",(function(){return Ao})),n.d(t,"Ob",(function(){return D})),n.d(t,"Pb",(function(){return Ni})),n.d(t,"Qb",(function(){return zt})),n.d(t,"Rb",(function(){return mt})),n.d(t,"Sb",(function(){return Vi})),n.d(t,"Tb",(function(){return Fi})),n.d(t,"Ub",(function(){return Vt})),n.d(t,"Vb",(function(){return $n})),n.d(t,"Wb",(function(){return ji})),n.d(t,"Xb",(function(){return Be})),n.d(t,"Yb",(function(){return mo})),n.d(t,"Zb",(function(){return un})),n.d(t,"ac",(function(){return po})),n.d(t,"bc",(function(){return _e})),n.d(t,"cc",(function(){return ye})),n.d(t,"dc",(function(){return $e})),n.d(t,"ec",(function(){return Ae})),n.d(t,"fc",(function(){return qi})),n.d(t,"gc",(function(){return jt})),n.d(t,"hc",(function(){return Bn})),n.d(t,"ic",(function(){return H})),n.d(t,"jc",(function(){return B})),n.d(t,"kc",(function(){return Ht})),n.d(t,"lc",(function(){return $t})),n.d(t,"mc",(function(){return At})),n.d(t,"nc",(function(){return _})),n.d(t,"pc",(function(){return Ho})),n.d(t,"qc",(function(){return Ro})),n.d(t,"rc",(function(){return Or})),n.d(t,"sc",(function(){return Xt})),n.d(t,"tc",(function(){return oe})),n.d(t,"uc",(function(){return dn})),n.d(t,"wc",(function(){return j})),n.d(t,"xc",(function(){return Pe}));n(368);var r=n(1);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var o=FullCalendarVDom.Component,c=FullCalendarVDom.createElement,l=FullCalendarVDom.render,h=FullCalendarVDom.createRef,d=FullCalendarVDom.Fragment,f=FullCalendarVDom.createContext,m=FullCalendarVDom.createPortal,v=FullCalendarVDom.flushToDom,y=FullCalendarVDom.unmountComponentAtNode,w=function(){function e(e,t){this.context=e,this.internalEventSource=t}return e.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},e.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(e.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),e}();function _(e){e.parentNode&&e.parentNode.removeChild(e)}function E(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(S(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function S(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}var T=/(top|left|right|bottom|width|height)$/i;function O(e,t){for(var n in t)I(e,n,t[n])}function I(e,t,n){null==n?e.style[t]="":"number"==typeof n&&T.test(t)?e.style[t]=n+"px":e.style[t]=n}function x(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}function C(e){return e.getRootNode?e.getRootNode():document}var k=0;function D(){return"fc-dom-"+(k+=1)}function R(e){e.preventDefault()}function A(e,t,n,r){var o=function(e,t){return function(n){var r=E(n.target,e);r&&t.call(r,n,r)}}(n,r);return e.addEventListener(t,o),function(){e.removeEventListener(t,o)}}var N=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function j(e,t){var n=function(r){t(r),N.forEach((function(t){e.removeEventListener(t,n)}))};N.forEach((function(t){e.addEventListener(t,n)}))}function P(e){return Object(r.a)({onClick:e},M(e))}function M(e){return{tabIndex:0,onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}var L=0;function U(){return String(L+=1)}function F(){document.body.classList.add("fc-not-allowed")}function V(){document.body.classList.remove("fc-not-allowed")}function B(e){e.classList.add("fc-unselectable"),e.addEventListener("selectstart",R)}function $(e){e.classList.remove("fc-unselectable"),e.removeEventListener("selectstart",R)}function H(e){e.addEventListener("contextmenu",R)}function z(e){e.removeEventListener("contextmenu",R)}function W(e,t,n){return n.func?n.func(e,t):function(a,b){if(!a&&!b)return 0;if(null==b)return-1;if(null==a)return 1;if("string"==typeof a||"string"==typeof b)return String(a).localeCompare(String(b));return a-b}(e[n.field],t[n.field])*(n.order||1)}function G(e,t){var s=String(e);return"000".substr(0,t-s.length)+s}function Y(e,t,n){return"function"==typeof e?e.apply(void 0,t):"string"==typeof e?t.reduce((function(e,t,n){return e.replace("$"+n,t||"")}),e):n}function K(a,b){return a-b}function X(e){return e%1==0}function Z(e){var t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var Q=["sun","mon","tue","wed","thu","fri","sat"];function J(e,t){var a=le(e);return a[2]+=7*t,he(a)}function ee(e,t){var a=le(e);return a[2]+=t,he(a)}function te(e,t){var a=le(e);return a[6]+=t,he(a)}function ne(e,t){return re(e,t)/7}function re(e,t){return(t.valueOf()-e.valueOf())/864e5}function ie(e,t){return fe(e)===fe(t)?Math.round(re(e,t)):null}function oe(e){return he([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function se(marker,e,t,n){var r=he([e,0,1+ae(e,t,n)]),o=oe(marker),c=Math.round(re(r,o));return Math.floor(c/7)+1}function ae(e,t,n){var r=7+t-n;return-((7+he([e,0,r]).getUTCDay()-t)%7)+r-1}function ue(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function ce(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function le(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function he(a){return 1===a.length&&(a=a.concat([0])),new Date(Date.UTC.apply(Date,a))}function de(e){return!isNaN(e.valueOf())}function fe(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function pe(e,t,n,r){return{instanceId:U(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}var me=Object.prototype.hasOwnProperty;function ge(e,t){var n={};if(t)for(var r in t){for(var o=[],i=e.length-1;i>=0;i-=1){var c=e[i][r];if("object"==typeof c&&c)o.unshift(c);else if(void 0!==c){n[r]=c;break}}o.length&&(n[r]=ge(o))}for(i=e.length-1;i>=0;i-=1){var l=e[i];for(var h in l)h in n||(n[h]=l[h])}return n}function ve(e,t){var n={};for(var r in e)t(e[r],r)&&(n[r]=e[r]);return n}function ye(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n}function be(a){for(var e={},t=0,n=a;t<n.length;t++){e[n[t]]=!0}return e}function we(e){var a=[];for(var t in e)a.push(e[t]);return a}function _e(e,t){if(e===t)return!0;for(var n in e)if(me.call(e,n)&&!(n in t))return!1;for(var n in t)if(me.call(t,n)&&e[n]!==t[n])return!1;return!0}function Ee(e,t){var n=[];for(var r in e)me.call(e,r)&&(r in t||n.push(r));for(var r in t)me.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function Se(e,t,n){if(void 0===n&&(n={}),e===t)return!0;for(var r in t)if(!(r in e)||!Te(e[r],t[r],n[r]))return!1;for(var r in e)if(!(r in t))return!1;return!0}function Te(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function Oe(e,t,n){var r=n.dateEnv,o=n.pluginHooks,c=n.options,defs=e.defs,l=e.instances;for(var h in l=ve(l,(function(e){return!defs[e.defId].recurringDef})),defs){var d=defs[h];if(d.recurringDef){var f=d.recurringDef.duration;f||(f=d.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);for(var m=0,v=Ie(d,f,t,r,o.recurringTypes);m<v.length;m++){var y=v[m],w=pe(h,{start:y,end:r.add(y,f)});l[w.instanceId]=w}}}return{defs:defs,instances:l}}function Ie(e,t,n,r,o){var c=o[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(c=c.map(oe)),c}var xe=["years","months","days","milliseconds"],Ce=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ke(input,e){var t;return"string"==typeof input?function(s){var e=Ce.exec(s);if(e){var t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*(60*(e[3]?parseInt(e[3],10):0)*60*1e3+60*(e[4]?parseInt(e[4],10):0)*1e3+1e3*(e[5]?parseInt(e[5],10):0)+(e[6]?parseInt(e[6],10):0))}}return null}(input):"object"==typeof input&&input?De(input):"number"==typeof input?De(((t={})[e||"milliseconds"]=input,t)):null}function De(e){var t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function Re(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function Ae(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function Ne(e){return je(e)/864e5}function je(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Pe(e,t){for(var n=null,i=0;i<xe.length;i+=1){var r=xe[i];if(t[r]){var o=e[r]/t[r];if(!X(o)||null!==n&&n!==o)return null;n=o}else if(e[r])return null}return n}function Me(e){var t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Le(marker,e,t){void 0===t&&(t=!1);var s=marker.toISOString();return s=s.replace(".000",""),t&&(s=s.replace("T00:00:00Z","")),s.length>10&&(null==e?s=s.replace("Z",""):0!==e&&(s=s.replace("Z",Ve(e,!0)))),s}function Ue(marker){return marker.toISOString().replace(/T.*$/,"")}function Fe(marker){return G(marker.getUTCHours(),2)+":"+G(marker.getUTCMinutes(),2)+":"+G(marker.getUTCSeconds(),2)}function Ve(e,t){void 0===t&&(t=!1);var n=e<0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),c=Math.round(r%60);return t?n+G(o,2)+":"+G(c,2):"GMT"+n+o+(c?":"+G(c,2):"")}function Be(e,t,n){if(e===t)return!0;var i,r=e.length;if(r!==t.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(e[i],t[i]):e[i]===t[i]))return!1;return!0}function $e(e,t,n){var r,o;return function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];if(r){if(!Be(r,c)){n&&n(o);var h=e.apply(this,c);t&&t(h,o)||(o=h)}}else o=e.apply(this,c);return r=c,o}}function He(e,t,n){var r,o,c=this;return function(l){if(r){if(!_e(r,l)){n&&n(o);var h=e.call(c,l);t&&t(h,o)||(o=h)}}else o=e.call(c,l);return r=l,o}}var qe={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},ze={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},We=/\s*([ap])\.?m\.?/i,Ge=/,/g,Ye=/\s+/g,Ke=/\u200e/g,Xe=/UTC|GMT/,Ze=function(){function e(e){var t={},n={},r=0;for(var o in e)o in qe?(n[o]=e[o],r=Math.max(qe[o],r)):(t[o]=e[o],o in ze&&(r=Math.max(ze[o],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=$e(Qe)}return e.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},e.prototype.formatRange=function(e,t,n,r){var o=this.standardDateProps,c=this.extendedSettings,l=function(e,t,n){if(n.getMarkerYear(e)!==n.getMarkerYear(t))return 5;if(n.getMarkerMonth(e)!==n.getMarkerMonth(t))return 4;if(n.getMarkerDay(e)!==n.getMarkerDay(t))return 2;if(fe(e)!==fe(t))return 1;return 0}(e.marker,t.marker,n.calendarSystem);if(!l)return this.format(e,n);var h=l;!(h>1)||"numeric"!==o.year&&"2-digit"!==o.year||"numeric"!==o.month&&"2-digit"!==o.month||"numeric"!==o.day&&"2-digit"!==o.day||(h=1);var d=this.format(e,n),f=this.format(t,n);if(d===f)return d;var m=Qe(function(e,t){var n={};for(var r in e)(!(r in ze)||ze[r]<=t)&&(n[r]=e[r]);return n}(o,h),c,n),v=m(e),y=m(t),w=function(e,t,n,r){var o=0;for(;o<e.length;){var c=e.indexOf(t,o);if(-1===c)break;var l=e.substr(0,c);o=c+t.length;for(var h=e.substr(o),d=0;d<n.length;){var f=n.indexOf(r,d);if(-1===f)break;var m=n.substr(0,f);d=f+r.length;var v=n.substr(d);if(l===m&&h===v)return{before:l,after:h}}}return null}(d,v,f,y),_=c.separator||r||n.defaultSeparator||"";return w?w.before+v+_+y+w.after:d+_+f},e.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},e}();function Qe(e,t,n){var o=Object.keys(e).length;return 1===o&&"short"===e.timeZoneName?function(e){return Ve(e.timeZoneOffset)}:0===o&&t.week?function(e){return function(e,t,n,r,o){var c=[];"long"===o?c.push(n):"short"!==o&&"narrow"!==o||c.push(t);"long"!==o&&"short"!==o||c.push(" ");c.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&c.reverse();return c.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week)}:function(e,t,n){e=Object(r.a)({},e),t=Object(r.a)({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit"));"long"===e.timeZoneName&&(e.timeZoneName="short");t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";var o,c=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){var l=Object(r.a)({},e);delete l.minute,o=new Intl.DateTimeFormat(n.locale.codes,l)}return function(r){var marker=r.marker;return function(s,e,t,n,r){s=s.replace(Ke,""),"short"===t.timeZoneName&&(s=function(s,e){var t=!1;s=s.replace(Xe,(function(){return t=!0,e})),t||(s+=" "+e);return s}(s,"UTC"===r.timeZone||null==e.timeZoneOffset?"UTC":Ve(e.timeZoneOffset)));n.omitCommas&&(s=s.replace(Ge,"").trim());n.omitZeroMinute&&(s=s.replace(":00",""));!1===n.meridiem?s=s.replace(We,"").trim():"narrow"===n.meridiem?s=s.replace(We,(function(e,t){return t.toLocaleLowerCase()})):"short"===n.meridiem?s=s.replace(We,(function(e,t){return t.toLocaleLowerCase()+"m"})):"lowercase"===n.meridiem&&(s=s.replace(We,(function(e){return e.toLocaleLowerCase()})));return s=(s=s.replace(Ye," ")).trim()}((o&&!marker.getUTCMinutes()?o:c).format(marker),r,e,t,n)}}(e,t,n)}function Je(e,t){var a=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:a,year:a[0],month:a[1],day:a[2],hour:a[3],minute:a[4],second:a[5],millisecond:a[6]}}function et(e,t,n,r){var o=Je(e,n.calendarSystem);return{date:o,start:o,end:t?Je(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var tt=function(){function e(e){this.cmdStr=e}return e.prototype.format=function(e,t,n){return t.cmdFormatter(this.cmdStr,et(e,null,t,n))},e.prototype.formatRange=function(e,t,n,r){return n.cmdFormatter(this.cmdStr,et(e,t,n,r))},e}(),nt=function(){function e(e){this.func=e}return e.prototype.format=function(e,t,n){return this.func(et(e,null,t,n))},e.prototype.formatRange=function(e,t,n,r){return this.func(et(e,t,n,r))},e}();function it(input){return"object"==typeof input&&input?new Ze(input):"string"==typeof input?new tt(input):"function"==typeof input?new nt(input):null}var ot={navLinkDayClick:mt,navLinkWeekClick:mt,duration:ke,bootstrapFontAwesome:mt,buttonIcons:mt,customButtons:mt,defaultAllDayEventDuration:ke,defaultTimedEventDuration:ke,nextDayThreshold:ke,scrollTime:ke,scrollTimeReset:Boolean,slotMinTime:ke,slotMaxTime:ke,dayPopoverFormat:it,slotDuration:ke,snapDuration:ke,headerToolbar:mt,footerToolbar:mt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:it,dayHeaderClassNames:mt,dayHeaderContent:mt,dayHeaderDidMount:mt,dayHeaderWillUnmount:mt,dayCellClassNames:mt,dayCellContent:mt,dayCellDidMount:mt,dayCellWillUnmount:mt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:mt,weekNumbers:Boolean,weekNumberClassNames:mt,weekNumberContent:mt,weekNumberDidMount:mt,weekNumberWillUnmount:mt,editable:Boolean,viewClassNames:mt,viewDidMount:mt,viewWillUnmount:mt,nowIndicator:Boolean,nowIndicatorClassNames:mt,nowIndicatorContent:mt,nowIndicatorDidMount:mt,nowIndicatorWillUnmount:mt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:mt,locale:mt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:mt,eventOrder:function(input){var i,e,t=[],n=[];for("string"==typeof input?n=input.split(/\s*,\s*/):"function"==typeof input?n=[input]:Array.isArray(input)&&(n=input),i=0;i<n.length;i+=1)"string"==typeof(e=n[i])?t.push("-"===e.charAt(0)?{field:e.substring(1),order:-1}:{field:e,order:1}):"function"==typeof e&&t.push({func:e});return t},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:mt,contentHeight:mt,direction:String,weekNumberFormat:it,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:mt,initialDate:mt,now:mt,eventDataTransform:mt,stickyHeaderDates:mt,stickyFooterScrollbar:mt,viewHeight:mt,defaultAllDay:Boolean,eventSourceFailure:mt,eventSourceSuccess:mt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:mt,eventConstraint:mt,eventAllow:mt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:mt,eventContent:mt,eventDidMount:mt,eventWillUnmount:mt,selectConstraint:mt,selectOverlap:mt,selectAllow:mt,droppable:Boolean,unselectCancel:String,slotLabelFormat:mt,slotLaneClassNames:mt,slotLaneContent:mt,slotLaneDidMount:mt,slotLaneWillUnmount:mt,slotLabelClassNames:mt,slotLabelContent:mt,slotLabelDidMount:mt,slotLabelWillUnmount:mt,dayMaxEvents:mt,dayMaxEventRows:mt,dayMinWidth:Number,slotLabelInterval:ke,allDayText:String,allDayClassNames:mt,allDayContent:mt,allDayDidMount:mt,allDayWillUnmount:mt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:it,rerenderDelay:Number,moreLinkText:mt,moreLinkHint:mt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:mt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ke,hiddenDays:mt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:mt,visibleRange:mt,titleFormat:mt,eventInteractive:Boolean,noEventsText:String,viewHint:mt,navLinkHint:mt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:mt,moreLinkClassNames:mt,moreLinkContent:mt,moreLinkDidMount:mt,moreLinkWillUnmount:mt},st={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},at={datesSet:mt,eventsSet:mt,eventAdd:mt,eventChange:mt,eventRemove:mt,windowResize:mt,eventClick:mt,eventMouseEnter:mt,eventMouseLeave:mt,select:mt,unselect:mt,loading:mt,_unmount:mt,_beforeprint:mt,_afterprint:mt,_noEventDrop:mt,_noEventResize:mt,_resize:mt,_scrollRequest:mt},ut={buttonText:mt,buttonHints:mt,views:mt,plugins:mt,initialEvents:mt,events:mt,eventSources:mt},ct={headerToolbar:lt,footerToolbar:lt,buttonText:lt,buttonHints:lt,buttonIcons:lt};function lt(a,b){return"object"==typeof a&&"object"==typeof b&&a&&b?_e(a,b):a===b}var ht={type:String,component:mt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:mt,usesMinMaxTime:Boolean,classNames:mt,content:mt,didMount:mt,willUnmount:mt};function ft(e){return ge(e,ct)}function pt(input,e){var t={},n={};for(var r in e)r in input&&(t[r]=e[r](input[r]));for(var r in input)r in e||(n[r]=input[r]);return{refined:t,extra:n}}function mt(e){return e}function gt(e,t,n,r){for(var o={defs:{},instances:{}},c=Nt(n),l=0,h=e;l<h.length;l++){var d=Rt(h[l],t,n,r,c);d&&vt(d,o)}return o}function vt(e,t){return void 0===t&&(t={defs:{},instances:{}}),t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function yt(e,t){var n=e.instances[t];if(n){var r=e.defs[n.defId],o=_t(e,(function(e){return t=r,n=e,Boolean(t.groupId&&t.groupId===n.groupId);var t,n}));return o.defs[r.defId]=r,o.instances[n.instanceId]=n,o}return{defs:{},instances:{}}}function bt(){return{defs:{},instances:{}}}function wt(e,t){return{defs:Object(r.a)(Object(r.a)({},e.defs),t.defs),instances:Object(r.a)(Object(r.a)({},e.instances),t.instances)}}function _t(e,t){var defs=ve(e.defs,t),n=ve(e.instances,(function(e){return defs[e.defId]}));return{defs:defs,instances:n}}function Et(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}var St={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:mt,overlap:mt,allow:mt,className:Et,classNames:Et,color:String,backgroundColor:String,borderColor:String,textColor:String},Tt={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ot(e,t){var n=function(input,e){return Array.isArray(input)?gt(input,null,e,!0):"object"==typeof input&&input?gt([input],null,e,!0):null!=input?String(input):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function It(e){return e.reduce(xt,Tt)}function xt(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var Ct={id:String,groupId:String,title:String,url:String,interactive:Boolean},kt={start:mt,end:mt,date:mt,allDay:Boolean},Dt=Object(r.a)(Object(r.a)(Object(r.a)({},Ct),kt),{extendedProps:mt});function Rt(e,t,n,r,o){void 0===o&&(o=Nt(n));var c=At(e,n,o),l=c.refined,h=c.extra,d=function(e,t){var n=null;e&&(n=e.defaultAllDay);null==n&&(n=t.options.defaultAllDay);return n}(t,n),f=function(e,t,n,r){for(var i=0;i<r.length;i+=1){var o=r[i].parse(e,n);if(o){var c=e.allDay;return null==c&&null==(c=t)&&null==(c=o.allDayGuess)&&(c=!1),{allDay:c,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}(l,d,n.dateEnv,n.pluginHooks.recurringTypes);if(f)return(m=jt(l,h,t?t.sourceId:"",f.allDay,Boolean(f.duration),n)).recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:m,instance:null};var m,v=function(e,t,n,r){var o,c,l=e.allDay,h=null,d=!1,f=null,m=null!=e.start?e.start:e.date;if(o=n.dateEnv.createMarkerMeta(m))h=o.marker;else if(!r)return null;null!=e.end&&(c=n.dateEnv.createMarkerMeta(e.end));null==l&&(l=null!=t?t:(!o||o.isTimeUnspecified)&&(!c||c.isTimeUnspecified));l&&h&&(h=oe(h));c&&(f=c.marker,l&&(f=oe(f)),h&&f<=h&&(f=null));f?d=!0:r||(d=n.options.forceEventDuration||!1,f=n.dateEnv.add(h,l?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration));return{allDay:l,hasEnd:d,range:{start:h,end:f},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}(l,d,n,r);return v?{def:m=jt(l,h,t?t.sourceId:"",v.allDay,v.hasEnd,n),instance:pe(m.defId,v.range,v.forcedStartTzo,v.forcedEndTzo)}:null}function At(e,t,n){return void 0===n&&(n=Nt(t)),pt(e,n)}function Nt(e){return Object(r.a)(Object(r.a)(Object(r.a)({},St),Dt),e.pluginHooks.eventRefiners)}function jt(e,t,n,o,c,l){for(var h={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:U(),sourceId:n,allDay:o,hasEnd:c,interactive:e.interactive,ui:Ot(e,l),extendedProps:Object(r.a)(Object(r.a)({},e.extendedProps||{}),t)},d=0,f=l.pluginHooks.eventDefMemberAdders;d<f.length;d++){var m=f[d];Object(r.a)(h,m(e))}return Object.freeze(h.ui.classNames),Object.freeze(h.extendedProps),h}function Pt(e){var t=Math.floor(re(e.start,e.end))||1,n=oe(e.start);return{start:n,end:ee(n,t)}}function Mt(e,t){void 0===t&&(t=ke(0));var n=null,r=null;if(e.end){r=oe(e.end);var o=e.end.valueOf()-r.valueOf();o&&o>=je(t)&&(r=ee(r,1))}return e.start&&(n=oe(e.start),r&&r<=n&&(r=ee(n,1))),{start:n,end:r}}function Lt(e,t,n,r){return"year"===r?ke(n.diffWholeYears(e,t),"year"):"month"===r?ke(n.diffWholeMonths(e,t),"month"):(c=t,l=oe(o=e),h=oe(c),{years:0,months:0,days:Math.round(re(l,h)),milliseconds:c.valueOf()-h.valueOf()-(o.valueOf()-l.valueOf())});var o,c,l,h}function Ut(e,t){var i,n,r=[],o=t.start;for(e.sort(Ft),i=0;i<e.length;i+=1)(n=e[i]).start>o&&r.push({start:o,end:n.start}),n.end>o&&(o=n.end);return o<t.end&&r.push({start:o,end:t.end}),r}function Ft(e,t){return e.start.valueOf()-t.start.valueOf()}function Vt(e,t){var n=e.start,r=e.end,o=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(o={start:n,end:r}),o}function Bt(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function $t(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Ht(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function qt(e,t,n,r){var o={},c={},l={},h=[],d=[],f=Yt(e.defs,t);for(var m in e.defs){"inverse-background"===(w=f[(x=e.defs[m]).defId]).display&&(x.groupId?(o[x.groupId]=[],l[x.groupId]||(l[x.groupId]=x)):c[m]=[])}for(var v in e.instances){var y=e.instances[v],w=f[(x=e.defs[y.defId]).defId],_=y.range,E=!x.allDay&&r?Mt(_,r):_,S=Vt(E,n);S&&("inverse-background"===w.display?x.groupId?o[x.groupId].push(S):c[y.defId].push(S):"none"!==w.display&&("background"===w.display?h:d).push({def:x,ui:w,instance:y,range:S,isStart:E.start&&E.start.valueOf()===S.start.valueOf(),isEnd:E.end&&E.end.valueOf()===S.end.valueOf()}))}for(var T in o)for(var O=0,I=Ut(o[T],n);O<I.length;O++){var x,C=I[O];w=f[(x=l[T]).defId];h.push({def:x,ui:w,instance:null,range:C,isStart:!1,isEnd:!1})}for(var m in c)for(var k=0,D=Ut(c[m],n);k<D.length;k++){C=D[k];h.push({def:e.defs[m],ui:f[m],instance:null,range:C,isStart:!1,isEnd:!1})}return{bg:h,fg:d}}function zt(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function Wt(e,t){e.fcSeg=t}function Gt(e){return e.fcSeg||e.parentNode.fcSeg||null}function Yt(e,t){return ye(e,(function(e){return Kt(e,t)}))}function Kt(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),It(n)}function Xt(e,t){var n=e.map(Zt);return n.sort((function(e,n){return function(e,t,n){var i,r;for(i=0;i<n.length;i+=1)if(r=W(e,t,n[i]))return r;return 0}(e,n,t)})),n.map((function(e){return e._seg}))}function Zt(e){var t=e.eventRange,n=t.def,o=t.instance?t.instance.range:t.range,c=o.start?o.start.valueOf():0,l=o.end?o.end.valueOf():0;return Object(r.a)(Object(r.a)(Object(r.a)({},n.extendedProps),n),{id:n.publicId,start:c,end:l,duration:l-c,allDay:Number(n.allDay),_seg:e})}function Qt(e,t){for(var n=t.pluginHooks.isDraggableTransformers,r=e.eventRange,o=r.def,c=r.ui,l=c.startEditable,h=0,d=n;h<d.length;h++){l=(0,d[h])(l,o,c,t)}return l}function Jt(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function en(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function tn(e,t,n,r,o,c,l){var h=n.dateEnv,d=n.options,f=d.displayEventTime,m=d.displayEventEnd,v=e.eventRange.def,y=e.eventRange.instance;null==f&&(f=!1!==r),null==m&&(m=!1!==o);var w=y.range.start,_=y.range.end,E=c||e.start||e.eventRange.range.start,S=l||e.end||e.eventRange.range.end,T=oe(w).valueOf()===oe(E).valueOf(),O=oe(te(_,-1)).valueOf()===oe(te(S,-1)).valueOf();return f&&!v.allDay&&(T||O)?(E=T?w:E,S=O?_:S,m&&v.hasEnd?h.formatRange(E,S,t,{forcedStartTzo:c?null:y.forcedStartTzo,forcedEndTzo:l?null:y.forcedEndTzo}):h.format(E,t,{forcedTzo:c?null:y.forcedStartTzo})):""}function nn(e,t,n){var r=e.eventRange.range;return{isPast:r.end<(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&Ht(t,r.start)}}function rn(e){return e.instance?e.instance.instanceId:e.def.defId+":"+e.range.start.toISOString()}function on(e,t){var n=e.eventRange,r=n.def,o=n.instance,c=r.url;if(c)return{href:c};var l=t.emitter,h=t.options.eventInteractive;return null==h&&null==(h=r.interactive)&&(h=Boolean(l.hasHandlers("eventClick"))),h?M((function(e){l.trigger("eventClick",{el:e.target,event:new Tn(t,r,o),jsEvent:e,view:t.viewApi})})):{}}var sn={start:mt,end:mt,allDay:Boolean};function an(e,t,n){var span=function(e,t){var n=pt(e,sn),o=n.refined,c=n.extra,l=o.start?t.createMarkerMeta(o.start):null,h=o.end?t.createMarkerMeta(o.end):null,d=o.allDay;null==d&&(d=l&&l.isTimeUnspecified&&(!h||h.isTimeUnspecified));return Object(r.a)({range:{start:l?l.marker:null,end:h?h.marker:null},allDay:d},c)}(e,t),o=span.range;if(!o.start)return null;if(!o.end){if(null==n)return null;o.end=t.add(o.start,n)}return span}function un(e,t){return n=e.range,r=t.range,(null===n.start?null:n.start.valueOf())===(null===r.start?null:r.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===r.end?null:r.end.valueOf())&&e.allDay===t.allDay&&function(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}(e,t);var n,r}function cn(e,t,n){return Object(r.a)(Object(r.a)({},ln(e,t,n)),{timeZone:t.timeZone})}function ln(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function hn(e,t,n){var r=At({editable:!1},n),o=jt(r.refined,r.extra,"",e.allDay,!0,n);return{def:o,ui:Kt(o,t),instance:pe(o.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function dn(e,t,n){n.emitter.trigger("select",Object(r.a)(Object(r.a)({},fn(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function fn(e,t){for(var span,n,o={},c=0,l=t.pluginHooks.dateSpanTransforms;c<l.length;c++){var h=l[c];Object(r.a)(o,h(e,t))}return Object(r.a)(o,(span=e,n=t.dateEnv,Object(r.a)(Object(r.a)({},ln(span.range,n,span.allDay)),{allDay:span.allDay}))),o}function pn(e,marker,t){var n=t.dateEnv,r=t.options,o=marker;return e?(o=oe(o),o=n.add(o,r.defaultAllDayEventDuration)):o=n.add(o,r.defaultTimedEventDuration),o}function mn(e,t,n,r){var o=Yt(e.defs,t),c={defs:{},instances:{}};for(var l in e.defs){var h=e.defs[l];c.defs[l]=gn(h,o[l],n,r)}for(var d in e.instances){var f=e.instances[d];h=c.defs[f.defId];c.instances[d]=vn(f,h,o[f.defId],n,r)}return c}function gn(e,t,n,o){var c=n.standardProps||{};null==c.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(c.hasEnd=!0);var l=Object(r.a)(Object(r.a)(Object(r.a)({},e),c),{ui:Object(r.a)(Object(r.a)({},e.ui),c.ui)});n.extendedProps&&(l.extendedProps=Object(r.a)(Object(r.a)({},l.extendedProps),n.extendedProps));for(var h=0,d=o.pluginHooks.eventDefMutationAppliers;h<d.length;h++){(0,d[h])(l,n,o)}return!l.hasEnd&&o.options.forceEventDuration&&(l.hasEnd=!0),l}function vn(e,t,n,o,c){var l=c.dateEnv,h=o.standardProps&&!0===o.standardProps.allDay,d=o.standardProps&&!1===o.standardProps.hasEnd,f=Object(r.a)({},e);return h&&(f.range=Pt(f.range)),o.datesDelta&&n.startEditable&&(f.range={start:l.add(f.range.start,o.datesDelta),end:l.add(f.range.end,o.datesDelta)}),o.startDelta&&n.durationEditable&&(f.range={start:l.add(f.range.start,o.startDelta),end:f.range.end}),o.endDelta&&n.durationEditable&&(f.range={start:f.range.start,end:l.add(f.range.end,o.endDelta)}),d&&(f.range={start:f.range.start,end:pn(t.allDay,f.range.start,c)}),t.allDay&&(f.range={start:oe(f.range.start),end:oe(f.range.end)}),f.range.end<f.range.start&&(f.range.end=pn(t.allDay,f.range.start,c)),f}var yn=function(){function e(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}return Object.defineProperty(e.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),e.prototype.getOption=function(e){return this.getCurrentData().options[e]},e}(),bn={id:String,defaultAllDay:Boolean,url:String,format:String,events:mt,eventDataTransform:mt,success:mt,failure:mt};function wn(e,t,n){var r;if(void 0===n&&(n=_n(t)),"string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){var o=pt(r,n),c=o.refined,l=o.extra,h=function(e,t){for(var defs=t.pluginHooks.eventSourceDefs,i=defs.length-1;i>=0;i-=1){var meta=defs[i].parseMeta(e);if(meta)return{sourceDefId:i,meta:meta}}return null}(c,t);if(h)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:c.defaultAllDay,eventDataTransform:c.eventDataTransform,success:c.success,failure:c.failure,publicId:c.id||"",sourceId:U(),sourceDefId:h.sourceDefId,meta:h.meta,ui:Ot(c,t),extendedProps:l}}return null}function _n(e){return Object(r.a)(Object(r.a)(Object(r.a)({},St),bn),e.pluginHooks.eventSourceRefiners)}function En(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}var Sn=function(){function e(){}return e.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},e.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(e.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),e.prototype.batchRendering=function(e){e()},e.prototype.updateSize=function(){this.trigger("_resize",!0)},e.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},e.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},e.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},e.prototype.on=function(e,t){var n=this.currentDataManager;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},e.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},e.prototype.trigger=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this.currentDataManager.emitter).trigger.apply(t,Object(r.d)([e],n))},e.prototype.changeView=function(e,t){var n=this;this.batchRendering((function(){if(n.unselect(),t)if(t.start&&t.end)n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),n.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var r=n.getCurrentData().dateEnv;n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))},e.prototype.zoomTo=function(e,t){var n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},e.prototype.getUnitViewSpec=function(e){var i,t,n=this.getCurrentData(),r=n.viewSpecs,o=n.toolbarConfig,c=[].concat(o.header?o.header.viewsWithButtons:[],o.footer?o.footer.viewsWithButtons:[]);for(var l in r)c.push(l);for(i=0;i<c.length;i+=1)if((t=r[c[i]])&&t.singleUnit===e)return t;return null},e.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},e.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},e.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},e.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},e.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:En(e.calendarOptions.now,e.dateEnv)})},e.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},e.prototype.incrementDate=function(e){var t=this.getCurrentData(),n=ke(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))},e.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},e.prototype.formatDate=function(e,t){var n=this.getCurrentData().dateEnv;return n.format(n.createMarker(e),it(t))},e.prototype.formatRange=function(e,t,n){var r=this.getCurrentData().dateEnv;return r.formatRange(r.createMarker(e),r.createMarker(t),it(n),n)},e.prototype.formatIso=function(e,t){var n=this.getCurrentData().dateEnv;return n.formatIso(n.createMarker(e),{omitTime:t})},e.prototype.select=function(e,t){var n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};var r=this.getCurrentData(),o=an(n,r.dateEnv,ke({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),dn(o,null,r))},e.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))},e.prototype.addEvent=function(e,t){if(e instanceof Tn){var n=e._def,r=e._instance;return this.getCurrentData().eventStore.defs[n.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:vt({def:n,instance:r})}),this.triggerEventAdd(e)),e}var o,c=this.getCurrentData();if(t instanceof w)o=t.internalEventSource;else if("boolean"==typeof t)t&&(o=we(c.eventSources)[0]);else if(null!=t){var l=this.getEventSourceById(t);if(!l)return console.warn('Could not find an event source with ID "'+t+'"'),null;o=l.internalEventSource}var h=Rt(e,o,c,!1);if(h){var d=new Tn(c,h.def,h.def.recurringDef?null:h.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:vt(h)}),this.triggerEventAdd(d),d}return null},e.prototype.triggerEventAdd=function(e){var t=this;this.getCurrentData().emitter.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:On(e)})}})},e.prototype.getEventById=function(e){var t=this.getCurrentData(),n=t.eventStore,defs=n.defs,r=n.instances;for(var o in e=String(e),defs){var c=defs[o];if(c.publicId===e){if(c.recurringDef)return new Tn(t,c,null);for(var l in r){var h=r[l];if(h.defId===c.defId)return new Tn(t,c,h)}}}return null},e.prototype.getEvents=function(){var e=this.getCurrentData();return In(e.eventStore,e)},e.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},e.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,n=[];for(var r in t)n.push(new w(e,t[r]));return n},e.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),n=t.eventSources;for(var r in e=String(e),n)if(n[r].publicId===e)return new w(t,n[r]);return null},e.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof w)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var n=wn(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new w(t,n)):null},e.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},e.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},e.prototype.scrollToTime=function(e){var time=ke(e);time&&this.trigger("_scrollRequest",{time:time})},e}(),Tn=function(){function e(e,t,n){this._context=e,this._def=t,this._instance=n||null}return e.prototype.setProp=function(e,t){var n,r;if(e in kt)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=Ct[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Ct)t=Ct[e](t),this.mutate({standardProps:(n={},n[e]=t,n)});else if(e in St){var o=St[e](t);"color"===e?o={backgroundColor:t,borderColor:t}:"editable"===e?o={startEditable:t,durationEditable:t}:((r={})[e]=t,o=r),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},e.prototype.setExtendedProp=function(e,t){var n;this.mutate({extendedProps:(n={},n[e]=t,n)})},e.prototype.setStart=function(e,t){void 0===t&&(t={});var n=this._context.dateEnv,r=n.createMarker(e);if(r&&this._instance){var o=Lt(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}},e.prototype.setEnd=function(e,t){void 0===t&&(t={});var n,r=this._context.dateEnv;if((null==e||(n=r.createMarker(e)))&&this._instance)if(n){var o=Lt(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},e.prototype.setDates=function(e,t,n){void 0===n&&(n={});var r,o,c,l=this._context.dateEnv,h={allDay:n.allDay},d=l.createMarker(e);if(d&&((null==t||(r=l.createMarker(t)))&&this._instance)){var f=this._instance.range;!0===n.allDay&&(f=Pt(f));var m=Lt(f.start,d,l,n.granularity);if(r){var v=Lt(f.end,r,l,n.granularity);c=v,(o=m).years===c.years&&o.months===c.months&&o.days===c.days&&o.milliseconds===c.milliseconds?this.mutate({datesDelta:m,standardProps:h}):this.mutate({startDelta:m,endDelta:v,standardProps:h})}else h.hasEnd=!1,this.mutate({datesDelta:m,standardProps:h})}},e.prototype.moveStart=function(e){var t=ke(e);t&&this.mutate({startDelta:t})},e.prototype.moveEnd=function(e){var t=ke(e);t&&this.mutate({endDelta:t})},e.prototype.moveDates=function(e){var t=ke(e);t&&this.mutate({datesDelta:t})},e.prototype.setAllDay=function(e,t){void 0===t&&(t={});var n={allDay:e},r=t.maintainDuration;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})},e.prototype.formatRange=function(e){var t=this._context.dateEnv,n=this._instance,r=it(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})},e.prototype.mutate=function(t){var n=this._instance;if(n){var r=this._def,o=this._context,c=o.getCurrentData().eventStore,l=yt(c,n.instanceId);l=mn(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,o);var h=new e(o,r,n);this._def=l.defs[r.defId],this._instance=l.instances[n.instanceId],o.dispatch({type:"MERGE_EVENTS",eventStore:l}),o.emitter.trigger("eventChange",{oldEvent:h,event:this,relatedEvents:In(l,o,n),revert:function(){o.dispatch({type:"RESET_EVENTS",eventStore:c})}})}},e.prototype.remove=function(){var e=this._context,t=On(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(e.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new w(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),e.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._def,n=t.ui,o=this.startStr,c=this.endStr,l={};return t.title&&(l.title=t.title),o&&(l.start=o),c&&(l.end=c),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),n.display&&"auto"!==n.display&&(l.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?l.color=n.backgroundColor:(n.backgroundColor&&(l.backgroundColor=n.backgroundColor),n.borderColor&&(l.borderColor=n.borderColor)),n.textColor&&(l.textColor=n.textColor),n.classNames.length&&(l.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object(r.a)(l,t.extendedProps):l.extendedProps=t.extendedProps),l},e.prototype.toJSON=function(){return this.toPlainObject()},e}();function On(e){var t,n,r=e._def,o=e._instance;return{defs:(t={},t[r.defId]=r,t),instances:o?(n={},n[o.instanceId]=o,n):{}}}function In(e,t,n){var defs=e.defs,r=e.instances,o=[],c=n?n.instanceId:"";for(var l in r){var h=r[l],d=defs[h.defId];h.instanceId!==c&&o.push(new Tn(t,d,h))}return o}var xn={};var Cn,kn=function(){function e(){}return e.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},e.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},e.prototype.getMarkerDay=function(e){return e.getUTCDate()},e.prototype.arrayToMarker=function(e){return he(e)},e.prototype.markerToArray=function(marker){return le(marker)},e}();Cn=kn,xn["gregory"]=Cn;var Dn=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;var Rn=function(){function e(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new xn[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return e.prototype.createMarker=function(input){var meta=this.createMarkerMeta(input);return null===meta?null:meta.marker},e.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):he(ue(new Date))},e.prototype.createMarkerMeta=function(input){if("string"==typeof input)return this.parse(input);var marker=null;return"number"==typeof input?marker=this.timestampToMarker(input):input instanceof Date?(input=input.valueOf(),isNaN(input)||(marker=this.timestampToMarker(input))):Array.isArray(input)&&(marker=he(input)),null!==marker&&de(marker)?{marker:marker,isTimeUnspecified:!1,forcedTzo:null}:null},e.prototype.parse=function(s){var e=function(e){var t=Dn.exec(e);if(t){var marker=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(de(marker)){var n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:marker,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(s);if(null===e)return null;var marker=e.marker,t=null;return null!==e.timeZoneOffset&&(this.canComputeOffset?marker=this.timestampToMarker(marker.valueOf()-60*e.timeZoneOffset*1e3):t=e.timeZoneOffset),{marker:marker,isTimeUnspecified:e.isTimeUnspecified,forcedTzo:t}},e.prototype.getYear=function(marker){return this.calendarSystem.getMarkerYear(marker)},e.prototype.getMonth=function(marker){return this.calendarSystem.getMarkerMonth(marker)},e.prototype.add=function(marker,e){var a=this.calendarSystem.markerToArray(marker);return a[0]+=e.years,a[1]+=e.months,a[2]+=e.days,a[6]+=e.milliseconds,this.calendarSystem.arrayToMarker(a)},e.prototype.subtract=function(marker,e){var a=this.calendarSystem.markerToArray(marker);return a[0]-=e.years,a[1]-=e.months,a[2]-=e.days,a[6]-=e.milliseconds,this.calendarSystem.arrayToMarker(a)},e.prototype.addYears=function(marker,e){var a=this.calendarSystem.markerToArray(marker);return a[0]+=e,this.calendarSystem.arrayToMarker(a)},e.prototype.addMonths=function(marker,e){var a=this.calendarSystem.markerToArray(marker);return a[1]+=e,this.calendarSystem.arrayToMarker(a)},e.prototype.diffWholeYears=function(e,t){var n=this.calendarSystem;return fe(e)===fe(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null},e.prototype.diffWholeMonths=function(e,t){var n=this.calendarSystem;return fe(e)===fe(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null},e.prototype.greatestWholeUnit=function(e,t){var n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(e,t))?{unit:"month",value:n}:(n=function(e,t){var n=ie(e,t);return null!==n&&n%7==0?n/7:null}(e,t),null!==n?{unit:"week",value:n}:null!==(n=ie(e,t))?{unit:"day",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),X(n)?{unit:"hour",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),X(n)?{unit:"minute",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),X(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))},e.prototype.countDurationsBetween=function(e,t,n){var r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(Ne(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/function(e){return Ne(e)/30}(n):n.days&&null!==(r=ie(e,t))?r/Ne(n):(t.valueOf()-e.valueOf())/je(n)},e.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?oe(e):"hour"===t?function(e){return he([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return he([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return he([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null},e.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},e.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},e.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},e.prototype.computeWeekNumber=function(marker){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(marker)):function(marker,e,t){var n=marker.getUTCFullYear(),r=se(marker,n,e,t);if(r<1)return se(marker,n-1,e,t);var o=se(marker,n+1,e,t);return o>=1?Math.min(r,o):r}(marker,this.weekDow,this.weekDoy)},e.prototype.format=function(marker,e,t){return void 0===t&&(t={}),e.format({marker:marker,timeZoneOffset:null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(marker)},this)},e.prototype.formatRange=function(e,t,n,r){return void 0===r&&(r={}),r.isEndExclusive&&(t=te(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)},e.prototype.formatIso=function(marker,e){void 0===e&&(e={});var t=null;return e.omitTimeZoneOffset||(t=null!=e.forcedTzo?e.forcedTzo:this.offsetForMarker(marker)),Le(marker,t,e.omitTime)},e.prototype.timestampToMarker=function(e){return"local"===this.timeZone?he(ue(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?he(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},e.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-ce(le(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(le(e)):null},e.prototype.toDate=function(e,t){return"local"===this.timeZone?ce(le(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(le(e))*60):new Date(e.valueOf()-(t||0))},e}(),An=[],Nn={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},jn=Object(r.a)(Object(r.a)({},Nn),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(e,t){return"day"===t?"Today":"This "+e}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(e){return"Show "+e+" more event"+(1===e?"":"s")}});function Pn(e){for(var t=e.length>0?e[0].code:"en",n=An.concat(e),r={en:jn},o=0,c=n;o<c.length;o++){var l=c[o];r[l.code]=l}return{map:r,defaultCode:t}}function Mn(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){var n=[].concat(e||[]),r=function(e,t){for(var i=0;i<e.length;i+=1)for(var n=e[i].toLocaleLowerCase().split("-"),r=n.length;r>0;r-=1){var o=n.slice(0,r).join("-");if(t[o])return t[o]}return null}(n,t)||jn;return Ln(e,n,r)}(e,t):Ln(e.code,[e.code],e)}function Ln(e,t,n){var r=ge([Nn,n],["buttonText"]);delete r.code;var o=r.week;return delete r.week,{codeArg:e,codes:t,week:o,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}var Un,Fn={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Vn(input,e){return gt(function(input){var e;e=!0===input?[{}]:Array.isArray(input)?input.filter((function(e){return e.daysOfWeek})):"object"==typeof input&&input?[input]:[];return e=e.map((function(e){return Object(r.a)(Object(r.a)({},Fn),e)}))}(input),null,e)}function Bn(e,rect){return e.left>=rect.left&&e.left<rect.right&&e.top>=rect.top&&e.top<rect.bottom}function $n(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Hn(e,rect){return{left:Math.min(Math.max(e.left,rect.left),rect.right),top:Math.min(Math.max(e.top,rect.top),rect.bottom)}}function qn(rect){return{left:(rect.left+rect.right)/2,top:(rect.top+rect.bottom)/2}}function zn(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Wn(){return null==Un&&(Un=function(){if("undefined"==typeof document)return!0;var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);var t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),Un}var Gn={defs:{},instances:{}},Yn=function(){function e(){this.getKeysForEventDefs=$e(this._getKeysForEventDefs),this.splitDateSelection=$e(this._splitDateSpan),this.splitEventStore=$e(this._splitEventStore),this.splitIndividualUi=$e(this._splitIndividualUi),this.splitEventDrag=$e(this._splitInteraction),this.splitEventResize=$e(this._splitInteraction),this.eventUiBuilders={}}return e.prototype.splitProps=function(e){var t=this,n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),c=this.splitIndividualUi(e.eventUiBases,r),l=this.splitEventStore(e.eventStore,r),h=this.splitEventDrag(e.eventDrag),d=this.splitEventResize(e.eventResize),f={};for(var m in this.eventUiBuilders=ye(n,(function(e,n){return t.eventUiBuilders[n]||$e(Kn)})),n){var v=n[m],y=l[m]||Gn,w=this.eventUiBuilders[m];f[m]={businessHours:v.businessHours||e.businessHours,dateSelection:o[m]||null,eventStore:y,eventUiBases:w(e.eventUiBases[""],v.ui,c[m]),eventSelection:y.instances[e.eventSelection]?e.eventSelection:"",eventDrag:h[m]||null,eventResize:d[m]||null}}return f},e.prototype._splitDateSpan=function(e){var t={};if(e)for(var n=0,r=this.getKeysForDateSpan(e);n<r.length;n++){t[r[n]]=e}return t},e.prototype._getKeysForEventDefs=function(e){var t=this;return ye(e.defs,(function(e){return t.getKeysForEventDef(e)}))},e.prototype._splitEventStore=function(e,t){var defs=e.defs,n=e.instances,r={};for(var o in defs)for(var c=0,l=t[o];c<l.length;c++){r[v=l[c]]||(r[v]={defs:{},instances:{}}),r[v].defs[o]=defs[o]}for(var h in n)for(var d=n[h],f=0,m=t[d.defId];f<m.length;f++){var v;r[v=m[f]]&&(r[v].instances[h]=d)}return r},e.prototype._splitIndividualUi=function(e,t){var n={};for(var r in e)if(r)for(var o=0,c=t[r];o<c.length;o++){var l=c[o];n[l]||(n[l]={}),n[l][r]=e[r]}return n},e.prototype._splitInteraction=function(e){var t={};if(e){var n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),c=function(r){t[r]||(t[r]={affectedEvents:n[r]||Gn,mutatedEvents:o[r]||Gn,isEvent:e.isEvent})};for(var l in n)c(l);for(var l in o)c(l)}return t},e}();function Kn(e,t,n){var o=[];e&&o.push(e),t&&o.push(t);var c={"":It(o)};return n&&Object(r.a)(c,n),c}function Xn(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&!Ht(r.activeRange,e)),isOther:Boolean(r&&!Ht(r.currentRange,e)),isToday:Boolean(t&&Ht(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function Zn(meta,e){var t=["fc-day","fc-day-"+Q[meta.dow]];return meta.isDisabled?t.push("fc-day-disabled"):(meta.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),meta.isPast&&t.push("fc-day-past"),meta.isFuture&&t.push("fc-day-future"),meta.isOther&&t.push("fc-day-other")),t}var Qn=it({year:"numeric",month:"long",day:"numeric"}),Jn=it({week:"long"});function er(e,t,n,o){void 0===n&&(n="day"),void 0===o&&(o=!0);var c=e.dateEnv,l=e.options,h=e.calendarApi,d=c.format(t,"week"===n?Jn:Qn);if(l.navLinks){var f=c.toDate(t),m=function(e){var r="day"===n?l.navLinkDayClick:"week"===n?l.navLinkWeekClick:null;"function"==typeof r?r.call(h,c.toDate(t),e):("string"==typeof r&&(n=r),h.zoomTo(t,n))};return Object(r.a)({title:Y(l.navLinkHint,[d,f],d),"data-navlink":""},o?P(m):{onClick:m})}return{"aria-label":d}}var nr,rr=null;function ir(){return null===rr&&(rr=function(){var e=document.createElement("div");O(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);var t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return _(e),t}()),rr}function or(){return nr||(nr=function(){var e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);var t=sr(e);return document.body.removeChild(e),t}()),nr}function sr(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function ar(e,t,n){void 0===t&&(t=!1);var r=n?e.getBoundingClientRect():ur(e),o=function(e,t){void 0===t&&(t=!1);var n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,o=parseInt(n.borderRightWidth,10)||0,c=parseInt(n.borderTopWidth,10)||0,l=parseInt(n.borderBottomWidth,10)||0,h=sr(e),d=h.y-r-o,f={borderLeft:r,borderRight:o,borderTop:c,borderBottom:l,scrollbarBottom:h.x-c-l,scrollbarLeft:0,scrollbarRight:0};return ir()&&"rtl"===n.direction?f.scrollbarLeft=d:f.scrollbarRight=d,t&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}(e,t),c={left:r.left+o.borderLeft+o.scrollbarLeft,right:r.right-o.borderRight-o.scrollbarRight,top:r.top+o.borderTop,bottom:r.bottom-o.borderBottom-o.scrollbarBottom};return t&&(c.left+=o.paddingLeft,c.right-=o.paddingRight,c.top+=o.paddingTop,c.bottom-=o.paddingBottom),c}function ur(e){var rect=e.getBoundingClientRect();return{left:rect.left+window.pageXOffset,top:rect.top+window.pageYOffset,right:rect.right+window.pageXOffset,bottom:rect.bottom+window.pageYOffset}}function cr(e){for(var t=[];e instanceof HTMLElement;){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}var lr=function(){function e(){this.handlers={},this.thisContext=null}return e.prototype.setThisContext=function(e){this.thisContext=e},e.prototype.setOptions=function(e){this.options=e},e.prototype.on=function(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)},e.prototype.off=function(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter((function(e){return e!==n}))):delete e[t]}(this.handlers,e,t)},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=this.handlers[e]||[],o=this.options&&this.options[e],c=[].concat(o||[],r),l=0,h=c;l<h.length;l++){var d=h[l];d.apply(this.thisContext,t)}},e.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},e}();var dr=function(){function e(e,t,n,r){this.els=t;var o=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}return e.prototype.buildElHorizontals=function(e){for(var t=[],n=[],r=0,o=this.els;r<o.length;r++){var rect=o[r].getBoundingClientRect();t.push(rect.left-e),n.push(rect.right-e)}this.lefts=t,this.rights=n},e.prototype.buildElVerticals=function(e){for(var t=[],n=[],r=0,o=this.els;r<o.length;r++){var rect=o[r].getBoundingClientRect();t.push(rect.top-e),n.push(rect.bottom-e)}this.tops=t,this.bottoms=n},e.prototype.leftToIndex=function(e){var i,t=this.lefts,n=this.rights,r=t.length;for(i=0;i<r;i+=1)if(e>=t[i]&&e<n[i])return i},e.prototype.topToIndex=function(e){var i,t=this.tops,n=this.bottoms,r=t.length;for(i=0;i<r;i+=1)if(e>=t[i]&&e<n[i])return i},e.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},e.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},e}(),fr=function(){function e(){}return e.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},e.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},e.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},e.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},e.prototype.canScrollUp=function(){return this.getScrollTop()>0},e.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},e.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},e.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},e}(),pr=function(e){function t(t){var n=e.call(this)||this;return n.el=t,n}return Object(r.b)(t,e),t.prototype.getScrollTop=function(){return this.el.scrollTop},t.prototype.getScrollLeft=function(){return this.el.scrollLeft},t.prototype.setScrollTop=function(e){this.el.scrollTop=e},t.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},t.prototype.getScrollWidth=function(){return this.el.scrollWidth},t.prototype.getScrollHeight=function(){return this.el.scrollHeight},t.prototype.getClientHeight=function(){return this.el.clientHeight},t.prototype.getClientWidth=function(){return this.el.clientWidth},t}(fr),mr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(fr),gr=function(){function e(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return e.prototype.setIconOverride=function(e){var t,n;if("object"==typeof e&&e){for(n in t=Object(r.a)({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},e.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},e.prototype.getClass=function(e){return this.classes[e]||""},e.prototype.getIconClass=function(e,t){var n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?this.baseIconClass+" "+n:""},e.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},e}();gr.prototype.classes={},gr.prototype.iconClasses={},gr.prototype.baseIconClass="",gr.prototype.iconOverridePrefix="";var vr=function(){function e(e,t,n,o){var c=this;this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=o,this.handleScrollRequest=function(e){c.queuedRequest=Object(r.a)({},c.queuedRequest||{},e),c.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return e.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},e.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},e.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},e.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},e}(),yr=f({});function wr(e,t,n,r,o,c,l,h,d,f,m,v,y){return{dateEnv:o,options:n,pluginHooks:l,emitter:f,dispatch:h,getCurrentData:d,calendarApi:m,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:c,isRtl:"rtl"===n.direction,addResizeHandler:function(e){f.on("_resize",e)},removeResizeHandler:function(e){f.off("_resize",e)},createScrollResponder:function(e){return new vr(e,f,ke(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:v,unregisterInteractiveComponent:y}}var _r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.debug&&console.log(Ee(e,this.props),Ee(t,this.state)),!Se(this.props,e,this.propEquality)||!Se(this.state,t,this.stateEquality)},t.addPropsEquality=Sr,t.addStateEquality=Tr,t.contextType=yr,t}(o);_r.prototype.propEquality={},_r.prototype.stateEquality={};var Er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.contextType=yr,t}(_r);function Sr(e){var t=Object.create(this.prototype.propEquality);Object(r.a)(t,e),this.prototype.propEquality=t}function Tr(e){var t=Object.create(this.prototype.stateEquality);Object(r.a)(t,e),this.prototype.stateEquality=t}function Or(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uid=U(),t}return Object(r.b)(t,e),t.prototype.prepareHits=function(){},t.prototype.queryHit=function(e,t,n,r){return null},t.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!E(e,".fc-event-mirror")},t.prototype.isValidDateDownEl=function(e){return!(E(e,".fc-event:not(.fc-bg-event)")||E(e,".fc-more-link")||E(e,"a[data-navlink]")||E(e,".fc-popover"))},t}(Er);function xr(input){return{id:U(),deps:input.deps||[],reducers:input.reducers||[],isLoadingFuncs:input.isLoadingFuncs||[],contextInit:[].concat(input.contextInit||[]),eventRefiners:input.eventRefiners||{},eventDefMemberAdders:input.eventDefMemberAdders||[],eventSourceRefiners:input.eventSourceRefiners||{},isDraggableTransformers:input.isDraggableTransformers||[],eventDragMutationMassagers:input.eventDragMutationMassagers||[],eventDefMutationAppliers:input.eventDefMutationAppliers||[],dateSelectionTransformers:input.dateSelectionTransformers||[],datePointTransforms:input.datePointTransforms||[],dateSpanTransforms:input.dateSpanTransforms||[],views:input.views||{},viewPropsTransformers:input.viewPropsTransformers||[],isPropsValid:input.isPropsValid||null,externalDefTransforms:input.externalDefTransforms||[],viewContainerAppends:input.viewContainerAppends||[],eventDropTransformers:input.eventDropTransformers||[],componentInteractions:input.componentInteractions||[],calendarInteractions:input.calendarInteractions||[],themeClasses:input.themeClasses||{},eventSourceDefs:input.eventSourceDefs||[],cmdFormatter:input.cmdFormatter,recurringTypes:input.recurringTypes||[],namedTimeZonedImpl:input.namedTimeZonedImpl,initialView:input.initialView||"",elementDraggingImpl:input.elementDraggingImpl,optionChangeHandlers:input.optionChangeHandlers||{},scrollGridImpl:input.scrollGridImpl||null,contentTypeHandlers:input.contentTypeHandlers||{},listenerRefiners:input.listenerRefiners||{},optionRefiners:input.optionRefiners||{},propSetHandlers:input.propSetHandlers||{}}}function Cr(){var e,t=[],n=[];return function(o,c){return e&&Be(o,t)&&Be(c,n)||(e=function(e,t){var n={},o={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function c(defs){for(var e=0,t=defs;e<t.length;e++){var l=t[e];n[l.id]||(n[l.id]=!0,c(l.deps),d=l,o={reducers:(h=o).reducers.concat(d.reducers),isLoadingFuncs:h.isLoadingFuncs.concat(d.isLoadingFuncs),contextInit:h.contextInit.concat(d.contextInit),eventRefiners:Object(r.a)(Object(r.a)({},h.eventRefiners),d.eventRefiners),eventDefMemberAdders:h.eventDefMemberAdders.concat(d.eventDefMemberAdders),eventSourceRefiners:Object(r.a)(Object(r.a)({},h.eventSourceRefiners),d.eventSourceRefiners),isDraggableTransformers:h.isDraggableTransformers.concat(d.isDraggableTransformers),eventDragMutationMassagers:h.eventDragMutationMassagers.concat(d.eventDragMutationMassagers),eventDefMutationAppliers:h.eventDefMutationAppliers.concat(d.eventDefMutationAppliers),dateSelectionTransformers:h.dateSelectionTransformers.concat(d.dateSelectionTransformers),datePointTransforms:h.datePointTransforms.concat(d.datePointTransforms),dateSpanTransforms:h.dateSpanTransforms.concat(d.dateSpanTransforms),views:Object(r.a)(Object(r.a)({},h.views),d.views),viewPropsTransformers:h.viewPropsTransformers.concat(d.viewPropsTransformers),isPropsValid:d.isPropsValid||h.isPropsValid,externalDefTransforms:h.externalDefTransforms.concat(d.externalDefTransforms),viewContainerAppends:h.viewContainerAppends.concat(d.viewContainerAppends),eventDropTransformers:h.eventDropTransformers.concat(d.eventDropTransformers),calendarInteractions:h.calendarInteractions.concat(d.calendarInteractions),componentInteractions:h.componentInteractions.concat(d.componentInteractions),themeClasses:Object(r.a)(Object(r.a)({},h.themeClasses),d.themeClasses),eventSourceDefs:h.eventSourceDefs.concat(d.eventSourceDefs),cmdFormatter:d.cmdFormatter||h.cmdFormatter,recurringTypes:h.recurringTypes.concat(d.recurringTypes),namedTimeZonedImpl:d.namedTimeZonedImpl||h.namedTimeZonedImpl,initialView:h.initialView||d.initialView,elementDraggingImpl:h.elementDraggingImpl||d.elementDraggingImpl,optionChangeHandlers:Object(r.a)(Object(r.a)({},h.optionChangeHandlers),d.optionChangeHandlers),scrollGridImpl:d.scrollGridImpl||h.scrollGridImpl,contentTypeHandlers:Object(r.a)(Object(r.a)({},h.contentTypeHandlers),d.contentTypeHandlers),listenerRefiners:Object(r.a)(Object(r.a)({},h.listenerRefiners),d.listenerRefiners),optionRefiners:Object(r.a)(Object(r.a)({},h.optionRefiners),d.optionRefiners),propSetHandlers:Object(r.a)(Object(r.a)({},h.propSetHandlers),d.propSetHandlers)})}var h,d}return e&&c(e),c(t),o}(o,c)),t=o,n=c,e}}var kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t}(gr);function Dr(e,t,n,o){if(t[e])return t[e];var c=function(e,t,n,o){var c=n[e],l=o[e],h=function(e){return c&&null!==c[e]?c[e]:l&&null!==l[e]?l[e]:null},d=h("component"),f=h("superType"),m=null;if(f){if(f===e)throw new Error("Can't have a custom view type that references itself");m=Dr(f,t,n,o)}!d&&m&&(d=m.component);if(!d)return null;return{type:e,component:d,defaults:Object(r.a)(Object(r.a)({},m?m.defaults:{}),c?c.rawOptions:{}),overrides:Object(r.a)(Object(r.a)({},m?m.overrides:{}),l?l.rawOptions:{})}}(e,t,n,o);return c&&(t[e]=c),c}kr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},kr.prototype.baseIconClass="fc-icon",kr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},kr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},kr.prototype.iconOverrideOption="buttonIcons",kr.prototype.iconOverrideCustomButtonOption="icon",kr.prototype.iconOverridePrefix="fc-icon-";var Rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=h(),t.handleRootEl=function(e){Or(t.rootElRef,e),t.props.elRef&&Or(t.props.elRef,e)},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.hookProps;return c(Pr,{hookProps:n,didMount:t.didMount,willUnmount:t.willUnmount,elRef:this.handleRootEl},(function(r){return c(Nr,{hookProps:n,content:t.content,defaultContent:t.defaultContent,backupElRef:e.rootElRef},(function(e,o){return t.children(r,Lr(t.classNames,n),e,o)}))}))},t}(Er),Ar=f(0);function Nr(e){return c(Ar.Consumer,null,(function(t){return c(jr,Object(r.a)({renderId:t},e))}))}var jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerElRef=h(),t}return Object(r.b)(t,e),t.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},t.prototype.componentDidMount=function(){this.updateCustomContent()},t.prototype.componentDidUpdate=function(){this.updateCustomContent()},t.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},t.prototype.renderInnerContent=function(){var e=this.customContentInfo,t=this.getInnerContent(),meta=this.getContentMeta(t);return e&&e.contentKey===meta.contentKey?e&&(e.contentVal=t[meta.contentKey]):(e&&(e.destroy&&e.destroy(),e=this.customContentInfo=null),meta.contentKey&&(e=this.customContentInfo=Object(r.a)({contentKey:meta.contentKey,contentVal:t[meta.contentKey]},meta.buildLifecycleFuncs()))),e?[]:t},t.prototype.getInnerContent=function(){var e=this.props,t=Ur(e.content,e.hookProps);return void 0===t&&(t=Ur(e.defaultContent,e.hookProps)),null==t?null:t},t.prototype.getContentMeta=function(e){var t=this.context.pluginHooks.contentTypeHandlers,n="",r=null;if(e)for(var o in t)if(void 0!==e[o]){n=o,r=t[o];break}return{contentKey:n,buildLifecycleFuncs:r}},t.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},t}(Er),Pr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Or(t.props.elRef,e)},t}return Object(r.b)(t,e),t.prototype.render=function(){return this.props.children(this.handleRootEl)},t.prototype.componentDidMount=function(){var e=this.props.didMount;e&&e(Object(r.a)(Object(r.a)({},this.props.hookProps),{el:this.rootEl}))},t.prototype.componentWillUnmount=function(){var e=this.props.willUnmount;e&&e(Object(r.a)(Object(r.a)({},this.props.hookProps),{el:this.rootEl}))},t}(Er);function Mr(){var e,t,n=[];return function(r,o){return t&&_e(t,o)&&r===e||(e=r,t=o,n=Lr(r,o)),n}}function Lr(e,t){return"function"==typeof e&&(e=e(t)),Et(e)}function Ur(input,e){return"function"==typeof input?input(e,c):input}var Fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalizeClassNames=Mr(),t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r={view:t.viewApi},o=this.normalizeClassNames(n.viewClassNames,r);return c(Pr,{hookProps:r,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount,elRef:e.elRef},(function(t){return e.children(t,["fc-"+e.viewSpec.type+"-view","fc-view"].concat(o))}))},t}(Er);function Vr(e){return ye(e,Br)}function Br(input){var e,t="function"==typeof input?{component:input}:input,component=t.component;return t.content&&(e=t,component=function(t){return c(yr.Consumer,null,(function(n){return c(Fr,{viewSpec:n.viewSpec},(function(o,l){var h=Object(r.a)(Object(r.a)({},t),{nextDayThreshold:n.options.nextDayThreshold});return c(Rr,{hookProps:h,classNames:e.classNames,content:e.content,didMount:e.didMount,willUnmount:e.willUnmount,elRef:o},(function(e,t,n,r){return c("div",{className:l.concat(t).join(" "),ref:e},r)}))}))}))}),{superType:t.type,component:component,rawOptions:t}}function $r(e,t,n,o){var c=Vr(e),l=Vr(t.views),h=function(e,t){var n,r={};for(n in e)Dr(n,r,e,t);for(n in t)Dr(n,r,e,t);return r}(c,l);return ye(h,(function(e){return function(e,t,n,o,c){var l=e.overrides.duration||e.defaults.duration||o.duration||n.duration,h=null,d="",f="",m={};if(l&&(h=function(e){var t=JSON.stringify(e),n=Hr[t];void 0===n&&(n=ke(e),Hr[t]=n);return n}(l),h)){var v=Me(h);d=v.unit,1===v.value&&(f=d,m=t[d]?t[d].rawOptions:{})}var y=function(t){var n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[f]?n[f]:null},w=function(t){var n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[f]?n[f]:null};return{type:e.type,component:e.component,duration:h,durationUnit:d,singleUnit:f,optionDefaults:e.defaults,optionOverrides:Object(r.a)(Object(r.a)({},m),e.overrides),buttonTextOverride:y(o)||y(n)||e.overrides.buttonText,buttonTextDefault:y(c)||e.defaults.buttonText||y(st)||e.type,buttonTitleOverride:w(o)||w(n)||e.overrides.buttonHint,buttonTitleDefault:w(c)||e.defaults.buttonHint||w(st)}}(e,l,t,n,o)}))}var Hr={};var qr=function(){function e(e){this.props=e,this.nowDate=En(e.nowInput,e.dateEnv),this.initHiddenDays()}return e.prototype.buildPrev=function(e,t,n){var r=this.props.dateEnv,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,n)},e.prototype.buildNext=function(e,t,n){var r=this.props.dateEnv,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,n)},e.prototype.build=function(e,t,n){void 0===n&&(n=!0);var r,o,c,l,h,d,f,m,v=this.props;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(f=e,e=null!=(m=r).start&&f<m.start?m.start:null!=m.end&&f>=m.end?new Date(m.end.valueOf()-1):f),o=this.buildCurrentRangeInfo(e,t),c=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,c),h=l=this.trimHiddenDays(l),v.showNonCurrentDates||(h=Vt(h,o.range)),h=Vt(h=this.adjustActiveRange(h),r),d=Bt(o.range,r),{validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:c,activeRange:h,renderRange:l,slotMinTime:v.slotMinTime,slotMaxTime:v.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}},e.prototype.buildValidRange=function(){var input=this.props.validRangeInput,e="function"==typeof input?input.call(this.props.calendarApi,this.nowDate):input;return this.refineRange(e)||{start:null,end:null}},e.prototype.buildCurrentRangeInfo=function(e,t){var n,r=this.props,o=null,c=null,l=null;return r.duration?(o=r.duration,c=r.durationUnit,l=this.buildRangeFromDuration(e,t,o,c)):(n=this.props.dayCount)?(c="day",l=this.buildRangeFromDayCount(e,t,n)):(l=this.buildCustomVisibleRange(e))?c=r.dateEnv.greatestWholeUnit(l.start,l.end).unit:(c=Me(o=this.getFallbackDuration()).unit,l=this.buildRangeFromDuration(e,t,o,c)),{duration:o,unit:c,range:l}},e.prototype.getFallbackDuration=function(){return ke({day:1})},e.prototype.adjustActiveRange=function(e){var t=this.props,n=t.dateEnv,r=t.usesMinMaxTime,o=t.slotMinTime,c=t.slotMaxTime,l=e.start,h=e.end;return r&&(Ne(o)<0&&(l=oe(l),l=n.add(l,o)),Ne(c)>1&&(h=ee(h=oe(h),-1),h=n.add(h,c))),{start:l,end:h}},e.prototype.buildRangeFromDuration=function(e,t,n,r){var o,c,l,h=this.props,d=h.dateEnv,f=h.dateAlignment;if(!f){var m=this.props.dateIncrement;f=m&&je(m)<je(n)?Me(m).unit:r}function v(){o=d.startOf(e,f),c=d.add(o,n),l={start:o,end:c}}return Ne(n)<=1&&this.isHiddenDay(o)&&(o=oe(o=this.skipHiddenDays(o,t))),v(),this.trimHiddenDays(l)||(e=this.skipHiddenDays(e,t),v()),l},e.prototype.buildRangeFromDayCount=function(e,t,n){var r,o=this.props,c=o.dateEnv,l=o.dateAlignment,h=0,d=e;l&&(d=c.startOf(d,l)),d=oe(d),r=d=this.skipHiddenDays(d,t);do{r=ee(r,1),this.isHiddenDay(r)||(h+=1)}while(h<n);return{start:d,end:r}},e.prototype.buildCustomVisibleRange=function(e){var t=this.props,input=t.visibleRangeInput,n="function"==typeof input?input.call(t.calendarApi,t.dateEnv.toDate(e)):input,r=this.refineRange(n);return!r||null!=r.start&&null!=r.end?r:null},e.prototype.buildRenderRange=function(e,t,n){return e},e.prototype.buildDateIncrement=function(e){var t,n=this.props.dateIncrement;return n||((t=this.props.dateAlignment)?ke(1,t):e||ke({days:1}))},e.prototype.refineRange=function(e){if(e){var t=(input=e,n=this.props.dateEnv,r=null,o=null,input.start&&(r=n.createMarker(input.start)),input.end&&(o=n.createMarker(input.end)),r||o?r&&o&&o<r?null:{start:r,end:o}:null);return t&&(t=Mt(t)),t}var input,n,r,o;return null},e.prototype.initHiddenDays=function(){var i,e=this.props.hiddenDays||[],t=[],n=0;for(!1===this.props.weekends&&e.push(0,6),i=0;i<7;i+=1)(t[i]=-1!==e.indexOf(i))||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t},e.prototype.trimHiddenDays=function(e){var t=e.start,n=e.end;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null},e.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},e.prototype.skipHiddenDays=function(e,t,n){for(void 0===t&&(t=1),void 0===n&&(n=!1);this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=ee(e,t);return e},e}();function zr(e,t,n){var r=t?t.activeRange:null;return Yr({},function(e,t){var n=_n(t),r=[].concat(e.eventSources||[]),o=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(var c=0,l=r;c<l.length;c++){var source=wn(l[c],t,n);source&&o.push(source)}return o}(e,n),r,n)}function Wr(e,t,n,o){var c,l,h=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Yr(e,t.sources,h,o);case"REMOVE_EVENT_SOURCE":return c=e,l=t.sourceId,ve(c,(function(e){return e.sourceId!==l}));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Kr(e,h,o):e;case"FETCH_EVENT_SOURCES":return Xr(e,t.sourceIds?be(t.sourceIds):Qr(e,o),h,t.isRefetch||!1,o);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,o){var c,l=e[t];if(l&&n===l.latestFetchId)return Object(r.a)(Object(r.a)({},e),((c={})[t]=Object(r.a)(Object(r.a)({},l),{isFetching:!1,fetchRange:o}),c));return e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function Gr(e){for(var t in e)if(e[t].isFetching)return!0;return!1}function Yr(e,t,n,o){for(var c={},l=0,h=t;l<h.length;l++){var source=h[l];c[source.sourceId]=source}return n&&(c=Kr(c,n,o)),Object(r.a)(Object(r.a)({},e),c)}function Kr(e,t,n){return Xr(e,ve(e,(function(e){return function(e,t,n){if(!Jr(e,n))return!e.latestFetchId;return!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end}(e,t,n)})),t,!1,n)}function Xr(e,t,n,r,o){var c={};for(var l in e){var source=e[l];t[l]?c[l]=Zr(source,n,r,o):c[l]=source}return c}function Zr(e,t,n,o){var c=o.options,l=o.calendarApi,h=o.pluginHooks.eventSourceDefs[e.sourceDefId],d=U();return h.fetch({eventSource:e,range:t,isRefetch:n,context:o},(function(n){var r=n.rawEvents;c.eventSourceSuccess&&(r=c.eventSourceSuccess.call(l,r,n.xhr)||r),e.success&&(r=e.success.call(l,r,n.xhr)||r),o.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:d,fetchRange:t,rawEvents:r})}),(function(n){console.warn(n.message,n),c.eventSourceFailure&&c.eventSourceFailure.call(l,n),e.failure&&e.failure(n),o.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:d,fetchRange:t,error:n})})),Object(r.a)(Object(r.a)({},e),{isFetching:!0,latestFetchId:d})}function Qr(e,t){return ve(e,(function(e){return Jr(e,t)}))}function Jr(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function ei(e,t,n,r,o){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,o,c){if(t&&n===t.latestFetchId){var l=gt(function(e,t,n){var r=n.options.eventDataTransform,o=t?t.eventDataTransform:null;o&&(e=ti(e,o));r&&(e=ti(e,r));return e}(o,t,c),t,c);return r&&(l=Oe(l,r,c)),wt(ni(e,t.sourceId),l)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,o);case"ADD_EVENTS":return function(e,t,n,r){n&&(t=Oe(t,n,r));return wt(e,t)}(e,t.eventStore,r?r.activeRange:null,o);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return wt(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Oe(e,r.activeRange,o):e;case"REMOVE_EVENTS":return function(e,sub){var defs=e.defs,t=e.instances,n={},r={};for(var o in defs)sub.defs[o]||(n[o]=defs[o]);for(var c in t)!sub.instances[c]&&n[t[c].defId]&&(r[c]=t[c]);return{defs:n,instances:r}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return ni(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return _t(e,(function(e){return!e.sourceId}));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}function ti(e,t){var n;if(t){n=[];for(var r=0,o=e;r<o.length;r++){var c=o[r],l=t(c);l?n.push(l):null==l&&n.push(c)}}else n=e;return n}function ni(e,t){return _t(e,(function(e){return e.sourceId!==t}))}function ri(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function ii(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function oi(e,t){var n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function si(e,t){var n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function ai(e,t,n,r,o){return{header:e.headerToolbar?ui(e.headerToolbar,e,t,n,r,o):null,footer:e.footerToolbar?ui(e.footerToolbar,e,t,n,r,o):null}}function ui(e,t,n,r,o,c){var l={},h=[],d=!1;for(var f in e){var m=ci(e[f],t,n,r,o,c);l[f]=m.widgets,h.push.apply(h,m.viewsWithButtons),d=d||m.hasTitle}return{sectionWidgets:l,viewsWithButtons:h,hasTitle:d}}function ci(e,t,n,r,o,c){var l="rtl"===t.direction,h=t.customButtons||{},d=n.buttonText||{},f=t.buttonText||{},m=n.buttonHints||{},v=t.buttonHints||{},y=e?e.split(" "):[],w=[],_=!1;return{widgets:y.map((function(e){return e.split(",").map((function(e){if("title"===e)return _=!0,{buttonName:e};var n,y,E,S,T,O;if(n=h[e])E=function(e){n.click&&n.click.call(e.target,e,e.target)},(S=r.getCustomButtonIconClass(n))||(S=r.getIconClass(e,l))||(T=n.text),O=n.hint||n.text;else if(y=o[e]){w.push(e),E=function(){c.changeView(e)},(T=y.buttonTextOverride)||(S=r.getIconClass(e,l))||(T=y.buttonTextDefault);var I=y.buttonTextOverride||y.buttonTextDefault;O=Y(y.buttonTitleOverride||y.buttonTitleDefault||t.viewHint,[I,e],I)}else if(c[e])if(E=function(){c[e]()},(T=d[e])||(S=r.getIconClass(e,l))||(T=f[e]),"prevYear"===e||"nextYear"===e){var x="prevYear"===e?"prev":"next";O=Y(m[x]||v[x],[f.year||"year","year"],f[e])}else O=function(t){return Y(m[e]||v[e],[f[t]||t,t],f[e])};return{buttonName:e,buttonClick:E,buttonIcon:S,buttonText:T,buttonHint:O}}))})),viewsWithButtons:w,hasTitle:_}}var hi={parseMeta:function(e){return"function"==typeof e.events?e.events:null},fetch:function(e,t,n){var r=e.context.dateEnv;!function(e,t,n){var r=!1,o=function(){r||(r=!0,t.apply(this,arguments))},c=function(){r||(r=!0,n&&n.apply(this,arguments))},l=e(o,c);l&&"function"==typeof l.then&&l.then(o,c)}(e.eventSource.meta.bind(null,cn(e.range,r)),(function(e){t({rawEvents:e})}),n)}};function di(e,t,n,r,o){var body=null;"GET"===(e=e.toUpperCase())?t=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+fi(t)}(t,n):body=fi(n);var c=new XMLHttpRequest;c.open(e,t,!0),"GET"!==e&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onload=function(){if(c.status>=200&&c.status<400){var e=!1,t=void 0;try{t=JSON.parse(c.responseText),e=!0}catch(e){}e?r(t,c):o("Failure parsing JSON",c)}else o("Request failed",c)},c.onerror=function(){o("Request failed",c)},c.send(body)}function fi(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function pi(e,t){for(var n=we(t.getCurrentData().eventSources),r=[],o=0,c=e;o<c.length;o++){for(var input=c[o],l=!1,i=0;i<n.length;i+=1)if(n[i]._raw===input){n.splice(i,1),l=!0;break}l||r.push(input)}for(var h=0,d=n;h<d.length;h++){var f=d[h];t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:f.sourceId})}for(var m=0,v=r;m<v.length;m++){var y=v[m];t.calendarApi.addEventSource(y)}}var mi=[xr({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(e){return Array.isArray(e.events)?e.events:null},fetch:function(e,t){t({rawEvents:e.eventSource.meta})}}]}),xr({eventSourceDefs:[hi]}),xr({eventSourceRefiners:{method:String,extraParams:mt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(e){return!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch:function(e,t,n){var meta=e.eventSource.meta,o=function(meta,e,t){var n,o,c,l,h=t.dateEnv,d=t.options,f={};null==(n=meta.startParam)&&(n=d.startParam);null==(o=meta.endParam)&&(o=d.endParam);null==(c=meta.timeZoneParam)&&(c=d.timeZoneParam);l="function"==typeof meta.extraParams?meta.extraParams():meta.extraParams||{};Object(r.a)(f,l),f[n]=h.formatIso(e.start),f[o]=h.formatIso(e.end),"local"!==h.timeZone&&(f[c]=h.timeZone);return f}(meta,e.range,e.context);di(meta.method,meta.url,o,(function(e,n){t({rawEvents:e,xhr:n})}),(function(e,t){n({message:e,xhr:t})}))}}]}),xr({recurringTypes:[{parse:function(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null},r=void 0;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(o=e.endTime,c=e.startTime,r={years:o.years-c.years,months:o.months-c.months,days:o.days-c.days,milliseconds:o.milliseconds-c.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:r,typeData:n}}var o,c;return null},expand:function(e,t,n){var r=Vt(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r){var o=e?be(e):null,c=oe(n.start),l=n.end,h=[];for(;c<l;){var d=void 0;o&&!o[c.getUTCDay()]||(d=t?r.add(c,t):c,h.push(d)),c=ee(c,1)}return h}(e.daysOfWeek,e.startTime,r,n):[]}}],eventRefiners:{daysOfWeek:mt,startTime:ke,endTime:ke,duration:ke,startRecur:mt,endRecur:mt}}),xr({optionChangeHandlers:{events:function(e,t){pi([e],t)},eventSources:pi}}),xr({isLoadingFuncs:[function(e){return Gr(e.eventSources)}],contentTypeHandlers:{html:function(){var e=null,t="";return{render:function(n,html){n===e&&html===t||(n.innerHTML=html),e=n,t=html},destroy:function(){e.innerHTML="",e=null,t=""}}},domNodes:function(){var e=null,t=[];function n(){t.forEach(_),t=[],e=null}return{render:function(r,o){var c=Array.prototype.slice.call(o);if(r!==e||!Be(t,c)){for(var l=0,h=c;l<h.length;l++){var d=h[l];r.appendChild(d)}n()}e=r,t=c},destroy:n}}},propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object(r.a)(Object(r.a)({},cn(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){var n=t.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",In(e,t))}}})];var gi=function(){function e(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return e.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},e.prototype.pause=function(e){void 0===e&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},e.prototype.resume=function(e,t){void 0===e&&(e="");var n=this.pauseDepths;if(e in n){if(t)delete n[e];else n[e]-=1,n[e]<=0&&delete n[e];this.tryDrain()}},e.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},e.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},e.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},e.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},e.prototype.drained=function(){this.drainedOption&&this.drainedOption()},e}(),vi=function(){function e(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new gi(this.drain.bind(this))}return e.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},e.prototype.pause=function(e){this.delayedRunner.pause(e)},e.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},e.prototype.drain=function(){for(var e=this.queue;e.length;){for(var t=[],n=void 0;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}},e.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},e.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},e}();function yi(e,t,n){var r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,it(t.titleFormat||function(e){var t=e.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var n=ie(e.currentRange.start,e.currentRange.end);if(null!==n&&n>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}var bi=function(){function e(e){var t=this;this.computeOptionsData=$e(this._computeOptionsData),this.computeCurrentViewData=$e(this._computeCurrentViewData),this.organizeRawLocales=$e(Pn),this.buildLocale=$e(Mn),this.buildPluginHooks=Cr(),this.buildDateEnv=$e(wi),this.buildTheme=$e(_i),this.parseToolbars=$e(ai),this.buildViewSpecs=$e($r),this.buildDateProfileGenerator=He(Ei),this.buildViewApi=$e(Si),this.buildViewUiProps=He(Ii),this.buildEventUiBySource=$e(Ti,_e),this.buildEventUiBases=$e(Oi),this.parseContextBusinessHours=He(Ci),this.buildTitle=$e(yi),this.emitter=new lr,this.actionRunner=new vi(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(e){t.actionRunner.request(e)},this.props=e,this.actionRunner.pause();var n={},o=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),c=o.calendarOptions.initialView||o.pluginHooks.initialView,l=this.computeCurrentViewData(c,o,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(l.options);var h,d,f,m=(h=o.calendarOptions,d=o.dateEnv,null!=(f=h.initialDate)?d.createMarker(f):En(h.now,d)),v=l.dateProfileGenerator.build(m);Ht(v.activeRange,m)||(m=v.currentRange.start);for(var y={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},w=0,_=o.pluginHooks.contextInit;w<_.length;w++){(0,_[w])(y)}for(var E=zr(o.calendarOptions,v,y),S={dynamicOptionOverrides:n,currentViewType:c,currentDate:m,dateProfile:v,businessHours:this.parseContextBusinessHours(y),eventSources:E,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(y).selectionConfig},T=Object(r.a)(Object(r.a)({},y),S),O=0,I=o.pluginHooks.reducers;O<I.length;O++){var x=I[O];Object(r.a)(S,x(null,null,T))}xi(S,y)&&this.emitter.trigger("loading",!0),this.state=S,this.updateData(),this.actionRunner.resume()}return e.prototype.resetOptions=function(e,t){var n=this.props;n.optionOverrides=t?Object(r.a)(Object(r.a)({},n.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},e.prototype._handleAction=function(e){var t=this,n=t.props,o=t.state,c=t.emitter,l=function(e,t){var n;return"SET_OPTION"===t.type?Object(r.a)(Object(r.a)({},e),((n={})[t.optionName]=t.rawOptionValue,n)):e}(o.dynamicOptionOverrides,e),h=this.computeOptionsData(n.optionOverrides,l,n.calendarApi),d=function(e,t){"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType);return e}(o.currentViewType,e),f=this.computeCurrentViewData(d,h,n.optionOverrides,l);n.calendarApi.currentDataManager=this,c.setThisContext(n.calendarApi),c.setOptions(f.options);var m={dateEnv:h.dateEnv,options:h.calendarOptions,pluginHooks:h.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:c,getCurrentData:this.getCurrentData},v=o.currentDate,y=o.dateProfile;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(y=f.dateProfileGenerator.build(v)),v=function(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}(v,e),y=function(e,t,n,r){var o;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((o=r.buildPrev(e,n)).isValid)return o;break;case"NEXT":if((o=r.buildNext(e,n)).isValid)return o}return e}(y,e,v,f.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&Ht(y.currentRange,v)||(v=y.currentRange.start);for(var w=Wr(o.eventSources,e,y,m),_=ei(o.eventStore,e,w,y,m),E=Gr(w)&&!f.options.progressiveEventRendering&&o.renderableEventStore||_,S=this.buildViewUiProps(m),T=S.eventUiSingleBase,O=S.selectionConfig,I=this.buildEventUiBySource(w),x={dynamicOptionOverrides:l,currentViewType:d,currentDate:v,dateProfile:y,eventSources:w,eventStore:_,renderableEventStore:E,selectionConfig:O,eventUiBases:this.buildEventUiBases(E.defs,T,I),businessHours:this.parseContextBusinessHours(m),dateSelection:ri(o.dateSelection,e),eventSelection:ii(o.eventSelection,e),eventDrag:oi(o.eventDrag,e),eventResize:si(o.eventResize,e)},C=Object(r.a)(Object(r.a)({},m),x),k=0,D=h.pluginHooks.reducers;k<D.length;k++){var R=D[k];Object(r.a)(x,R(o,e,C))}var A=xi(o,m),N=xi(x,m);!A&&N?c.trigger("loading",!0):A&&!N&&c.trigger("loading",!1),this.state=x,n.onAction&&n.onAction(e)},e.prototype.updateData=function(){var e,t,n,defs,o,c,l,h,d,f=this.props,m=this.state,v=this.data,y=this.computeOptionsData(f.optionOverrides,m.dynamicOptionOverrides,f.calendarApi),w=this.computeCurrentViewData(m.currentViewType,y,f.optionOverrides,m.dynamicOptionOverrides),data=this.data=Object(r.a)(Object(r.a)(Object(r.a)({viewTitle:this.buildTitle(m.dateProfile,w.options,y.dateEnv),calendarApi:f.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},y),w),m),_=y.pluginHooks.optionChangeHandlers,E=v&&v.calendarOptions,S=y.calendarOptions;if(E&&E!==S)for(var T in E.timeZone!==S.timeZone&&(m.eventSources=data.eventSources=(c=data.eventSources,l=m.dateProfile,h=data,d=l?l.activeRange:null,Xr(c,Qr(c,h),d,!0,h)),m.eventStore=data.eventStore=(e=data.eventStore,t=v.dateEnv,n=data.dateEnv,defs=e.defs,o=ye(e.instances,(function(e){var o=defs[e.defId];return o.allDay||o.recurringDef?e:Object(r.a)(Object(r.a)({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})})),{defs:defs,instances:o})),_)E[T]!==S[T]&&_[T](S[T],data);f.onData&&f.onData(data)},e.prototype._computeOptionsData=function(e,t,n){var r=this.processRawCalendarOptions(e,t),o=r.refinedOptions,c=r.pluginHooks,l=r.localeDefaults,h=r.availableLocaleData;ki(r.extra);var d=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,c,h,o.defaultRangeSeparator),f=this.buildViewSpecs(c.views,e,t,l),m=this.buildTheme(o,c);return{calendarOptions:o,pluginHooks:c,dateEnv:d,viewSpecs:f,theme:m,toolbarConfig:this.parseToolbars(o,e,m,f,n),localeDefaults:l,availableRawLocales:h.map}},e.prototype.processRawCalendarOptions=function(e,t){var n=ft([st,e,t]),o=n.locales,c=n.locale,l=this.organizeRawLocales(o),h=l.map,d=this.buildLocale(c||l.defaultCode,h).options,f=this.buildPluginHooks(e.plugins||[],mi),m=this.currentCalendarOptionsRefiners=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},ot),at),ut),f.listenerRefiners),f.optionRefiners),v={},y=ft([st,d,e,t]),w={},_=this.currentCalendarOptionsInput,E=this.currentCalendarOptionsRefined,S=!1;for(var T in y)"plugins"!==T&&(y[T]===_[T]||ct[T]&&T in _&&ct[T](_[T],y[T])?w[T]=E[T]:m[T]?(w[T]=m[T](y[T]),S=!0):v[T]=_[T]);return S&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=w),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:l,localeDefaults:d,extra:v}},e.prototype._computeCurrentViewData=function(e,t,n,r){var o=t.viewSpecs[e];if(!o)throw new Error('viewType "'+e+"\" is not available. Please make sure you've loaded all neccessary plugins");var c=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,n,r),l=c.refinedOptions;return ki(c.extra),{viewSpec:o,options:l,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,monthMode:l.monthMode,fixedWeekCount:l.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}},e.prototype.processRawViewOptions=function(e,t,n,o,c){var l=ft([st,e.optionDefaults,n,o,e.optionOverrides,c]),h=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},ot),at),ut),ht),t.listenerRefiners),t.optionRefiners),d={},f=this.currentViewOptionsInput,m=this.currentViewOptionsRefined,v=!1,y={};for(var w in l)l[w]===f[w]?d[w]=m[w]:(l[w]===this.currentCalendarOptionsInput[w]?w in this.currentCalendarOptionsRefined&&(d[w]=this.currentCalendarOptionsRefined[w]):h[w]?d[w]=h[w](l[w]):y[w]=l[w],v=!0);return v&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=d),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:y}},e}();function wi(e,t,n,r,o,c,l,h){var d=Mn(t||l.defaultCode,l.map);return new Rn({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:c.namedTimeZonedImpl,locale:d,weekNumberCalculation:n,firstDay:r,weekText:o,cmdFormatter:c.cmdFormatter,defaultSeparator:h})}function _i(e,t){return new(t.themeClasses[e.themeSystem]||kr)(e)}function Ei(e){return new(e.dateProfileGeneratorClass||qr)(e)}function Si(e,t,n){return new yn(e,t,n)}function Ti(e){return ye(e,(function(e){return e.ui}))}function Oi(e,t,n){var r={"":t};for(var o in e){var c=e[o];c.sourceId&&n[c.sourceId]&&(r[o]=n[c.sourceId])}return r}function Ii(e){var t=e.options;return{eventUiSingleBase:Ot({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Ot({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function xi(e,t){for(var n=0,r=t.pluginHooks.isLoadingFuncs;n<r.length;n++){if((0,r[n])(e))return!0}return!1}function Ci(e){return Vn(e.options.businessHours,e)}function ki(e,t){for(var n in e)console.warn("Unknown option '"+n+"'"+(t?" for view '"+t+"'":""))}!function(e){function t(t){var n=e.call(this,t)||this;return n.handleData=function(data){n.dataManager?n.setState(data):n.state=data},n.dataManager=new bi({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:n.handleData}),n}Object(r.b)(t,e),t.prototype.render=function(){return this.props.children(this.state)},t.prototype.componentDidUpdate=function(e){var t=this.props.optionOverrides;t!==e.optionOverrides&&this.dataManager.resetOptions(t)}}(o);var Di=function(){function e(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return e.prototype.addSegs=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var input=r[n];this.insertEntry(input,t)}return t},e.prototype.insertEntry=function(e,t){var n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)},e.prototype.isInsertionValid=function(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)},e.prototype.handleInvalidInsertion=function(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)},e.prototype.splitEntry=function(e,t,n){var o=0,c=[],l=e.span,h=t.span;return l.start<h.start&&(o+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.start,end:h.start}},c)),l.end>h.end&&(o+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:h.end,end:l.end}},c)),o?(n.push.apply(n,Object(r.d)([{index:e.index,thickness:e.thickness,span:ji(h,l)}],c)),o):(n.push(e),0)},e.prototype.insertEntryAt=function(e,t){var n=this.entriesByLevel,r=this.levelCoords;-1===t.lateral?(Pi(r,t.level,t.levelCoord),Pi(n,t.level,[e])):Pi(n[t.level],t.lateral,e),this.stackCnts[Ai(e)]=t.stackCnt},e.prototype.findInsertion=function(e){for(var t=this,n=t.levelCoords,r=t.entriesByLevel,o=t.strictOrder,c=t.stackCnts,l=n.length,h=0,d=-1,f=-1,m=null,v=0,y=0;y<l;y+=1){var w=n[y];if(!o&&w>=h+e.thickness)break;for(var _=r[y],E=void 0,S=Mi(_,e.span.start,Ri),T=S[0]+S[1];(E=_[T])&&E.span.start<e.span.end;){var O=w+E.thickness;O>h&&(h=O,m=E,d=y,f=T),O===h&&(v=Math.max(v,c[Ai(E)]+1)),T+=1}}var I=0;if(m)for(I=d+1;I<l&&n[I]<h;)I+=1;var x=-1;return I<l&&n[I]===h&&(x=Mi(r[I],e.span.end,Ri)[0]),{touchingLevel:d,touchingLateral:f,touchingEntry:m,stackCnt:v,levelCoord:h,level:I,lateral:x}},e.prototype.toRects=function(){for(var e=this.entriesByLevel,t=this.levelCoords,n=e.length,o=[],c=0;c<n;c+=1)for(var l=e[c],h=t[c],d=0,f=l;d<f.length;d++){var m=f[d];o.push(Object(r.a)(Object(r.a)({},m),{levelCoord:h}))}return o},e}();function Ri(e){return e.span.end}function Ai(e){return e.index+":"+e.span.start}function Ni(e){for(var t,n,r=[],o=0,c=e;o<c.length;o++){for(var l=c[o],h=[],d={span:l.span,entries:[l]},f=0,m=r;f<m.length;f++){var v=m[f];ji(v.span,d.span)?d={entries:v.entries.concat(d.entries),span:(t=v.span,n=d.span,{start:Math.min(t.start,n.start),end:Math.max(t.end,n.end)})}:h.push(v)}h.push(d),r=h}return r}function ji(e,t){var n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function Pi(e,t,n){e.splice(t,0,n)}function Mi(a,e,t){var n=0,r=a.length;if(!r||e<t(a[n]))return[0,0];if(e>t(a[r-1]))return[r,0];for(;n<r;){var o=Math.floor(n+(r-n)/2),c=t(a[o]);if(e<c)r=o;else{if(!(e>c))return[o,1];n=o+1}}return[n,0]}var Li=function(){function e(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return e.prototype.destroy=function(){},e}();function Ui(component,input){return{component:component,el:input.el,useEventCenter:null==input.useEventCenter||input.useEventCenter,isHitComboAllowed:input.isHitComboAllowed||null}}function Fi(e){var t;return(t={})[e.component.uid]=e,t}var Vi={},Bi=function(){function e(e,t){this.emitter=new lr}return e.prototype.destroy=function(){},e.prototype.setMirrorIsVisible=function(e){},e.prototype.setMirrorNeedsRevert=function(e){},e.prototype.setAutoScrollEnabled=function(e){},e}(),$i={},Hi={startTime:ke,duration:ke,create:Boolean,sourceId:String};function qi(e){var t=pt(e,Hi),n=t.refined,r=t.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:null==n.create||n.create,sourceId:n.sourceId,leftoverProps:r}}var zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.render=function(){var e=this,t=this.props.widgetGroups.map((function(t){return e.renderWidgetGroup(t)}));return c.apply(void 0,Object(r.d)(["div",{className:"fc-toolbar-chunk"}],t))},t.prototype.renderWidgetGroup=function(e){for(var t=this.props,n=this.context.theme,o=[],l=!0,h=0,d=e;h<d.length;h++){var f=d[h],m=f.buttonName,v=f.buttonClick,y=f.buttonText,w=f.buttonIcon,_=f.buttonHint;if("title"===m)l=!1,o.push(c("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{var E=m===t.activeButton,S=!t.isTodayEnabled&&"today"===m||!t.isPrevEnabled&&"prev"===m||!t.isNextEnabled&&"next"===m,T=["fc-"+m+"-button",n.getClass("button")];E&&T.push(n.getClass("buttonActive")),o.push(c("button",{type:"button",title:"function"==typeof _?_(t.navUnit):_,disabled:S,"aria-pressed":E,className:T.join(" "),onClick:v},y||(w?c("span",{className:w}):"")))}}if(o.length>1){var O=l&&n.getClass("buttonGroup")||"";return c.apply(void 0,Object(r.d)(["div",{className:O}],o))}return o[0]},t}(Er),Wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.model,o=n.extraClassName,l=!1,h=r.sectionWidgets,d=h.center;return h.left?(l=!0,e=h.left):e=h.start,h.right?(l=!0,t=h.right):t=h.end,c("div",{className:[o||"","fc-toolbar",l?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",d||[]),this.renderSection("end",t||[]))},t.prototype.renderSection=function(e,t){var n=this.props;return c(zi,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})},t}(Er),Gi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(e){t.el=e,Or(t.props.elRef,e),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=e.aspectRatio,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",l="";return n?null!==t.availableWidth?o=t.availableWidth/n:l=1/n*100+"%":o=e.height||"",c("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:o,paddingBottom:l}},e.children)},t.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},t.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},t}(Er),Yi=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSegClick=function(e,t){var component=n.component,r=component.context,o=Gt(t);if(o&&component.isValidSegDownEl(e.target)){var c=E(e.target,".fc-event-forced-url"),l=c?c.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new Tn(component.context,o.eventRange.def,o.eventRange.instance),jsEvent:e,view:r.viewApi}),l&&!e.defaultPrevented&&(window.location.href=l)}},n.destroy=A(t.el,"click",".fc-event",n.handleSegClick),n}return Object(r.b)(t,e),t}(Li),Ki=function(e){function t(t){var n,r,o,c,l,h=e.call(this,t)||this;return h.handleEventElRemove=function(e){e===h.currentSegEl&&h.handleSegLeave(null,h.currentSegEl)},h.handleSegEnter=function(e,t){Gt(t)&&(h.currentSegEl=t,h.triggerEvent("eventMouseEnter",e,t))},h.handleSegLeave=function(e,t){h.currentSegEl&&(h.currentSegEl=null,h.triggerEvent("eventMouseLeave",e,t))},h.removeHoverListeners=(n=t.el,r=".fc-event",o=h.handleSegEnter,c=h.handleSegLeave,A(n,"mouseover",r,(function(e,t){if(t!==l){l=t,o(e,t);var n=function(e){l=null,c(e,t),t.removeEventListener("mouseleave",n)};t.addEventListener("mouseleave",n)}}))),h}return Object(r.b)(t,e),t.prototype.destroy=function(){this.removeHoverListeners()},t.prototype.triggerEvent=function(e,t,n){var component=this.component,r=component.context,o=Gt(n);t&&!component.isValidSegDownEl(t.target)||r.emitter.trigger(e,{el:n,event:new Tn(r,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:r.viewApi})},t}(Li),Xi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildViewContext=$e(wr),t.buildViewPropTransformers=$e(Qi),t.buildToolbarProps=$e(Zi),t.headerRef=h(),t.footerRef=h(),t.interactionsStore={},t.state={viewLabelId:D()},t.registerInteractiveComponent=function(component,e){var n=Ui(component,e),r=[Yi,Ki].concat(t.props.pluginHooks.componentInteractions).map((function(e){return new e(n)}));t.interactionsStore[component.uid]=r,Vi[component.uid]=n},t.unregisterInteractiveComponent=function(component){for(var e=0,n=t.interactionsStore[component.uid];e<n.length;e++){n[e].destroy()}delete t.interactionsStore[component.uid],delete Vi[component.uid]},t.resizeRunner=new gi((function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})})),t.handleWindowResize=function(e){var n=t.props.options;n.handleWindowResize&&e.target===window&&t.resizeRunner.request(n.windowResizeDelay)},t}return Object(r.b)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.toolbarConfig,o=t.options,l=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,En(t.options.now,t.dateEnv),t.viewTitle),h=!1,d="";t.isHeightAuto||t.forPrint?d="":null!=o.height?h=!0:null!=o.contentHeight?d=o.contentHeight:e=Math.max(o.aspectRatio,.5);var f=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),m=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return c(yr.Provider,{value:f},n.header&&c(Wi,Object(r.a)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:m},l)),c(Gi,{liquid:h,height:d,aspectRatio:e,labeledById:m},this.renderView(t),this.buildAppendContent()),n.footer&&c(Wi,Object(r.a)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},l)))},t.prototype.componentDidMount=function(){var e=this.props;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((function(t){return new t(e)})),window.addEventListener("resize",this.handleWindowResize);var t=e.pluginHooks.propSetHandlers;for(var n in t)t[n](e[n],e)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pluginHooks.propSetHandlers;for(var r in n)t[r]!==e[r]&&n[r](t[r],t)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e=0,t=this.calendarInteractions;e<t.length;e++){t[e].destroy()}this.props.emitter.trigger("_unmount")},t.prototype.buildAppendContent=function(){var e=this.props,t=e.pluginHooks.viewContainerAppends.map((function(t){return t(e)}));return c.apply(void 0,Object(r.d)([d,{}],t))},t.prototype.renderView=function(e){for(var t=e.pluginHooks,n=e.viewSpec,o={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},l=0,h=this.buildViewPropTransformers(t.viewPropsTransformers);l<h.length;l++){var d=h[l];Object(r.a)(o,d.transform(o,e))}var f=n.component;return c(f,Object(r.a)({},o))},t}(_r);function Zi(e,t,n,r,o,title){var c=n.build(o,void 0,!1),l=n.buildPrev(t,r,!1),h=n.buildNext(t,r,!1);return{title:title,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:c.isValid&&!Ht(t.currentRange,o),isPrevEnabled:l.isValid,isNextEnabled:h.isValid}}function Qi(e){return e.map((function(e){return new e}))}var Ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=this.state.forPrint,r=n||"auto"===t.height||"auto"===t.contentHeight,o=r||null==t.height?"":t.height,c=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-"+t.direction,e.theme.getClass("root")];return Wn()||c.push("fc-liquid-hack"),e.children(c,o,r,n)},t.prototype.componentDidMount=function(){var e=this.props.emitter;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)},t.prototype.componentWillUnmount=function(){var e=this.props.emitter;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)},t}(Er);var eo="fc-col-header-cell";function to(e){return e.text}var no=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.context,t=e.dateEnv,n=e.options,o=e.theme,l=e.viewApi,h=this.props,d=h.date,f=h.dateProfile,m=Xn(d,h.todayRange,null,f),v=[eo].concat(Zn(m,o)),text=t.format(d,h.dayHeaderFormat),y=!m.isDisabled&&h.colCnt>1?er(this.context,d):{},w=Object(r.a)(Object(r.a)(Object(r.a)({date:t.toDate(d),view:l},h.extraHookProps),{text:text}),m);return c(Rr,{hookProps:w,classNames:n.dayHeaderClassNames,content:n.dayHeaderContent,defaultContent:to,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(function(e,t,n,o){return c("th",Object(r.a)({ref:e,role:"columnheader",className:v.concat(t).join(" "),"data-date":m.isDisabled?void 0:Ue(d),colSpan:h.colSpan},h.extraDataAttrs),c("div",{className:"fc-scrollgrid-sync-inner"},!m.isDisabled&&c("a",Object(r.a)({ref:n,className:["fc-col-header-cell-cushion",h.isSticky?"fc-sticky":""].join(" ")},y),o)))}))},t}(Er),ro=it({weekday:"long"}),io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.dateEnv,o=t.theme,l=t.viewApi,h=t.options,d=ee(new Date(2592e5),e.dow),f={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},m=[eo].concat(Zn(f,o),e.extraClassNames||[]),text=n.format(d,e.dayHeaderFormat),v=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({date:d},f),{view:l}),e.extraHookProps),{text:text});return c(Rr,{hookProps:v,classNames:h.dayHeaderClassNames,content:h.dayHeaderContent,defaultContent:to,didMount:h.dayHeaderDidMount,willUnmount:h.dayHeaderWillUnmount},(function(t,o,l,h){return c("th",Object(r.a)({ref:t,role:"columnheader",className:m.concat(o).join(" "),colSpan:e.colSpan},e.extraDataAttrs),c("div",{className:"fc-scrollgrid-sync-inner"},c("a",{"aria-label":n.format(d,ro),className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:l},h)))}))},t}(Er),oo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.initialNowDate=En(n.options.now,n.dateEnv),r.initialNowQueriedMs=(new Date).valueOf(),r.state=r.computeTiming().currentState,r}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return e.children(t.nowDate,t.todayRange)},t.prototype.componentDidMount=function(){this.setTimeout()},t.prototype.componentDidUpdate=function(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.computeTiming=function(){var e=this.props,t=this.context,n=te(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(n,e.unit),o=t.dateEnv.add(r,ke(1,e.unit)),c=o.valueOf()-n.valueOf();return c=Math.min(864e5,c),{currentState:{nowDate:r,todayRange:so(r)},nextState:{nowDate:o,todayRange:so(o)},waitMs:c}},t.prototype.setTimeout=function(){var e=this,t=this.computeTiming(),n=t.nextState,r=t.waitMs;this.timeoutId=setTimeout((function(){e.setState(n,(function(){e.setTimeout()}))}),r)},t.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t.contextType=yr,t}(o);function so(e){var t=oe(e);return{start:t,end:ee(t,1)}}var ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDayHeaderFormatter=$e(uo),t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.dates,r=t.dateProfile,o=t.datesRepDistinctDays,l=t.renderIntro,h=this.createDayHeaderFormatter(e.options.dayHeaderFormat,o,n.length);return c(oo,{unit:"day"},(function(e,t){return c("tr",{role:"row"},l&&l("day"),n.map((function(e){return o?c(no,{key:e.toISOString(),date:e,dateProfile:r,todayRange:t,colCnt:n.length,dayHeaderFormat:h}):c(io,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:h})})))}))},t}(Er);function uo(e,t,n){return e||function(e,t){return it(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(t,n)}var co=function(){function e(e,t){for(var n=e.start,r=e.end,o=[],c=[],l=-1;n<r;)t.isHiddenDay(n)?o.push(l+.5):(l+=1,o.push(l),c.push(n)),n=ee(n,1);this.dates=c,this.indices=o,this.cnt=c.length}return e.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ee(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,n);return(r=Math.ceil(r))<=(o=Math.floor(o))?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:n===o}:null},e.prototype.getDateDayIndex=function(e){var t=this.indices,n=Math.floor(re(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},e}(),lo=function(){function e(e,t){var n,r,o,c=e.dates;if(t){for(r=c[0].getUTCDay(),n=1;n<c.length&&c[n].getUTCDay()!==r;n+=1);o=Math.ceil(c.length/n)}else o=1,n=c.length;this.rowCnt=o,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return e.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var n=[],col=0;col<this.colCnt;col+=1)n.push(this.buildCell(t,col));e.push(n)}return e},e.prototype.buildCell=function(e,col){var t=this.daySeries.dates[e*this.colCnt+col];return{key:t.toISOString(),date:t}},e.prototype.buildHeaderDates=function(){for(var e=[],col=0;col<this.colCnt;col+=1)e.push(this.cells[0][col].date);return e},e.prototype.sliceRange=function(e){var t=this.colCnt,n=this.daySeries.sliceRange(e),r=[];if(n)for(var o=n.firstIndex,c=n.lastIndex,l=o;l<=c;){var h=Math.floor(l/t),d=Math.min((h+1)*t,c+1);r.push({row:h,firstCol:l%t,lastCol:(d-1)%t,isStart:n.isStart&&l===o,isEnd:n.isEnd&&d-1===c}),l=d}return r},e}(),ho=function(){function e(){this.sliceBusinessHours=$e(this._sliceBusinessHours),this.sliceDateSelection=$e(this._sliceDateSpan),this.sliceEventStore=$e(this._sliceEventStore),this.sliceEventDrag=$e(this._sliceInteraction),this.sliceEventResize=$e(this._sliceInteraction),this.forceDayIfListItem=!1}return e.prototype.sliceProps=function(e,t,n,o){for(var c=[],l=4;l<arguments.length;l++)c[l-4]=arguments[l];var h=e.eventUiBases,d=this.sliceEventStore.apply(this,Object(r.d)([e.eventStore,h,t,n],c));return{dateSelectionSegs:this.sliceDateSelection.apply(this,Object(r.d)([e.dateSelection,h,o],c)),businessHourSegs:this.sliceBusinessHours.apply(this,Object(r.d)([e.businessHours,t,n,o],c)),fgEventSegs:d.fg,bgEventSegs:d.bg,eventDrag:this.sliceEventDrag.apply(this,Object(r.d)([e.eventDrag,h,t,n],c)),eventResize:this.sliceEventResize.apply(this,Object(r.d)([e.eventResize,h,t,n],c)),eventSelection:e.eventSelection}},e.prototype.sliceNowDate=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this._sliceDateSpan.apply(this,Object(r.d)([{range:{start:e,end:te(e,1)},allDay:!1},{},t],n))},e.prototype._sliceBusinessHours=function(e,t,n,o){for(var c=[],l=4;l<arguments.length;l++)c[l-4]=arguments[l];return e?this._sliceEventStore.apply(this,Object(r.d)([Oe(e,fo(t,Boolean(n)),o),{},t,n],c)).bg:[]},e.prototype._sliceEventStore=function(e,t,n,r){for(var o=[],c=4;c<arguments.length;c++)o[c-4]=arguments[c];if(e){var l=qt(e,t,fo(n,Boolean(r)),r);return{bg:this.sliceEventRanges(l.bg,o),fg:this.sliceEventRanges(l.fg,o)}}return{bg:[],fg:[]}},e.prototype._sliceInteraction=function(e,t,n,r){for(var o=[],c=4;c<arguments.length;c++)o[c-4]=arguments[c];if(!e)return null;var l=qt(e.mutatedEvents,t,fo(n,Boolean(r)),r);return{segs:this.sliceEventRanges(l.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},e.prototype._sliceDateSpan=function(e,t,n){for(var o=[],c=3;c<arguments.length;c++)o[c-3]=arguments[c];if(!e)return[];for(var l=hn(e,t,n),h=this.sliceRange.apply(this,Object(r.d)([e.range],o)),d=0,f=h;d<f.length;d++){var m=f[d];m.eventRange=l}return h},e.prototype.sliceEventRanges=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var c=o[r];n.push.apply(n,this.sliceEventRange(c,t))}return n},e.prototype.sliceEventRange=function(e,t){var n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:ee(n.start,1)});for(var o=this.sliceRange.apply(this,Object(r.d)([n],t)),c=0,l=o;c<l.length;c++){var h=l[c];h.eventRange=e,h.isStart=e.isStart&&h.isStart,h.isEnd=e.isEnd&&h.isEnd}return o},e}();function fo(e,t){var n=e.activeRange;return t?n:{start:te(n.start,e.slotMinTime.milliseconds),end:te(n.end,e.slotMaxTime.milliseconds-864e5)}}function po(e,t,n){var r=e.mutatedEvents.instances;for(var o in r)if(!$t(t.validRange,r[o].range))return!1;return go({eventDrag:e},n)}function mo(e,t,n){return!!$t(t.validRange,e.range)&&go({dateSelection:e},n)}function go(e,t){var n=t.getCurrentData(),o=Object(r.a)({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||vo)(o,t)}function vo(e,t,n,o){return void 0===n&&(n={}),!(e.eventDrag&&!function(e,t,n,o){var c=t.getCurrentData(),l=e.eventDrag,h=l.mutatedEvents,d=h.defs,f=h.instances,m=Yt(d,l.isEvent?e.eventUiBases:{"":c.selectionConfig});o&&(m=ye(m,o));var v=(E=e.eventStore,S=l.affectedEvents.instances,{defs:E.defs,instances:ve(E.instances,(function(e){return!S[e.instanceId]}))}),y=v.defs,w=v.instances,_=Yt(y,e.eventUiBases);var E,S;for(var T in f){var O=f[T],I=O.range,x=m[O.defId],C=d[O.defId];if(!yo(x.constraints,I,v,e.businessHours,t))return!1;var k=t.options.eventOverlap,D="function"==typeof k?k:null;for(var R in w){var A=w[R];if(Bt(I,A.range)){if(!1===_[A.defId].overlap&&l.isEvent)return!1;if(!1===x.overlap)return!1;if(D&&!D(new Tn(t,y[A.defId],A),new Tn(t,C,O)))return!1}}for(var N=c.eventStore,j=0,P=x.allows;j<P.length;j++){var M=P[j],L=Object(r.a)(Object(r.a)({},n),{range:O.range,allDay:C.allDay}),U=N.defs[C.defId],F=N.instances[T],V=void 0;if(V=U?new Tn(t,U,F):new Tn(t,C),!M(fn(L,t),V))return!1}}return!0}(e,t,n,o))&&!(e.dateSelection&&!function(e,t,n,o){var c=e.eventStore,l=c.defs,h=c.instances,d=e.dateSelection,f=d.range,m=t.getCurrentData().selectionConfig;o&&(m=o(m));if(!yo(m.constraints,f,c,e.businessHours,t))return!1;var v=t.options.selectOverlap,y="function"==typeof v?v:null;for(var w in h){var _=h[w];if(Bt(f,_.range)){if(!1===m.overlap)return!1;if(y&&!y(new Tn(t,l[_.defId],_),null))return!1}}for(var E=0,S=m.allows;E<S.length;E++){if(!(0,S[E])(fn(Object(r.a)(Object(r.a)({},n),d),t),null))return!1}return!0}(e,t,n,o))}function yo(e,t,n,r,o){for(var c=0,l=e;c<l.length;c++){if(!_o(bo(l[c],t,n,r,o),t))return!1}return!0}function bo(e,t,n,r,o){return"businessHours"===e?wo(Oe(r,t,o)):"string"==typeof e?wo(_t(n,(function(t){return t.groupId===e}))):"object"==typeof e&&e?wo(Oe(e,t,o)):[]}function wo(e){var t=e.instances,n=[];for(var r in t)n.push(t[r].range);return n}function _o(e,t){for(var n=0,r=e;n<r.length;n++){if($t(r[n],t))return!0}return!1}var Eo=/^(visible|hidden)$/,So=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEl=function(e){t.el=e,Or(t.props.elRef,e)},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.liquid,n=e.liquidIsAbsolute,r=t&&n,o=["fc-scroller"];return t&&(n?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),c("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)},t.prototype.needsXScrolling=function(){if(Eo.test(this.props.overflowX))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),n=e.children,i=0;i<n.length;i+=1){if(n[i].getBoundingClientRect().width>t)return!0}return!1},t.prototype.needsYScrolling=function(){if(Eo.test(this.props.overflowY))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),n=e.children,i=0;i<n.length;i+=1){if(n[i].getBoundingClientRect().height>t)return!0}return!1},t.prototype.getXScrollbarWidth=function(){return Eo.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},t.prototype.getYScrollbarWidth=function(){return Eo.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},t}(Er),To=function(){function e(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(e,n){var r=t,o=r.depths,c=r.currentMap,l=!1,h=!1;null!==e?(l=n in c,c[n]=e,o[n]=(o[n]||0)+1,h=!0):(o[n]-=1,o[n]||(delete c[n],delete t.callbackMap[n],l=!0)),t.masterCallback&&(l&&t.masterCallback(null,String(n)),h&&t.masterCallback(e,String(n)))}}return e.prototype.createRef=function(e){var t=this,n=this.callbackMap[e];return n||(n=this.callbackMap[e]=function(n){t.handleValue(n,String(e))}),n},e.prototype.collect=function(e,t,n){return function(e,t,n,r){void 0===t&&(t=0),void 0===r&&(r=1);var o=[];null==n&&(n=Object.keys(e).length);for(var i=t;i<n;i+=r){var c=e[i];void 0!==c&&o.push(c)}return o}(this.currentMap,e,t,n)},e.prototype.getAll=function(){return we(this.currentMap)},e}();function Oo(e){for(var t=0,n=0,r=function(e,t){for(var n=e instanceof HTMLElement?[e]:e,r=[],i=0;i<n.length;i+=1)for(var o=n[i].querySelectorAll(t),c=0;c<o.length;c+=1)r.push(o[c]);return r}(e,".fc-scrollgrid-shrink");n<r.length;n++){var o=r[n];t=Math.max(t,Z(o))}return Math.ceil(t)}function Io(e,t){return e.liquid&&t.liquid}function xo(e,t){return Be(e,t,_e)}function Co(e,t){for(var n=[],o=0,l=e;o<l.length;o++)for(var h=l[o],span=h.span||1,i=0;i<span;i+=1)n.push(c("col",{style:{width:"shrink"===h.width?ko(t):h.width||"",minWidth:h.minWidth||""}}));return c.apply(void 0,Object(r.d)(["colgroup",{}],n))}function ko(e){return null==e?4:e}function Do(e,t){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+e.type,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Ro(e){return c("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Ao(e){var t=e.stickyHeaderDates;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function No(e){var t=e.stickyFooterScrollbar;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}var jo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processCols=$e((function(a){return a}),xo),t.renderMicroColGroup=$e(Co),t.scrollerRefs=new To,t.scrollerElRefs=new To(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.setState(Object(r.a)({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state,o=e.context,l=t.sections||[],h=this.processCols(t.cols),d=this.renderMicroColGroup(h,n.shrinkWidth),f=function(e,t){var n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}(t.liquid,o);t.collapsibleWidth&&f.push("fc-scrollgrid-collapsible");for(var m,v=l.length,y=0,w=[],_=[],E=[];y<v&&"header"===(m=l[y]).type;)w.push(this.renderSection(m,d,!0)),y+=1;for(;y<v&&"body"===(m=l[y]).type;)_.push(this.renderSection(m,d,!1)),y+=1;for(;y<v&&"footer"===(m=l[y]).type;)E.push(this.renderSection(m,d,!0)),y+=1;var S=!Wn(),T={role:"rowgroup"};return c("table",{role:"grid",className:f.join(" "),style:{height:t.height}},Boolean(!S&&w.length)&&c.apply(void 0,Object(r.d)(["thead",T],w)),Boolean(!S&&_.length)&&c.apply(void 0,Object(r.d)(["tbody",T],_)),Boolean(!S&&E.length)&&c.apply(void 0,Object(r.d)(["tfoot",T],E)),S&&c.apply(void 0,Object(r.d)(Object(r.d)(Object(r.d)(["tbody",T],w),_),E)))},t.prototype.renderSection=function(e,t,n){return"outerContent"in e?c(d,{key:e.key},e.outerContent):c("tr",{key:e.key,role:"presentation",className:Do(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))},t.prototype.renderChunkTd=function(e,t,n,r){if("outerContent"in n)return n.outerContent;var o=this.props,l=this.state,h=l.forceYScrollbars,d=l.scrollerClientWidths,f=l.scrollerClientHeights,m=function(e,t){return null!=t.maxHeight||Io(e,t)}(o,e),v=Io(o,e),y=o.liquid?h?"scroll":m?"auto":"hidden":"visible",w=e.key,content=function(e,t,n,r){var o=n.expandRows;return"function"==typeof t.content?t.content(n):c("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:o?n.clientHeight:""}},n.tableColGroupNode,c(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:o.collapsibleWidth||void 0===d[w]?null:d[w],clientHeight:void 0!==f[w]?f[w]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},r);return c(r?"th":"td",{ref:n.elRef,role:"presentation"},c("div",{className:"fc-scroller-harness"+(v?" fc-scroller-harness-liquid":"")},c(So,{ref:this.scrollerRefs.createRef(w),elRef:this.scrollerElRefs.createRef(w),overflowY:y,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:v,liquidIsAbsolute:!0},content)))},t.prototype._handleScrollerEl=function(e,t){var section=function(e,t){for(var n=0,r=e;n<r.length;n++){var section=r[n];if(section.key===t)return section}return null}(this.props.sections,t);section&&Or(section.chunk.scrollerElRef,e)},t.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(){this.handleSizing()},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},t.prototype.computeShrinkWidth=function(){return function(e){for(var t=0,n=e;t<n.length;t++)if("shrink"===n[t].width)return!0;return!1}(this.props.cols)?Oo(this.scrollerElRefs.getAll()):0},t.prototype.computeScrollerDims=function(){var e=or(),t=this.scrollerRefs,n=this.scrollerElRefs,r=!1,o={},c={};for(var l in t.currentMap){var h=t.currentMap[l];if(h&&h.needsYScrolling()){r=!0;break}}for(var d=0,f=this.props.sections;d<f.length;d++){l=f[d].key;var m=n.currentMap[l];if(m){var v=m.parentNode;o[l]=Math.floor(v.getBoundingClientRect().width-(r?e.y:0)),c[l]=Math.floor(v.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:c}},t}(Er);jo.addStateEquality({scrollerClientWidths:_e,scrollerClientHeights:_e});var Po=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=h(),t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=e.seg,o=r.eventRange,l=o.ui,h={event:new Tn(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&Qt(r,t),isStartResizable:!e.disableResizing&&Jt(r,t),isEndResizable:!e.disableResizing&&en(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)},d=function(e){var t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}(h).concat(l.classNames);return c(Rr,{hookProps:h,classNames:n.eventClassNames,content:n.eventContent,defaultContent:e.defaultContent,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount,elRef:this.elRef},(function(t,n,r,o){return e.children(t,d.concat(n),r,o,h)}))},t.prototype.componentDidMount=function(){Wt(this.elRef.current,this.props.seg)},t.prototype.componentDidUpdate=function(e){var t=this.props.seg;t!==e.seg&&Wt(this.elRef.current,t)},t}(Er),Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,o=t.options.eventTimeFormat||e.defaultTimeFormat,l=tn(n,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return c(Po,{seg:n,timeText:l,disableDragging:e.disableDragging,disableResizing:e.disableResizing,defaultContent:e.defaultContent||Lo,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(o,l,h,d,f){return c("a",Object(r.a)({className:e.extraClassNames.concat(l).join(" "),style:{borderColor:f.borderColor,backgroundColor:f.backgroundColor},ref:o},on(n,t)),c("div",{className:"fc-event-main",ref:h,style:{color:f.textColor}},d),f.isStartResizable&&c("div",{className:"fc-event-resizer fc-event-resizer-start"}),f.isEndResizable&&c("div",{className:"fc-event-resizer fc-event-resizer-end"}))}))},t}(Er);function Lo(e){return c("div",{className:"fc-event-main-frame"},e.timeText&&c("div",{className:"fc-event-time"},e.timeText),c("div",{className:"fc-event-title-container"},c("div",{className:"fc-event-title fc-sticky"},e.event.title||c(d,null," "))))}var Uo=function(e){return c(yr.Consumer,null,(function(t){var n=t.options,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return c(Rr,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}))},Fo=it({day:"numeric"}),Vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=Bo({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv});return c(Nr,{hookProps:r,content:n.dayCellContent,defaultContent:e.defaultContent},e.children)},t}(Er);function Bo(e){var t=e.date,n=e.dateEnv,o=Xn(t,e.todayRange,null,e.dateProfile);return Object(r.a)(Object(r.a)(Object(r.a)({date:n.toDate(t),view:e.viewApi},o),{dayNumberText:e.showDayNumber?n.format(t,Fo):""}),e.extraProps)}var $o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=He(Bo),t.normalizeClassNames=Mr(),t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=this.refineHookProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv}),o=Zn(r,t.theme).concat(r.isDisabled?[]:this.normalizeClassNames(n.dayCellClassNames,r)),l=r.isDisabled?{}:{"data-date":Ue(e.date)};return c(Pr,{hookProps:r,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount,elRef:e.elRef},(function(t){return e.children(t,o,l,r.isDisabled)}))},t}(Er);function Ho(e){return c("div",{className:"fc-"+e})}var qo=function(e){return c(Po,{defaultContent:zo,seg:e.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(e,t,n,r,o){return c("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:o.backgroundColor}},r)}))};function zo(e){return e.event.title&&c("div",{className:"fc-event-title"},e.event.title)}var Wo=function(e){return c(yr.Consumer,null,(function(t){var n=t.dateEnv,r=t.options,o=e.date,l=r.weekNumberFormat||e.defaultFormat,h=n.computeWeekNumber(o),text=n.format(o,l);return c(Rr,{hookProps:{num:h,text:text,date:o},classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:Go,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)}))};function Go(e){return e.text}var Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={titleId:D()},t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Or(t.props.elRef,e)},t.handleDocumentMouseDown=function(e){var n=x(e);t.rootEl.contains(n)||t.handleCloseClick()},t.handleDocumentKeyDown=function(e){"Escape"===e.key&&t.handleCloseClick()},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.context,t=e.theme,n=e.options,o=this.props,l=this.state,h=["fc-popover",t.getClass("popover")].concat(o.extraClassNames||[]);return m(c("div",Object(r.a)({id:o.id,className:h.join(" "),"aria-labelledby":l.titleId},o.extraAttrs,{ref:this.handleRootEl}),c("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},c("span",{className:"fc-popover-title",id:l.titleId},o.title),c("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),c("div",{className:"fc-popover-body "+t.getClass("popoverContent")},o.children)),o.parentEl)},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.updateSize=function(){var e=this.context.isRtl,t=this.props,n=t.alignmentEl,r=t.alignGridTop,o=this.rootEl,c=function(e){for(var t=cr(e),rect=e.getBoundingClientRect(),n=0,r=t;n<r.length;n++){var o=$n(rect,r[n].getBoundingClientRect());if(!o)return null;rect=o}return rect}(n);if(c){var l=o.getBoundingClientRect(),h=r?E(n,".fc-scrollgrid").getBoundingClientRect().top:c.top,d=e?c.right-l.width:c.left;h=Math.max(h,10),d=Math.min(d,document.documentElement.clientWidth-10-l.width),d=Math.max(d,10);var f=o.offsetParent.getBoundingClientRect();O(o,{top:h-f.top,left:d-f.left})}},t}(Er),Ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,r=this.props,o=r.startDate,l=r.todayRange,h=r.dateProfile,title=n.format(o,t.dayPopoverFormat);return c($o,{date:o,dateProfile:h,todayRange:l,elRef:this.handleRootEl},(function(e,t,n){return c(Yo,{elRef:e,id:r.id,title:title,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},c(Vo,{date:o,dateProfile:h,todayRange:l},(function(e,t){return t&&c("div",{className:"fc-more-popover-misc",ref:e},t)})),r.children)}))},t.prototype.queryHit=function(e,t,n,o){var c=this.rootEl,l=this.props;return e>=0&&e<n&&t>=0&&t<o?{dateProfile:l.dateProfile,dateSpan:Object(r.a)({allDay:!0,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:c,rect:{left:0,top:0,right:n,bottom:o},layer:1}:null},t}(Ir),Xo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linkElRef=h(),t.state={isPopoverOpen:!1,popoverId:D()},t.handleClick=function(e){var n=t,r=n.props,o=n.context,c=o.options.moreLinkClick,l=Qo(r).start;function h(e){var t=e.eventRange,n=t.def,r=t.instance,c=t.range;return{event:new Tn(o,n,r),start:o.dateEnv.toDate(c.start),end:o.dateEnv.toDate(c.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof c&&(c=c({date:l,allDay:Boolean(r.allDayDate),allSegs:r.allSegs.map(h),hiddenSegs:r.hiddenSegs.map(h),jsEvent:e,view:o.viewApi})),c&&"popover"!==c?"string"==typeof c&&o.calendarApi.zoomTo(l,c):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return Object(r.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.state;return c(yr.Consumer,null,(function(r){var o=r.viewApi,l=r.options,h=r.calendarApi,f=l.moreLinkText,m=t.moreCnt,v=Qo(t),text="function"==typeof f?f.call(h,m):"+"+m+" "+f,title=Y(l.moreLinkHint,[m],text),y={num:m,shortText:"+"+m,text:text,view:o};return c(d,null,Boolean(t.moreCnt)&&c(Rr,{elRef:e.linkElRef,hookProps:y,classNames:l.moreLinkClassNames,content:l.moreLinkContent,defaultContent:t.defaultContent||Zo,didMount:l.moreLinkDidMount,willUnmount:l.moreLinkWillUnmount},(function(r,o,c,l){return t.children(r,["fc-more-link"].concat(o),c,l,e.handleClick,title,n.isPopoverOpen,n.isPopoverOpen?n.popoverId:"")})),n.isPopoverOpen&&c(Ko,{id:n.popoverId,startDate:v.start,endDate:v.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:e.parentEl,alignmentEl:t.alignmentElRef.current,alignGridTop:t.alignGridTop,onClose:e.handlePopoverClose},t.popoverContent()))}))},t.prototype.componentDidMount=function(){this.updateParentEl()},t.prototype.componentDidUpdate=function(){this.updateParentEl()},t.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=E(this.linkElRef.current,".fc-view-harness"))},t}(Er);function Zo(e){return e.text}function Qo(e){if(e.allDayDate)return{start:e.allDayDate,end:ee(e.allDayDate,1)};var t,n=e.hiddenSegs;return{start:Jo(n),end:(t=n,t.reduce(ts).eventRange.range.end)}}function Jo(e){return e.reduce(es).eventRange.range.start}function es(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function ts(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return h}));var r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)};function o(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var c=function(){return c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},c.apply(this,arguments)};function l(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}Object.create;function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return $})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return w})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return I})),n.d(t,"x",(function(){return O})),n.d(t,"y",(function(){return M})),n.d(t,"z",(function(){return L})),n.d(t,"A",(function(){return C}));const r=function(e){const t=[];let p=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?t[p++]=n:n<2048?(t[p++]=n>>6|192,t[p++]=63&n|128):55296==(64512&n)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i)),t[p++]=n>>18|240,t[p++]=n>>12&63|128,t[p++]=n>>6&63|128,t[p++]=63&n|128):(t[p++]=n>>12|224,t[p++]=n>>6&63|128,t[p++]=63&n|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(input,e){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[];for(let i=0;i<input.length;i+=3){const e=input[i],n=i+1<input.length,r=n?input[i+1]:0,o=i+2<input.length,c=o?input[i+2]:0,l=e>>2,h=(3&e)<<4|r>>4;let d=(15&r)<<2|c>>6,f=63&c;o||(f=64,n||(d=64)),output.push(t[l],t[h],t[d],t[f])}return output.join("")},encodeString(input,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(input):this.encodeByteArray(r(input),e)},decodeString(input,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(input):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){const u=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{const c=e[n++],l=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(input,e))},decodeStringToByteArray(input,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,output=[];for(let i=0;i<input.length;){const e=t[input.charAt(i++)],n=i<input.length?t[input.charAt(i)]:0;++i;const r=i<input.length?t[input.charAt(i)]:64;++i;const o=i<input.length?t[input.charAt(i)]:64;if(++i,null==e||null==n||null==r||null==o)throw Error();const c=e<<2|n>>4;if(output.push(c),64!==r){const e=n<<4&240|r>>2;if(output.push(e),64!==o){const e=r<<6&192|o;output.push(e)}}}return output},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},c=function(e){return function(e){const t=r(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(e,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return source}for(const t in source)source.hasOwnProperty(t)&&"__proto__"!==t&&(e[t]=h(e[t],source[t]));return e}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,sub=e.sub||e.user_id;if(!sub)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:sub,user_id:sub,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(o)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function w(){return"object"==typeof self&&self.self===self}function _(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function E(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function S(){return m().indexOf("Electron/")>=0}function T(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O(){return m().indexOf("MSAppHost/")>=0}function I(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return"object"==typeof indexedDB}function C(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class k extends Error{constructor(code,e,t){super(e),this.code=code,this.customData=t,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(code,...data){const e=data[0]||{},t=`${this.service}/${code}`,template=this.errors[code],n=template?function(template,data){return template.replace(R,((e,t)=>{const n=data[t];return null!=n?String(n):`<${t}?>`}))}(template,e):"Error",r=`${this.serviceName}: ${n} (${t}).`;return new k(t,r,e)}}const R=/\{\$([^}]+)}/g;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(a,b){if(a===b)return!0;const e=Object.keys(a),t=Object.keys(b);for(const n of e){if(!t.includes(n))return!1;const e=a[n],r=b[n];if(P(e)&&P(r)){if(!j(e,r))return!1}else if(e!==r)return!1}for(const n of t)if(!e.includes(n))return!1;return!0}function P(e){return null!==e&&"object"==typeof e}function M(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function L(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function F(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}unsubscribeOne(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(i,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[i])try{e(this.observers[i])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function B(){}function $(e){return e&&e._delegate?e._delegate:e}}).call(this,n(35))},function(e,t,n){"use strict";n.d(t,"k",(function(){return w})),n.d(t,"m",(function(){return _})),n.d(t,"l",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"s",(function(){return O})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return C})),n.d(t,"r",(function(){return k})),n.d(t,"j",(function(){return D})),n.d(t,"t",(function(){return A})),n.d(t,"o",(function(){return j})),n.d(t,"q",(function(){return P})),n.d(t,"f",(function(){return M})),n.d(t,"c",(function(){return L})),n.d(t,"i",(function(){return U})),n.d(t,"p",(function(){return F})),n.d(t,"a",(function(){return G})),n.d(t,"v",(function(){return Y})),n.d(t,"n",(function(){return K})),n.d(t,"u",(function(){return X}));n(21),n(44),n(38),n(39);var r=n(29),o=n(10),c=n(9),l=n(31),h=(n(37),n(26),n(313),n(19),n(11),n(46),n(32),n(45),n(43),n(23),n(82),n(63),n(199),n(200),n(61),n(62),n(318),n(88),n(70),n(5)),d=n(41);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function w(e){h.default.config.errorHandler&&h.default.config.errorHandler(e)}function _(e){return e.then((function(e){return e.default||e}))}function E(e){return e.$options&&"function"==typeof e.$options.fetch&&!e.$options.fetch.length}function S(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$children||[],o=v(r);try{for(o.s();!(t=o.n()).done;){var c=t.value;c.$fetch?n.push(c):c.$children&&S(c,n)}}catch(e){o.e(e)}finally{o.f()}return n}function T(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),m(m({},data),t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function O(e){return e.options&&e._Ctor===e||(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=h.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file)),e}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e[n]).map((function(o){return t&&t.push(r),e[n][o]}))})))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return I(e,t,"instances")}function C(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function k(e,t){return Promise.all(C(e,function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,r,o,c){var l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n||n.options){e.next=11;break}return e.prev=1,e.next=4,n();case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0&&"ChunkLoadError"===e.t0.name&&"undefined"!=typeof window&&window.sessionStorage&&(l=Date.now(),(!(h=parseInt(window.sessionStorage.getItem("nuxt-reload")))||h+6e4<l)&&(window.sessionStorage.setItem("nuxt-reload",l),window.location.reload(!0))),e.t0;case 11:return o.components[c]=n=O(n),e.abrupt("return","function"==typeof t?t(n,r,o,c):n);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function D(e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k(t);case 4:return e.abrupt("return",m(m({},t),{},{meta:I(t).map((function(e,n){return m(m({},e.options.meta),(t.matched[n]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var o,c,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!0,isDev:!1,isHMR:!1,app:t,store:t.store,payload:n.payload,error:n.error,base:t.router.options.base,env:{}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),n.ssrContext&&(t.context.ssrContext=n.ssrContext),t.context.redirect=function(e,path,n){if(e){t.context._redirected=!0;var o=Object(r.a)(path);if("number"==typeof e||"undefined"!==o&&"object"!==o||(n=path||{},path=e,o=Object(r.a)(path),e=302),"object"===o&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=Object(d.d)(path,n),window.location.replace(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),e.next=3,Promise.all([D(n.route),D(n.from)]);case 3:o=e.sent,c=Object(l.a)(o,2),h=c[0],f=c[1],n.route&&(t.context.route=h),n.from&&(t.context.from=f),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():P(e[0],t).then((function(){return j(e.slice(1),t)}))}function P(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function M(base,e){if("hash"===e)return window.location.hash.replace(/^#\//,"");base=decodeURI(base).slice(0,-1);var path=decodeURI(window.location.pathname);base&&path.startsWith(base)&&(path=path.slice(base.length));var t=(path||"/")+window.location.search+window.location.hash;return Object(d.c)(t)}function L(e,t){return function(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===Object(r.a)(e[i])&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",W(t)));return function(t,r){for(var path="",data=t||{},o=(r||{}).pretty?B:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h=data[l.name||"pathMatch"],d=void 0;if(null==h){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=o(h[f]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");path+=(0===f?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?$(h):o(h),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');path+=l.prefix+d}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=V.exec(e));){var h=n[0],d=n[1],f=n.index;if(path+=e.slice(c,f),c=f+h.length,d)path+=d[1];else{var m=e[c],v=n[2],y=n[3],w=n[4],_=n[5],E=n[6],S=n[7];path&&(r.push(path),path="");var T=null!=v&&null!=m&&m!==v,O="+"===E||"*"===E,I="?"===E||"*"===E,x=n[2]||l,pattern=w||_;r.push({name:y||o++,prefix:v||"",delimiter:x,optional:I,repeat:O,partial:T,asterisk:Boolean(S),pattern:pattern?z(pattern):S?".*":"[^"+H(x)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t),t)}function U(e,t){var n={},r=m(m({},e),t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function F(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return m(m({},e),{},{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var V=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function $(e){return B(e,!0)}function H(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function z(e){return e.replace(/([=!:$/()])/g,"\\$1")}function W(e){return e&&e.sensitive?"":"i"}function G(e,t,n){e.$options[t]||(e.$options[t]=[]),e.$options[t].includes(n)||e.$options[t].push(n)}var Y=d.b,K=(d.e,d.a);function X(e){try{window.history.scrollRestoration=e}catch(e){}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return xe})),n.d(t,"c",(function(){return Le})),n.d(t,"d",(function(){return Be})),n.d(t,"e",(function(){return He})),n.d(t,"f",(function(){return $e})),n.d(t,"g",(function(){return Ne})),n.d(t,"h",(function(){return Ve})),n.d(t,"i",(function(){return Dn})),n.d(t,"j",(function(){return xr})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return Sn})),n.d(t,"m",(function(){return qe})),n.d(t,"n",(function(){return ze})),n.d(t,"o",(function(){return We})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return Ee})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return Zt})),n.d(t,"t",(function(){return A})),n.d(t,"u",(function(){return Qn})),n.d(t,"v",(function(){return zn})),n.d(t,"w",(function(){return ae})),n.d(t,"y",(function(){return gt})),n.d(t,"z",(function(){return Gt})),n.d(t,"A",(function(){return Or})),n.d(t,"B",(function(){return Kt})),n.d(t,"C",(function(){return vt})),n.d(t,"D",(function(){return mt})),n.d(t,"E",(function(){return Te})),n.d(t,"G",(function(){return bt})),n.d(t,"H",(function(){return v})),n.d(t,"I",(function(){return Tt})),n.d(t,"J",(function(){return Lt})),n.d(t,"K",(function(){return Vt})),n.d(t,"L",(function(){return Zn})),n.d(t,"M",(function(){return se})),n.d(t,"N",(function(){return hn})),n.d(t,"O",(function(){return Et})),n.d(t,"P",(function(){return at})),n.d(t,"Q",(function(){return In})),n.d(t,"R",(function(){return Vn})),n.d(t,"S",(function(){return Xn})),n.d(t,"T",(function(){return Ht})),n.d(t,"U",(function(){return ut})),n.d(t,"V",(function(){return xn})),n.d(t,"W",(function(){return Fn})),n.d(t,"X",(function(){return Kn})),n.d(t,"Y",(function(){return Ot})),n.d(t,"Z",(function(){return pt})),n.d(t,"ab",(function(){return _t})),n.d(t,"bb",(function(){return Xe})),n.d(t,"cb",(function(){return st})),n.d(t,"db",(function(){return ct})),n.d(t,"eb",(function(){return wt})),n.d(t,"fb",(function(){return St})),n.d(t,"gb",(function(){return On})),n.d(t,"hb",(function(){return Un})),n.d(t,"ib",(function(){return Yn})),n.d(t,"jb",(function(){return et})),n.d(t,"kb",(function(){return Ct})),n.d(t,"lb",(function(){return kt})),n.d(t,"mb",(function(){return kn})),n.d(t,"nb",(function(){return xt})),n.d(t,"ob",(function(){return It})),n.d(t,"pb",(function(){return yt})),n.d(t,"x",(function(){return qr})),n.d(t,"F",(function(){return $r}));var r=n(2),o=n(8),c=n(1),l=n(16),h=n(13);const d={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},f={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function m(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},y=m,w=new r.b("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_=new l.b("@firebase/auth");function E(e,...t){_.logLevel<=l.a.ERROR&&_.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function S(e,...t){throw x(e,...t)}function T(e,...t){return x(e,...t)}function O(e,code,t){const n=Object.assign(Object.assign({},y()),{[code]:t});return new r.b("auth","Firebase",n).create(code,{appName:e.name})}function I(e,object,t){if(!(object instanceof t))throw t.name!==object.constructor.name&&S(e,"argument-error"),O(e,"argument-error",`Type of ${object.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x(e,...t){if("string"!=typeof e){const code=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(code,...n)}return w.create(e,...t)}function C(e,t,...n){if(!e)throw x(t,...n)}function k(e){const t="INTERNAL ASSERTION FAILED: "+e;throw E(t),new Error(t)}function D(e,t){e||k(t)}const R=new Map;function A(e){D(e instanceof Function,"Expected a class definition");let t=R.get(e);return t?(D(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,R.set(e,t),t)}function N(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function j(){return"http:"===P()||"https:"===P()}function P(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class M{constructor(e,t){this.shortDelay=e,this.longDelay=t,D(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(r.t)()||Object(r.v)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(j()||Object(r.o)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function L(e,path){D(e.emulator,"Emulator should always be set here");const{url:t}=e.emulator;return path?`${t}${path.startsWith("/")?path.slice(1):path}`:t}class U{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},V=new M(3e4,6e4);function B(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $(e,t,path,n,o={}){return H(e,o,(async()=>{let body={},o={};n&&("GET"===t?o=n:body={body:JSON.stringify(n)});const c=Object(r.y)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),U.fetch()(W(e,e.config.apiHost,path,c),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},body))}))}async function H(e,t,n){e._canInitEmulator=!1;const o=Object.assign(Object.assign({},F),t);try{const t=new G(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const c=await r.json();if("needConfirmation"in c)throw Y(e,"account-exists-with-different-credential",c);if(r.ok&&!("errorMessage"in c))return c;{const t=r.ok?c.errorMessage:c.error.message,[n,l]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Y(e,"credential-already-in-use",c);if("EMAIL_EXISTS"===n)throw Y(e,"email-already-in-use",c);if("USER_DISABLED"===n)throw Y(e,"user-disabled",c);const h=o[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw O(e,h,l);S(e,h)}}catch(t){if(t instanceof r.c)throw t;S(e,"network-request-failed")}}async function z(e,t,path,n,r={}){const o=await $(e,t,path,n,r);return"mfaPendingCredential"in o&&S(e,"multi-factor-auth-required",{_serverResponse:o}),o}function W(e,t,path,n){const base=`${t}${path}?${n}`;return e.config.emulator?L(e.config,base):`${e.config.apiScheme}://${base}`}class G{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(T(this.auth,"network-request-failed"))),V.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(e,code,t){const n={appName:e.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=T(e,code,n);return r.customData._tokenResponse=t,r}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function X(e){return 1e3*Number(e)}function Z(e){var t;const[n,o,c]=e.split(".");if(void 0===n||void 0===o||void 0===c)return E("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(r.d)(o);return e?JSON.parse(e):(E("Failed to decode base64 JWT payload"),null)}catch(e){return E("Caught error parsing JWT payload as JSON",null===(t=e)||void 0===t?void 0:t.toString()),null}}async function Q(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.c&&function({code:code}){return"auth/user-disabled"===code||"auth/user-token-expired"===code}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===(e=t)||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ee{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function te(e){var t;const n=e.auth,r=await e.getIdToken(),o=await Q(e,async function(e,t){return $(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));C(null==o?void 0:o.users.length,n,"internal-error");const l=o.users[0];e._notifyReloadListener(l);const h=(null===(t=l.providerUserInfo)||void 0===t?void 0:t.length)?l.providerUserInfo.map((e=>{var{providerId:t}=e,n=Object(c.c)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const d=(f=e.providerData,m=h,[...f.filter((e=>!m.some((t=>t.providerId===e.providerId)))),...m]);var f,m;const v=e.isAnonymous,y=!(e.email&&l.passwordHash||(null==d?void 0:d.length)),w=!!v&&y,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ee(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(e,_)}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(void 0!==e.idToken,"internal-error"),C(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Z(e);return C(t,"internal-error"),C(void 0!==t.exp,"internal-error"),C(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return C(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:c}=await async function(e,t){const n=await H(e,{},(async()=>{const body=Object(r.y)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:o}=e.config,c=W(e,n,"/v1/token",`key=${o}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(c,{method:"POST",headers:l,body:body})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,o,Number(c))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,object){const{refreshToken:t,accessToken:n,expirationTime:r}=object,o=new ne;return t&&(C("string"==typeof t,"internal-error",{appName:e}),o.refreshToken=t),n&&(C("string"==typeof n,"internal-error",{appName:e}),o.accessToken=n),r&&(C("number"==typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return k("not implemented")}}function re(e,t){C("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ie{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=Object(c.c)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ee(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Q(this,this.stsTokenManager.getToken(this.auth,e));return C(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Object(r.l)(e),o=await n.getIdToken(t),c=Z(o);C(c&&c.exp&&c.auth_time&&c.iat,n.auth,"internal-error");const l="object"==typeof c.firebase?c.firebase:void 0,h=null==l?void 0:l.sign_in_provider;return{claims:c,token:o,authTime:K(X(c.auth_time)),issuedAtTime:K(X(c.iat)),expirationTime:K(X(c.exp)),signInProvider:h||null,signInSecondFactor:(null==l?void 0:l.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(r.l)(e);await te(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ie(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await te(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Q(this,async function(e,t){return $(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,object){var t,n,r,o,c,l,h,d;const f=null!==(t=object.displayName)&&void 0!==t?t:void 0,m=null!==(n=object.email)&&void 0!==n?n:void 0,v=null!==(r=object.phoneNumber)&&void 0!==r?r:void 0,y=null!==(o=object.photoURL)&&void 0!==o?o:void 0,w=null!==(c=object.tenantId)&&void 0!==c?c:void 0,_=null!==(l=object._redirectEventId)&&void 0!==l?l:void 0,E=null!==(h=object.createdAt)&&void 0!==h?h:void 0,S=null!==(d=object.lastLoginAt)&&void 0!==d?d:void 0,{uid:T,emailVerified:O,isAnonymous:I,providerData:x,stsTokenManager:k}=object;C(T&&k,e,"internal-error");const D=ne.fromJSON(this.name,k);C("string"==typeof T,e,"internal-error"),re(f,e.name),re(m,e.name),C("boolean"==typeof O,e,"internal-error"),C("boolean"==typeof I,e,"internal-error"),re(v,e.name),re(y,e.name),re(w,e.name),re(_,e.name),re(E,e.name),re(S,e.name);const R=new ie({uid:T,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:I,photoURL:y,phoneNumber:v,tenantId:w,stsTokenManager:D,createdAt:E,lastLoginAt:S});return x&&Array.isArray(x)&&(R.providerData=x.map((e=>Object.assign({},e)))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(e,t,n=!1){const r=new ne;r.updateFromServerResponse(t);const o=new ie({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await te(o),o}}class oe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oe.type="NONE";const se=oe;function ae(e,t,n){return`firebase:${e}:${t}:${n}`}class ue{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=ae(this.userKey,r.apiKey,o),this.fullPersistenceKey=ae("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ie._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ue(A(se),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=r[0]||A(se);const c=ae(n,e.config.apiKey,e.name);let l=null;for(const n of t)try{const t=await n._get(c);if(t){const r=ie._fromJSON(e,t);n!==o&&(l=r),o=n;break}}catch(e){}const h=r.filter((p=>p._shouldAllowMigration));return o._shouldAllowMigration&&h.length?(o=h[0],l&&await o._set(c,l.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(c)}catch(e){}}))),new ue(o,e,n)):new ue(o,e,n)}}function ce(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(me(t))return"Blackberry";if(ge(t))return"Webos";if(he(t))return"Safari";if((t.includes("chrome/")||de(t))&&!t.includes("edge/"))return"Chrome";if(pe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function le(e=Object(r.m)()){return/firefox\//i.test(e)}function he(e=Object(r.m)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function de(e=Object(r.m)()){return/crios\//i.test(e)}function fe(e=Object(r.m)()){return/iemobile/i.test(e)}function pe(e=Object(r.m)()){return/android/i.test(e)}function me(e=Object(r.m)()){return/blackberry/i.test(e)}function ge(e=Object(r.m)()){return/webos/i.test(e)}function ve(e=Object(r.m)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ye(e=Object(r.m)()){return ve(e)||pe(e)||ge(e)||me(e)||/windows phone/i.test(e)||fe(e)}function be(e,t=[]){let n;switch(e){case"Browser":n=ce(Object(r.m)());break;case"Worker":n=`${ce(Object(r.m)())}-${e}`;break;default:n=e}const c=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${c}`}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(e){n.reverse();for(const e of n)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=e)||void 0===t?void 0:t.message})}}}class _e{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Se(this),this.idTokenSubscription=new Se(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=A(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ue.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,c=null==r?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);n&&n!==c||!(null==l?void 0:l.user)||(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return C(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await te(e)}catch(e){if("auth/network-request-failed"!==(null===(t=e)||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(r.l)(e):null;return t&&C(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&C(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(A(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.b("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&A(e)||this._popupRedirectResolver;C(t,this,"argument-error"),this.redirectPersistenceManager=await ue.create(this,[A(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),c=this._isInitialized?Promise.resolve():this._initializationPromise;return C(c,this,"internal-error"),c.then((()=>o(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=be(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Ee(e){return Object(r.l)(e)}class Se{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(r.h)((e=>this.observer=e))}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Te(e,t,n){const r=Ee(e);C(r._canInitEmulator,r,"emulator-config-failed"),C(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null==n?void 0:n.disableWarnings),c=Oe(t),{host:l,port:h}=function(e){const t=Oe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Ie(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ie(t)}}}(t),d=null===h?"":`:${h}`;r.config.emulator={url:`${c}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Oe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ie(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class xe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return k("not implemented")}_getIdTokenResponse(e){return k("not implemented")}_linkToIdToken(e,t){return k("not implemented")}_getReauthenticationResolver(e){return k("not implemented")}}async function Ce(e,t){return $(e,"POST","/v1/accounts:resetPassword",B(e,t))}async function ke(e,t){return $(e,"POST","/v1/accounts:update",t)}async function De(e,t){return $(e,"POST","/v1/accounts:sendOobCode",B(e,t))}class Re extends xe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Re(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Re(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPassword",B(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{email:this._email,oobCode:this._password});default:S(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ke(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return z(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:S(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ae(e,t){return z(e,"POST","/v1/accounts:signInWithIdp",B(e,t))}class Ne extends xe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ne(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):S("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=Object(c.c)(t,["providerId","signInMethod"]);if(!n||!r)return null;const l=new Ne(n,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){return Ae(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ae(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ae(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(r.y)(t)}return e}}const je={USER_NOT_FOUND:"user-not-found"};class Pe extends xe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await z(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t));if(n.temporaryProof)throw Y(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return z(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),je)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Pe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Me{constructor(e){var t,n,o,c,l,h;const d=Object(r.z)(Object(r.k)(e)),f=null!==(t=d.apiKey)&&void 0!==t?t:null,code=null!==(n=d.oobCode)&&void 0!==n?n:null,m=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=d.mode)&&void 0!==o?o:null);C(f&&code&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=code,this.continueUrl=null!==(c=d.continueUrl)&&void 0!==c?c:null,this.languageCode=null!==(l=d.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(h=d.tenantId)&&void 0!==h?h:null}static parseLink(link){const e=function(e){const link=Object(r.z)(Object(r.k)(e)).link,t=link?Object(r.z)(Object(r.k)(link)).deep_link_id:null,n=Object(r.z)(Object(r.k)(e)).deep_link_id;return(n?Object(r.z)(Object(r.k)(n)).link:null)||n||t||link||e}(link);try{return new Me(e)}catch(e){return null}}}class Le{constructor(){this.providerId=Le.PROVIDER_ID}static credential(e,t){return Re._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Me.parseLink(t);return C(n,"argument-error"),Re._fromEmailAndCode(e,n.code,n.tenantId)}}Le.PROVIDER_ID="password",Le.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Le.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ue{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fe extends Ue{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ve extends Fe{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return C("providerId"in t&&"signInMethod"in t,"argument-error"),Ne._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return C(e.idToken||e.accessToken,"argument-error"),Ne._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ve.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ve.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:o,nonce:c,providerId:l}=e;if(!(n||r||t||o))return null;if(!l)return null;try{return new Ve(l)._credential({idToken:t,accessToken:n,nonce:c,pendingToken:o})}catch(e){return null}}}class Be extends Fe{constructor(){super("facebook.com")}static credential(e){return Ne._fromParams({providerId:Be.PROVIDER_ID,signInMethod:Be.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Be.credentialFromTaggedObject(e)}static credentialFromError(e){return Be.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Be.credential(e.oauthAccessToken)}catch(e){return null}}}Be.FACEBOOK_SIGN_IN_METHOD="facebook.com",Be.PROVIDER_ID="facebook.com";class $e extends Fe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ne._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return $e.credential(t,n)}catch(e){return null}}}$e.GOOGLE_SIGN_IN_METHOD="google.com",$e.PROVIDER_ID="google.com";class He extends Fe{constructor(){super("github.com")}static credential(e){return Ne._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return He.credential(e.oauthAccessToken)}catch(e){return null}}}He.GITHUB_SIGN_IN_METHOD="github.com",He.PROVIDER_ID="github.com";class qe extends xe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ae(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ae(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ae(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:o}=t;return n&&r&&o&&n===r?new qe(n,o):null}static _create(e,t){return new qe(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ze extends Ue{constructor(e){C(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ze.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ze.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=qe.fromJSON(e);return C(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return qe._create(n,t)}catch(e){return null}}}class We extends Fe{constructor(){super("twitter.com")}static credential(e,t){return Ne._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return We.credential(t,n)}catch(e){return null}}}async function Ge(e,t){return z(e,"POST","/v1/accounts:signUp",B(e,t))}We.TWITTER_SIGN_IN_METHOD="twitter.com",We.PROVIDER_ID="twitter.com";class Ye{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const o=await ie._fromIdTokenResponse(e,n,r),c=Ke(n);return new Ye({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ke(n);return new Ye({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ke(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function Xe(e){var t;const n=Ee(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ye({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ge(n,{returnSecureToken:!0}),o=await Ye._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(o.user),o}class Ze extends r.c{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ze.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ze(e,t,n,r)}}function Qe(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ze._fromErrorAndOperation(e,n,t,r);throw n}))}function Je(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function et(e,t){const n=Object(r.l)(e);await nt(!0,n,t);const{providerUserInfo:o}=await async function(e,t){return $(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),c=Je(o||[]);return n.providerData=n.providerData.filter((e=>c.has(e.providerId))),c.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function tt(e,t,n=!1){const r=await Q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ye._forOperation(e,"link",r)}async function nt(e,t,n){await te(t);const code=!1===e?"provider-already-linked":"no-such-provider";C(Je(t.providerData).has(n)===e,t.auth,code)}async function it(e,t,n=!1){var r;const{auth:o}=e,c="reauthenticate";try{const r=await Q(e,Qe(o,c,t,e),n);C(r.idToken,o,"internal-error");const l=Z(r.idToken);C(l,o,"internal-error");const{sub:h}=l;return C(e.uid===h,o,"user-mismatch"),Ye._forOperation(e,c,r)}catch(e){throw"auth/user-not-found"===(null===(r=e)||void 0===r?void 0:r.code)&&S(o,"user-mismatch"),e}}async function ot(e,t,n=!1){const r="signIn",o=await Qe(e,r,t),c=await Ye._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(c.user),c}async function st(e,t){return ot(Ee(e),t)}async function at(e,t){const n=Object(r.l)(e);return await nt(!1,n,t.providerId),tt(n,t)}async function ut(e,t){return it(Object(r.l)(e),t)}async function ct(e,t){const n=Ee(e),r=await async function(e,t){return z(e,"POST","/v1/accounts:signInWithCustomToken",B(e,t))}(n,{token:t,returnSecureToken:!0}),o=await Ye._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(o.user),o}class lt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ht._fromServerResponse(e,t):S(e,"internal-error")}}class ht extends lt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ht(t)}}function ft(e,t,n){var r;C((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),C(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(C(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(C(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function pt(e,t,n){const o=Object(r.l)(e),c={requestType:"PASSWORD_RESET",email:t};n&&ft(o,c,n),await async function(e,t){return De(e,t)}(o,c)}async function mt(e,t,n){await Ce(Object(r.l)(e),{oobCode:t,newPassword:n})}async function gt(e,t){await async function(e,t){return $(e,"POST","/v1/accounts:update",B(e,t))}(Object(r.l)(e),{oobCode:t})}async function vt(e,t){const n=Object(r.l)(e),o=await Ce(n,{oobCode:t}),c=o.requestType;switch(C(c,n,"internal-error"),c){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":C(o.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":C(o.mfaInfo,n,"internal-error");default:C(o.email,n,"internal-error")}let l=null;return o.mfaInfo&&(l=lt._fromServerResponse(Ee(n),o.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===o.requestType?o.newEmail:o.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===o.requestType?o.email:o.newEmail)||null,multiFactorInfo:l},operation:c}}async function yt(e,code){const{data:data}=await vt(Object(r.l)(e),code);return data.email}async function bt(e,t,n){const r=Ee(e),o=await Ge(r,{returnSecureToken:!0,email:t,password:n}),c=await Ye._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function wt(e,t,n){return st(Object(r.l)(e),Le.credential(t,n))}async function _t(e,t,n){const o=Object(r.l)(e),c={requestType:"EMAIL_SIGNIN",email:t};C(n.handleCodeInApp,o,"argument-error"),n&&ft(o,c,n),await async function(e,t){return De(e,t)}(o,c)}function Et(e,t){const n=Me.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}async function St(e,t,n){const o=Object(r.l)(e),c=Le.credentialWithLink(t,n||N());return C(c._tenantId===(o.tenantId||null),o,"tenant-id-mismatch"),st(o,c)}async function Tt(e,t){const n={identifier:t,continueUri:j()?N():"http://localhost"},{signinMethods:o}=await async function(e,t){return $(e,"POST","/v1/accounts:createAuthUri",B(e,t))}(Object(r.l)(e),n);return o||[]}async function Ot(e,t){const n=Object(r.l)(e),o={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ft(n.auth,o,t);const{email:c}=await async function(e,t){return De(e,t)}(n.auth,o);c!==e.email&&await e.reload()}async function It(e,t,n){const o=Object(r.l)(e),c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ft(o.auth,c,n);const{email:l}=await async function(e,t){return De(e,t)}(o.auth,c);l!==e.email&&await e.reload()}async function xt(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const o=Object(r.l)(e),c={idToken:await o.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await Q(o,async function(e,t){return $(e,"POST","/v1/accounts:update",t)}(o.auth,c));o.displayName=l.displayName||null,o.photoURL=l.photoUrl||null;const h=o.providerData.find((({providerId:e})=>"password"===e));h&&(h.displayName=o.displayName,h.photoURL=o.photoURL),await o._updateTokensIfNecessary(l)}function Ct(e,t){return Dt(Object(r.l)(e),t,null)}function kt(e,t){return Dt(Object(r.l)(e),null,t)}async function Dt(e,t,n){const{auth:r}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const c=await Q(e,ke(r,o));await e._updateTokensIfNecessary(c,!0)}class Rt{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class At extends Rt{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Nt extends Rt{constructor(e,t){super(e,"facebook.com",t)}}class jt extends At{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Pt extends Rt{constructor(e,t){super(e,"google.com",t)}}class Mt extends At{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Lt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,o=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},c=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Z(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Rt(c,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Nt(c,o);case"github.com":return new jt(c,o);case"google.com":return new Pt(c,o);case"twitter.com":return new Mt(c,o,e.screenName||null);case"custom":case"anonymous":return new Rt(c,null);default:return new Rt(c,r,o)}}(n)}class Ut{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Ut("enroll",e)}static _fromMfaPendingCredential(e){return new Ut("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ut._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ut._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ft{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ee(e),r=t.customData._serverResponse,o=(r.mfaInfo||[]).map((e=>lt._fromServerResponse(n,e)));C(r.mfaPendingCredential,n,"internal-error");const c=Ut._fromMfaPendingCredential(r.mfaPendingCredential);return new Ft(c,o,(async e=>{const o=await e._process(n,c);delete r.mfaInfo,delete r.mfaPendingCredential;const l=Object.assign(Object.assign({},r),{idToken:o.idToken,refreshToken:o.refreshToken});switch(t.operationType){case"signIn":const e=await Ye._fromIdTokenResponse(n,t.operationType,l);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return C(t.user,n,"internal-error"),Ye._forOperation(t.user,t.operationType,l);default:S(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Vt(e,t){var n;const o=Object(r.l)(e),c=t;return C(t.customData.operationType,o,"argument-error"),C(null===(n=c.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,o,"argument-error"),Ft._fromError(o,c)}class Bt{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>lt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Bt(e)}async getSession(){return Ut._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),o=await Q(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){var t;const n="string"==typeof e?e:e.uid,r=await this.user.getIdToken(),o=await Q(this.user,(c=this.user.auth,l={idToken:r,mfaEnrollmentId:n},$(c,"POST","/v2/accounts/mfaEnrollment:withdraw",B(c,l))));var c,l;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==n)),await this.user._updateTokensIfNecessary(o);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==(null===(t=e)||void 0===t?void 0:t.code))throw e}}}const $t=new WeakMap;function Ht(e){const t=Object(r.l)(e);return $t.has(t)||$t.set(t,Bt._fromUser(t)),$t.get(t)}const qt="__sak";class zt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qt,"1"),this.storage.removeItem(qt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Wt extends zt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(r.m)();return he(e)||ve(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ye(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const o=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},c=this.storage.getItem(n);Object(r.r)()&&10===document.documentMode&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wt.type="LOCAL";const Gt=Wt;class Yt extends zt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yt.type="SESSION";const Kt=Yt;class Xt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Xt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:data}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(o).map((async e=>e(t.origin,data))),l=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:l})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Zt(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Xt.receivers=[];class Qt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,data,t=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let r,o;return new Promise(((c,l)=>{const h=Zt("",20);n.port1.start();const d=setTimeout((()=>{l(new Error("unsupported_event"))}),t);o={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===h)switch(t.data.status){case"ack":clearTimeout(d),r=setTimeout((()=>{l(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),c(t.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"))}}},this.handlers.add(o),n.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:data},[n.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jt(){return window}function en(){return void 0!==Jt().WorkerGlobalScope&&"function"==typeof Jt().importScripts}const tn="firebaseLocalStorageDb",nn="firebaseLocalStorage",rn="fbase_key";class on{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function sn(e,t){return e.transaction([nn],t?"readwrite":"readonly").objectStore(nn)}function an(){const e=indexedDB.open(tn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(nn,{keyPath:rn})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(nn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(tn);return new on(e).toPromise()}(),t(await an()))}))}))}async function un(e,t,n){const r=sn(e,!0).put({[rn]:t,value:n});return new on(r).toPromise()}function cn(e,t){const n=sn(e,!0).delete(t);return new on(n).toPromise()}class ln{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await an()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return en()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xt._getInstance(en()?self:null),this.receiver._subscribe("keyChanged",(async(e,data)=>({keyProcessed:(await this._poll()).includes(data.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Qt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await an();return await un(e,qt,"1"),await cn(e,qt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>un(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=sn(e,!1).get(t),data=await new on(n).toPromise();return void 0===data?null:data.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>cn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=sn(e,!1).getAll();return new on(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ln.type="LOCAL";const hn=ln;function dn(e){return new Promise(((t,n)=>{const r=document.createElement("script");var o,c;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=T("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(c=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==c?c:document).appendChild(r)}))}function fn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const pn=1e12;class mn{constructor(e){this.auth=e,this.counter=pn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new gn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||pn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||pn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||pn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class gn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;C(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vn=fn("rcb"),yn=new M(3e4,6e4);class bn{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Jt().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return C(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Jt().grecaptcha):new Promise(((n,o)=>{const c=Jt().setTimeout((()=>{o(T(e,"network-request-failed"))}),yn.get());Jt()[vn]=()=>{Jt().clearTimeout(c),delete Jt()[vn];const r=Jt().grecaptcha;if(!r)return void o(T(e,"internal-error"));const l=r.render;r.render=(e,t)=>{const n=l(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};dn(`https://www.google.com/recaptcha/api.js??${Object(r.y)({onload:vn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(c),o(T(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Jt().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wn{async load(e){return new mn(e)}clearedOneInstance(){}}const _n="recaptcha",En={theme:"light",type:"image"};class Sn{constructor(e,t=Object.assign({},En),n){this.parameters=t,this.type=_n,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ee(n),this.isInvisible="invisible"===this.parameters.size,C("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;C(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wn:new bn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){C(!this.parameters.sitekey,this.auth,"argument-error"),C(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),C("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Jt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){C(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){C(j()&&!en(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await $(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);C(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return C(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Pe._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function On(e,t,n){const o=Ee(e),c=await Cn(o,t,Object(r.l)(n));return new Tn(c,(e=>st(o,e)))}async function In(e,t,n){const o=Object(r.l)(e);await nt(!1,o,"phone");const c=await Cn(o.auth,t,Object(r.l)(n));return new Tn(c,(e=>at(o,e)))}async function xn(e,t,n){const o=Object(r.l)(e),c=await Cn(o.auth,t,Object(r.l)(n));return new Tn(c,(e=>ut(o,e)))}async function Cn(e,t,n){var r;const o=await n.verify();try{let c;if(C("string"==typeof o,e,"argument-error"),C(n.type===_n,e,"argument-error"),c="string"==typeof t?{phoneNumber:t}:t,"session"in c){const t=c.session;if("phoneNumber"in c){C("enroll"===t.type,e,"internal-error");const n=await function(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:start",B(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:c.phoneNumber,recaptchaToken:o}});return n.phoneSessionInfo.sessionInfo}{C("signin"===t.type,e,"internal-error");const n=(null===(r=c.multiFactorHint)||void 0===r?void 0:r.uid)||c.multiFactorUid;C(n,e,"missing-multi-factor-info");const l=await function(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:start",B(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}});return l.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return $(e,"POST","/v1/accounts:sendVerificationCode",B(e,t))}(e,{phoneNumber:c.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}async function kn(e,t){await tt(Object(r.l)(e),t)}class Dn{constructor(e){this.providerId=Dn.PROVIDER_ID,this.auth=Ee(e)}verifyPhoneNumber(e,t){return Cn(this.auth,e,Object(r.l)(t))}static credential(e,t){return Pe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Dn.credentialFromTaggedObject(t)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Pe._fromTokenResponse(t,n):null}}function Rn(e,t){return t?A(t):(C(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Dn.PROVIDER_ID="phone",Dn.PHONE_SIGN_IN_METHOD="phone";class An extends xe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ae(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ae(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ae(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Nn(e){return ot(e.auth,new An(e),e.bypassAuthState)}function jn(e){const{auth:t,user:n}=e;return C(n,t,"internal-error"),it(n,new An(e),e.bypassAuthState)}async function Pn(e){const{auth:t,user:n}=e;return C(n,t,"internal-error"),tt(n,new An(e),e.bypassAuthState)}class Mn{constructor(e,filter,t,n,r=!1){this.auth=e,this.resolver=t,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(filter)?filter:[filter]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:c,type:l}=e;if(c)return void this.reject(c);const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(h))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nn;case"linkViaPopup":case"linkViaRedirect":return Pn;case"reauthViaPopup":case"reauthViaRedirect":return jn;default:S(this.auth,"internal-error")}}resolve(e){D(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){D(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new M(2e3,1e4);async function Un(e,t,n){const r=Ee(e);I(e,t,Ue);const o=Rn(r,n);return new Bn(r,"signInViaPopup",t,o).executeNotNull()}async function Fn(e,t,n){const o=Object(r.l)(e);I(o.auth,t,Ue);const c=Rn(o.auth,n);return new Bn(o.auth,"reauthViaPopup",t,c,o).executeNotNull()}async function Vn(e,t,n){const o=Object(r.l)(e);I(o.auth,t,Ue);const c=Rn(o.auth,n);return new Bn(o.auth,"linkViaPopup",t,c,o).executeNotNull()}class Bn extends Mn{constructor(e,filter,t,n,r){super(e,filter,n,r),this.provider=t,this.authWindow=null,this.pollId=null,Bn.currentPopupAction&&Bn.currentPopupAction.cancel(),Bn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return C(e,this.auth,"internal-error"),e}async onExecution(){D(1===this.filter.length,"Popup operations only handle one event");const e=Zt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(T(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(T(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(T(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Ln.get())};e()}}Bn.currentPopupAction=null;const $n=new Map;class Hn extends Mn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=$n.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Gn(t),r=Wn(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}$n.set(this.auth._key(),e)}return this.bypassAuthState||$n.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function qn(e,t){return Wn(e)._set(Gn(t),"true")}function zn(e,t){$n.set(e._key(),t)}function Wn(e){return A(e._redirectPersistence)}function Gn(e){return ae("pendingRedirect",e.config.apiKey,e.name)}function Yn(e,t,n){return async function(e,t,n){const r=Ee(e);I(e,t,Ue);const o=Rn(r,n);return await qn(o,r),o._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Kn(e,t,n){return async function(e,t,n){const o=Object(r.l)(e);I(o.auth,t,Ue);const c=Rn(o.auth,n);await qn(c,o.auth);const l=await Jn(o);return c._openRedirect(o.auth,t,"reauthViaRedirect",l)}(e,t,n)}function Xn(e,t,n){return async function(e,t,n){const o=Object(r.l)(e);I(o.auth,t,Ue);const c=Rn(o.auth,n);await nt(!1,o,t.providerId),await qn(c,o.auth);const l=await Jn(o);return c._openRedirect(o.auth,t,"linkViaRedirect",l)}(e,t,n)}async function Zn(e,t){return await Ee(e)._initializationPromise,Qn(e,t,!1)}async function Qn(e,t,n=!1){const r=Ee(e),o=Rn(r,t),c=new Hn(r,o,n),l=await c.execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,t)),l}async function Jn(e){const t=Zt(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class er{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!rr(e)){const code=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(T(this.auth,code))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nr(e))}saveEventToCache(e){this.cachedEventUids.add(nr(e)),this.lastProcessedEventTime=Date.now()}}function nr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function rr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function ir(e,t={}){return $(e,"GET","/v1/projects",t)}const or=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^https?/;function ar(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!sr.test(n))return!1;if(or.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const ur=new M(3e4,6e4);function cr(){const e=Jt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}let lr=null;function dr(e){return lr=lr||function(e){return new Promise(((t,n)=>{var r,o,c;function l(){cr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cr(),n(T(e,"network-request-failed"))},timeout:ur.get()})}if(null===(o=null===(r=Jt().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(c=Jt().gapi)||void 0===c?void 0:c.load)){const t=fn("iframefcb");return Jt()[t]=()=>{gapi.load?l():n(T(e,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}l()}})).catch((e=>{throw lr=null,e}))}(e),lr}const fr=new M(5e3,15e3),pr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gr(e){const t=e.config;C(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?L(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,c={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},l=mr.get(e.config.apiHost);l&&(c.eid=l);const h=e._getFrameworks();return h.length&&(c.fw=h.join(",")),`${n}?${Object(r.y)(c).slice(1)}`}const vr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wr(e,t,n,o=500,c=600){const l=Math.max((window.screen.availHeight-c)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let d="";const f=Object.assign(Object.assign({},vr),{width:o.toString(),height:c.toString(),top:l,left:h}),m=Object(r.m)().toLowerCase();n&&(d=de(m)?"_blank":n),le(m)&&(t=t||"http://localhost",f.scrollbars="yes");const v=Object.entries(f).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Object(r.m)()){var t;return ve(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(m)&&"_self"!==d)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",d),new yr(null);const y=window.open(t||"",d,v);C(y,e,"popup-blocked");try{y.focus()}catch(e){}return new yr(y)}const _r="__/auth/handler",Er="emulator/auth/handler";function Sr(e,t,n,c,l,h){C(e.config.authDomain,e,"auth-domain-config-required"),C(e.config.apiKey,e,"invalid-api-key");const d={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:c,v:o.SDK_VERSION,eventId:l};if(t instanceof Ue){t.setDefaultLanguage(e.languageCode),d.providerId=t.providerId||"",Object(r.q)(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(h||{}))d[e]=t}if(t instanceof Fe){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(d.scopes=e.join(","))}e.tenantId&&(d.tid=e.tenantId);const f=d;for(const e of Object.keys(f))void 0===f[e]&&delete f[e];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${_r}`;return L(e,Er)}(e)}?${Object(r.y)(f).slice(1)}`}const Tr="webStorageSupport";const Or=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kt,this._completeRedirectFn=Qn,this._overrideRedirectResult=zn}async _openPopup(e,t,n,r){var o;D(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return wr(e,Sr(e,t,n,N(),r),Zt())}async _openRedirect(e,t,n,r){var o;return await this._originValidation(e),o=Sr(e,t,n,N(),r),Jt().location.href=o,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(D(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const iframe=await async function(e){const t=await dr(e),n=Jt().gapi;return C(n,e,"internal-error"),t.open({where:document.body,url:gr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pr,dontclear:!0},(iframe=>new Promise((async(t,n)=>{await iframe.restyle({setHideOnLeave:!1});const r=T(e,"network-request-failed"),o=Jt().setTimeout((()=>{n(r)}),fr.get());function c(){Jt().clearTimeout(o),t(iframe)}iframe.ping(c).then(c,(()=>{n(r)}))}))))}(e),t=new er(e);return iframe.register("authEvent",(n=>{C(null==n?void 0:n.authEvent,e,"invalid-auth-event");return{status:t.onEvent(n.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:t},this.iframes[e._key()]=iframe,t}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tr,{type:Tr},(n=>{var r;const o=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==o&&t(!!o),S(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ir(e);for(const e of t)try{if(ar(e))return}catch(e){}S(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ye()||he()||ve()}};class Ir extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return k("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ir(e)}_finalizeEnroll(e,t,n){return function(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class xr{constructor(){}static assertion(e){return Ir._fromCredential(e)}}xr.FACTOR_ID="phone";var Cr,kr="@firebase/auth",Dr="0.20.6";class Rr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ar(){return window}Cr="Browser",Object(o._registerComponent)(new h.a("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:o,authDomain:c}=n.options;return((e,n)=>{C(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),C(!(null==c?void 0:c.includes(":")),"argument-error",{appName:e.name});const r={apiKey:o,authDomain:c,clientPlatform:Cr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:be(Cr)},l=new _e(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(A);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Object(o._registerComponent)(new h.a("auth-internal",(e=>(e=>new Rr(e))(Ee(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(o.registerVersion)(kr,Dr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Cr)),Object(o.registerVersion)(kr,Dr,"esm2017");async function Nr(e,t,n){var r;const{BuildInfo:o}=Ar();D(t.sessionId,"AuthEvent did not contain a session ID");const c=await async function(e){const t=function(e){if(D(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),view=new Uint8Array(t);for(let i=0;i<e.length;i++)view[i]=e.charCodeAt(i);return view}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),l={};return ve()?l.ibi=o.packageName:pe()?l.apn=o.packageName:S(e,"operation-not-supported-in-this-environment"),o.displayName&&(l.appDisplayName=o.displayName),l.sessionId=c,Sr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,l)}function jr(e){const{cordova:t}=Ar();return new Promise((n=>{t.plugins.browsertab.isAvailable((o=>{let c=null;o?t.plugins.browsertab.openUrl(e):c=t.InAppBrowser.open(e,function(e=Object(r.m)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(c)}))}))}class Pr extends er{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Mr(e){const t=await Fr()._get(Vr(e));return t&&await Fr()._remove(Vr(e)),t}function Lr(e,t){var n,r;const o=function(e){const t=Br(e),link=t.link?decodeURIComponent(t.link):void 0,n=Br(link).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Br(r).link||r||n||link||e}(t);if(o.includes("/__/auth/callback")){const t=Br(o),c=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,code=null===(r=null===(n=null==c?void 0:c.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],l=code?T(code):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:o,postBody:null}}return null}function Ur(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<20;i++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Fr(){return A(Gt)}function Vr(e){return ae("authEvent",e.config.apiKey,e.name)}function Br(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Object(r.z)(n.join("?"))}const $r=class{constructor(){this._redirectPersistence=Kt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qn,this._overrideRedirectResult=zn}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Pr(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){S(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,o,c,l,h,d,f,m;const v=Ar();C("function"==typeof(null===(t=null==v?void 0:v.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),C(void 0!==(null===(n=null==v?void 0:v.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),C("function"==typeof(null===(c=null===(o=null===(r=null==v?void 0:v.cordova)||void 0===r?void 0:r.plugins)||void 0===o?void 0:o.browsertab)||void 0===c?void 0:c.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),C("function"==typeof(null===(d=null===(h=null===(l=null==v?void 0:v.cordova)||void 0===l?void 0:l.plugins)||void 0===h?void 0:h.browsertab)||void 0===d?void 0:d.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),C("function"==typeof(null===(m=null===(f=null==v?void 0:v.cordova)||void 0===f?void 0:f.InAppBrowser)||void 0===m?void 0:m.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),$n.clear(),await this._originValidation(e);const c=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ur(),postBody:null,tenantId:e.tenantId,error:T(e,"no-auth-event")}}(e,n,r);await function(e,t){return Fr()._set(Vr(e),t)}(e,c);const l=await Nr(e,c,t);return async function(e,t,n){const{cordova:r}=Ar();let o=()=>{};try{await new Promise(((c,l)=>{let h=null;function d(){var e;c();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function f(){h||(h=window.setTimeout((()=>{l(T(e,"redirect-cancelled-by-user"))}),2e3))}function m(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&f()}t.addPassiveListener(d),document.addEventListener("resume",f,!1),pe()&&document.addEventListener("visibilitychange",m,!1),o=()=>{t.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),h&&window.clearTimeout(h)}}))}finally{o()}}(e,o,await jr(l))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ar(),n={};ve()?n.iosBundleId=t.packageName:pe()?n.androidPackageName=t.packageName:S(e,"operation-not-supported-in-this-environment"),await ir(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:o}=Ar(),c=setTimeout((async()=>{await Mr(e),t.onEvent(Hr())}),500),l=async n=>{clearTimeout(c);const r=await Mr(e);let o=null;r&&(null==n?void 0:n.url)&&(o=Lr(r,n.url)),t.onEvent(o||Hr())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,l);const h=r,d=`${o.packageName.toLowerCase()}://`;Ar().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(d)&&l({url:e}),"function"==typeof h)try{h(e)}catch(e){console.error(e)}}}};function Hr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:T("no-auth-event")}}function qr(e,t){Ee(e)._logFramework(t)}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return bl})),n.d(t,"b",(function(){return fc})),n.d(t,"c",(function(){return Ju})),n.d(t,"d",(function(){return $u})),n.d(t,"e",(function(){return Wc})),n.d(t,"f",(function(){return dc})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return mc})),n.d(t,"i",(function(){return Gc})),n.d(t,"j",(function(){return Yc})),n.d(t,"k",(function(){return H})),n.d(t,"l",(function(){return El})),n.d(t,"m",(function(){return Be})),n.d(t,"n",(function(){return dt})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return Lu})),n.d(t,"q",(function(){return q})),n.d(t,"r",(function(){return Re})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return Nu})),n.d(t,"u",(function(){return Nl})),n.d(t,"v",(function(){return Hl})),n.d(t,"w",(function(){return $l})),n.d(t,"x",(function(){return sc})),n.d(t,"y",(function(){return zu})),n.d(t,"z",(function(){return Wu})),n.d(t,"A",(function(){return Bu})),n.d(t,"B",(function(){return Al})),n.d(t,"C",(function(){return Vl})),n.d(t,"D",(function(){return cc})),n.d(t,"E",(function(){return Gu})),n.d(t,"F",(function(){return rc})),n.d(t,"G",(function(){return ic})),n.d(t,"H",(function(){return uc})),n.d(t,"I",(function(){return ml})),n.d(t,"J",(function(){return pl})),n.d(t,"K",(function(){return tc})),n.d(t,"L",(function(){return Ml})),n.d(t,"M",(function(){return dl})),n.d(t,"N",(function(){return Ol})),n.d(t,"O",(function(){return Il})),n.d(t,"P",(function(){return xl})),n.d(t,"Q",(function(){return Cl})),n.d(t,"R",(function(){return kl})),n.d(t,"S",(function(){return ql})),n.d(t,"T",(function(){return sl})),n.d(t,"U",(function(){return al})),n.d(t,"V",(function(){return lc})),n.d(t,"W",(function(){return hc})),n.d(t,"X",(function(){return jl})),n.d(t,"Y",(function(){return Pl})),n.d(t,"Z",(function(){return rl})),n.d(t,"ab",(function(){return Jc})),n.d(t,"bb",(function(){return Ku})),n.d(t,"cb",(function(){return Yu})),n.d(t,"db",(function(){return Fl})),n.d(t,"eb",(function(){return Bl})),n.d(t,"fb",(function(){return Dl})),n.d(t,"gb",(function(){return w})),n.d(t,"hb",(function(){return Xc})),n.d(t,"ib",(function(){return hl})),n.d(t,"jb",(function(){return ll})),n.d(t,"kb",(function(){return Rl})),n.d(t,"lb",(function(){return ac})),n.d(t,"mb",(function(){return tl}));var r=n(8),o=n(13),c=n(16),l=n(2),h=n(18);const d="@firebase/firestore";class f{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}f.UNAUTHENTICATED=new f(null),f.GOOGLE_CREDENTIALS=new f("google-credentials-uid"),f.FIRST_PARTY=new f("first-party-uid"),f.MOCK_USER=new f("mock-user");let m="9.9.4";const v=new c.b("@firebase/firestore");function y(){return v.logLevel}function w(e){v.setLogLevel(e)}function _(e,...t){if(v.logLevel<=c.a.DEBUG){const n=t.map(T);v.debug(`Firestore (${m}): ${e}`,...n)}}function E(e,...t){if(v.logLevel<=c.a.ERROR){const n=t.map(T);v.error(`Firestore (${m}): ${e}`,...n)}}function S(e,...t){if(v.logLevel<=c.a.WARN){const n=t.map(T);v.warn(`Firestore (${m}): ${e}`,...n)}}function T(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function O(e="Unexpected state"){const t=`FIRESTORE (${m}) INTERNAL ASSERTION FAILED: `+e;throw E(t),new Error(t)}function I(e,t){e||O()}function q(e,t){e||O()}function x(e,t){return e}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends l.c{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class D{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class R{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(f.UNAUTHENTICATED)))}shutdown(){}}class N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class j{constructor(e){this.t=e,this.currentUser=f.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const s=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new D;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new D,e.enqueueRetryable((()=>s(this.currentUser)))};const r=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await s(this.currentUser)}))},o=e=>{_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(_("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new D)}}),0),r()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(I("string"==typeof t.accessToken),new R(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return I(null===e||"string"==typeof e),new f(e)}}class P{constructor(e,t,n,s){this.h=e,this.l=t,this.m=n,this.g=s,this.type="FirstParty",this.user=f.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(I(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class M{constructor(e,t,n,s){this.h=e,this.l=t,this.m=n,this.g=s}getToken(){return Promise.resolve(new P(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(f.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.A;return this.A=e.token,_("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const s=e=>{_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>s(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?s(e):_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(I("string"==typeof e.token),this.A=e.token,new L(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function F(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class V{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=F(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<t&&(n+=e.charAt(s[i]%e.length))}return n}}function B(e,t){return e<t?-1:e>t?1:0}function rt(e,t,n){return e.length===t.length&&e.every(((e,s)=>n(e,t[s])))}function $(e){return e+"\0"}class H{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new k(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new k(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new k(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return H.fromMillis(Date.now())}static fromDate(e){return H.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new H(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?B(this.nanoseconds,e.nanoseconds):B(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new H(0,0))}static max(){return new z(new H(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class W{constructor(e,t,n){void 0===t?t=0:t>e.length&&O(),void 0===n?n=e.length-t:n>e.length-t&&O(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===W.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof W?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const n=e.get(s),i=t.get(s);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class G extends W{construct(e,t,n){return new G(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new k(C.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new G(t)}static emptyPath(){return new G([])}}const Y=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class K extends W{construct(e,t,n){return new K(e,t,n)}static isValidIdentifier(e){return Y.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),K.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new K(["__name__"])}static fromServerFormat(e){const t=[];let n="",s=0;const i=()=>{if(0===n.length)throw new k(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let r=!1;for(;s<e.length;){const t=e[s];if("\\"===t){if(s+1===e.length)throw new k(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[s+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new k(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,s+=2}else"`"===t?(r=!r,s++):"."!==t||r?(n+=t,s++):(i(),s++)}if(i(),r)throw new k(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new K(t)}static emptyPath(){return new K([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(G.fromString(e))}static fromName(e){return new dt(G.fromString(e).popFirst(5))}static empty(){return new dt(G.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===G.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return G.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new G(e.slice()))}}class X{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}}function Z(e){return e.fields.find((e=>2===e.kind))}function Q(e){return e.fields.filter((e=>2!==e.kind))}X.UNKNOWN_ID=-1;class J{constructor(e,t){this.fieldPath=e,this.kind=t}}class ee{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ee(0,re.min())}}function te(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===s?new H(n+1,0):new H(n,s));return new re(i,dt.empty(),t)}function ne(e){return new re(e.readTime,e.key,-1)}class re{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new re(z.min(),dt.empty(),-1)}static max(){return new re(z.max(),dt.empty(),-1)}}function ie(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=dt.comparator(e.documentKey,t.documentKey),0!==n?n:B(e.largestBatchId,t.largestBatchId))}const oe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class se{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ae(e){if(e.code!==C.FAILED_PRECONDITION||e.message!==oe)throw e;_("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((n,s)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,s)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(e){return ue.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,n)=>{t(e)}))}static reject(e){return new ue(((t,n)=>{n(e)}))}static waitFor(e){return new ue(((t,n)=>{let s=0,i=0,r=!1;e.forEach((e=>{++s,e.next((()=>{++i,r&&i===s&&t()}),(e=>n(e)))})),r=!0,i===s&&t()}))}static or(e){let t=ue.resolve(!1);for(const n of e)t=t.next((e=>e?ue.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,s)=>{n.push(t.call(this,e,s))})),this.waitFor(n)}static mapArray(e,t){return new ue(((n,s)=>{const i=e.length,r=new Array(i);let o=0;for(let u=0;u<i;u++){const c=u;t(e[c]).next((e=>{r[c]=e,++o,o===i&&n(r)}),(e=>s(e)))}}))}static doWhile(e,t){return new ue(((n,s)=>{const i=()=>{!0===e()?t().next((()=>{i()}),s):n()};i()}))}}class ce{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new D,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new de(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=ve(t.target.error);this.P.reject(new de(e,n))}}static open(e,t,n,s){try{return new ce(t,e.transaction(s,n))}catch(e){throw new de(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(_("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new pe(t)}}class le{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===le.D(Object(l.m)())&&E("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _("SimpleDb","Removing database:",e),me(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Object(l.s)())return!1;if(le.N())return!0;const e=Object(l.m)(),t=le.D(e),n=0<t&&t<10,s=le.k(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static N(){var t;return void 0!==e&&"YES"===(null===(t=e.env)||void 0===t?void 0:t.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(e){return this.db||(_("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=e=>{const n=e.target.result;t(n)},s.onblocked=()=>{n(new de(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=t=>{const s=t.target.error;"VersionError"===s.name?n(new k(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===s.name?n(new k(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new de(e,s))},s.onupgradeneeded=e=>{_("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,s.transaction,e.oldVersion,this.version).next((()=>{_("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,s){const i="readonly"===t;let r=0;for(;;){++r;try{this.db=await this.F(e);const t=ce.open(this.db,e,i?"readonly":"readwrite",n),r=s(t).next((e=>(t.V(),e))).catch((e=>(t.abort(e),ue.reject(e)))).toPromise();return r.catch((()=>{})),await t.v,r}catch(e){const t=e,n="FirebaseError"!==t.name&&r<3;if(_("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class he{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return me(this.U.delete())}}class de extends k{constructor(e,t){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fe(e){return"IndexedDbTransactionError"===e.name}class pe{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(_("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),me(n)}add(e){return _("SimpleDb","ADD",this.store.name,e,e),me(this.store.add(e))}get(e){return me(this.store.get(e)).next((t=>(void 0===t&&(t=null),_("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return _("SimpleDb","DELETE",this.store.name,e),me(this.store.delete(e))}count(){return _("SimpleDb","COUNT",this.store.name),me(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new ue(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ue(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Y(e,t){_("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const s=this.cursor(n);return this.H(s,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const s=this.cursor(n);return this.H(s,t)}tt(e){const t=this.cursor({});return new ue(((n,s)=>{t.onerror=e=>{const t=ve(e.target.error);s(t)},t.onsuccess=t=>{const s=t.target.result;s?e(s.primaryKey,s.value).next((e=>{e?s.continue():n()})):n()}}))}H(e,t){const n=[];return new ue(((s,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void s();const r=new he(i),o=t(i.primaryKey,i.value,r);if(o instanceof ue){const e=o.catch((e=>(r.done(),ue.reject(e))));n.push(e)}r.isDone?s():null===r.G?i.continue():i.continue(r.G)}})).next((()=>ue.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function me(e){return new ue(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ve(e.target.error);n(t)}}))}let ge=!1;function ve(e){const t=le.D(Object(l.m)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ge||(ge=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ye{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){_("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{_("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(e){fe(e)?_("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ae(e)}await this.nt(1)}))}}class be{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.it(t,e)))}it(e,t){const n=new Set;let s=t,i=!0;return ue.doWhile((()=>!0===i&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return _("IndexBackiller",`Processing collection: ${t}`),this.rt(e,t,s).next((e=>{s-=e,n.add(t)}));i=!1})))).next((()=>t-s))}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ot(s,n))).next((n=>(_("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ot(e,t){let n=e;return t.changes.forEach(((e,t)=>{const s=ne(t);ie(s,n)>0&&(n=s)})),new re(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class we{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function _e(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ee(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Se(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}we.at=-1;class Te{constructor(e,t){this.comparator=e,this.root=t||Ie.EMPTY}insert(e,t){return new Te(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ie.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ie.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oe(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oe(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oe(this.root,e,this.comparator,!0)}}class Oe{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ie{constructor(e,t,n,s,i){this.key=e,this.value=t,this.color=null!=n?n:Ie.RED,this.left=null!=s?s:Ie.EMPTY,this.right=null!=i?i:Ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,i){return new Ie(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=s?s:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,n),null):0===i?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ie.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ie.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw O();if(this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Ie.EMPTY=null,Ie.RED=!0,Ie.BLACK=!1,Ie.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,t,n,s,i){return this}insert(e,t,n){return new Ie(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ce(this.data.getIterator())}getIteratorFrom(e){return new Ce(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xe))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(e,s))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xe(this.comparator);return t.data=e,t}}class Ce{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ke(e){return e.hasNext()?e.getNext():void 0}class De{constructor(e){this.fields=e,e.sort(K.comparator)}static empty(){return new De([])}unionWith(e){let t=new xe(K.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new De(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rt(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}function Re(){return"undefined"!=typeof atob}class Ae{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ae(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ae(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return B(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ae.EMPTY_BYTE_STRING=new Ae("");const Ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function je(e){if(I(!!e),"string"==typeof e){let t=0;const n=Ne.exec(e);if(I(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Me(e){return"string"==typeof e?Ae.fromBase64String(e):Ae.fromUint8Array(e)}function Le(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ue(e){const t=e.mapValue.fields.__previous_value__;return Le(t)?Ue(t):t}function Fe(e){const t=je(e.mapValue.fields.__local_write_time__.timestampValue);return new H(t.seconds,t.nanos)}class Ve{constructor(e,t,n,s,i,r,o,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.useFetchStreams=u}}class Be{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Be("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Be&&e.projectId===this.projectId&&e.database===this.database}}function $e(e){return null==e}function He(e){return 0===e&&1/e==-1/0}function qe(e){return"number"==typeof e&&Number.isInteger(e)&&!He(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ze={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},We={nullValue:"NULL_VALUE"};function Ge(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Le(e)?4:ut(e)?9007199254740991:10:O()}function Ye(e,t){if(e===t)return!0;const n=Ge(e);if(n!==Ge(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fe(e).isEqual(Fe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=je(e.timestampValue),s=je(t.timestampValue);return n.seconds===s.seconds&&n.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Me(e.bytesValue).isEqual(Me(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pe(e.geoPointValue.latitude)===Pe(t.geoPointValue.latitude)&&Pe(e.geoPointValue.longitude)===Pe(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pe(e.integerValue)===Pe(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pe(e.doubleValue),s=Pe(t.doubleValue);return n===s?He(n)===He(s):isNaN(n)&&isNaN(s)}return!1}(e,t);case 9:return rt(e.arrayValue.values||[],t.arrayValue.values||[],Ye);case 10:return function(e,t){const n=e.mapValue.fields||{},s=t.mapValue.fields||{};if(_e(n)!==_e(s))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===s[e]||!Ye(n[e],s[e])))return!1;return!0}(e,t);default:return O()}}function Ke(e,t){return void 0!==(e.values||[]).find((e=>Ye(e,t)))}function Xe(e,t){if(e===t)return 0;const n=Ge(e),s=Ge(t);if(n!==s)return B(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return B(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pe(e.integerValue||e.doubleValue),s=Pe(t.integerValue||t.doubleValue);return n<s?-1:n>s?1:n===s?0:isNaN(n)?isNaN(s)?0:-1:1}(e,t);case 3:return Ze(e.timestampValue,t.timestampValue);case 4:return Ze(Fe(e),Fe(t));case 5:return B(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Me(e),s=Me(t);return n.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),s=t.split("/");for(let e=0;e<n.length&&e<s.length;e++){const t=B(n[e],s[e]);if(0!==t)return t}return B(n.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=B(Pe(e.latitude),Pe(t.latitude));return 0!==n?n:B(Pe(e.longitude),Pe(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],s=t.values||[];for(let e=0;e<n.length&&e<s.length;++e){const t=Xe(n[e],s[e]);if(t)return t}return B(n.length,s.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ze.mapValue&&t===ze.mapValue)return 0;if(e===ze.mapValue)return 1;if(t===ze.mapValue)return-1;const n=e.fields||{},s=Object.keys(n),i=t.fields||{},r=Object.keys(i);s.sort(),r.sort();for(let e=0;e<s.length&&e<r.length;++e){const t=B(s[e],r[e]);if(0!==t)return t;const o=Xe(n[s[e]],i[r[e]]);if(0!==o)return o}return B(s.length,r.length)}(e.mapValue,t.mapValue);default:throw O()}}function Ze(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return B(e,t);const n=je(e),s=je(t),i=B(n.seconds,s.seconds);return 0!==i?i:B(n.nanos,s.nanos)}function Qe(e){return Je(e)}function Je(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=je(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Me(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dt.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const s of e.values||[])n?n=!1:t+=",",t+=Je(s);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const i of t)s?s=!1:n+=",",n+=`${i}:${Je(e.fields[i])}`;return n+"}"}(e.mapValue):O();var t,n}function et(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tt(e){return!!e&&"integerValue"in e}function nt(e){return!!e&&"arrayValue"in e}function it(e){return!!e&&"nullValue"in e}function ot(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function st(e){return!!e&&"mapValue"in e}function at(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ee(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=at(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=at(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ut(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ct(e){return"nullValue"in e?We:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?et(Be.empty(),dt.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:O()}function lt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?et(Be.empty(),dt.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ze:O()}function ht(e,t){const n=Xe(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ft(e,t){const n=Xe(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class pt{constructor(e){this.value=e}static empty(){return new pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!st(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=at(t)}setAll(e){let t=K.emptyPath(),n={},s=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,s),n={},s=[],t=i.popLast()}e?n[i.lastSegment()]=at(e):s.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,s)}delete(e){const t=this.field(e.popLast());st(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ye(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];st(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Ee(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new pt(at(this.value))}}function mt(e){const t=[];return Ee(e.fields,((e,n)=>{const s=new K([e]);if(st(n)){const e=mt(n.mapValue).fields;if(0===e.length)t.push(s);else for(const n of e)t.push(s.child(n))}else t.push(s)})),new De(t)}class gt{constructor(e,t,n,s,i,r){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.data=i,this.documentState=r}static newInvalidDocument(e){return new gt(e,0,z.min(),z.min(),pt.empty(),0)}static newFoundDocument(e,t,n){return new gt(e,1,t,z.min(),n,0)}static newNoDocument(e,t){return new gt(e,2,t,z.min(),pt.empty(),0)}static newUnknownDocument(e,t){return new gt(e,3,t,z.min(),pt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vt{constructor(e,t=null,n=[],s=[],i=null,r=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=r,this.endAt=o,this.ht=null}}function yt(e,t=null,n=[],s=[],i=null,r=null,o=null){return new vt(e,t,n,s,i,r,o)}function bt(e){const t=x(e);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Qe(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$e(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Qe(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Qe(e))).join(",")),t.ht=e}return t.ht}function wt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Mt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],s=t.filters[i],n.op!==s.op||!n.field.isEqual(s.field)||!Ye(n.value,s.value))return!1;var n,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ut(e.startAt,t.startAt)&&Ut(e.endAt,t.endAt)}function _t(e){return dt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Et(e,t){return e.filters.filter((e=>e instanceof Ot&&e.field.isEqual(t)))}function St(e,t,n){let s=We,i=!0;for(const n of Et(e,t)){let e=We,t=!0;switch(n.op){case"<":case"<=":e=ct(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=We}ht({value:s,inclusive:i},{value:e,inclusive:t})<0&&(s=e,i=t)}if(null!==n)for(let r=0;r<e.orderBy.length;++r)if(e.orderBy[r].field.isEqual(t)){const e=n.position[r];ht({value:s,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(s=e,i=n.inclusive);break}return{value:s,inclusive:i}}function Tt(e,t,n){let s=ze,i=!0;for(const n of Et(e,t)){let e=ze,t=!0;switch(n.op){case">=":case">":e=lt(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=ze}ft({value:s,inclusive:i},{value:e,inclusive:t})>0&&(s=e,i=t)}if(null!==n)for(let r=0;r<e.orderBy.length;++r)if(e.orderBy[r].field.isEqual(t)){const e=n.position[r];ft({value:s,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(s=e,i=n.inclusive);break}return{value:s,inclusive:i}}class Ot extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,n):new It(e,t,n):"array-contains"===t?new Dt(e,n):"in"===t?new Rt(e,n):"not-in"===t?new At(e,n):"array-contains-any"===t?new Nt(e,n):new Ot(e,t,n)}static lt(e,t,n){return"in"===t?new xt(e,n):new Ct(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Xe(t,this.value)):null!==t&&Ge(this.value)===Ge(t)&&this.ft(Xe(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class It extends Ot{constructor(e,t,n){super(e,t,n),this.key=dt.fromName(n.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.ft(t)}}class xt extends Ot{constructor(e,t){super(e,"in",t),this.keys=kt("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ct extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=kt("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>dt.fromName(e.referenceValue)))}class Dt extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nt(t)&&Ke(t.arrayValue,this.value)}}class Rt extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ke(this.value.arrayValue,t)}}class At extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ke(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ke(this.value.arrayValue,t)}}class Nt extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ke(this.value.arrayValue,e)))}}class jt{constructor(e,t){this.position=e,this.inclusive=t}}class Pt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Lt(e,t,n){let s=0;for(let i=0;i<e.position.length;i++){const r=t[i],o=e.position[i];if(s=r.field.isKeyField()?dt.comparator(dt.fromName(o.referenceValue),n.key):Xe(o,n.data.field(r.field)),"desc"===r.dir&&(s*=-1),0!==s)break}return s}function Ut(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ye(e.position[n],t.position[n]))return!1;return!0}class Ft{constructor(e,t=null,n=[],s=[],i=null,r="F",o=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=r,this.startAt=o,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}}function Vt(e,t,n,s,i,r,o,u){return new Ft(e,t,n,s,i,r,o,u)}function Bt(e){return new Ft(e)}function $t(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ht(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qt(e){for(const t of e.filters)if(t.dt())return t.field;return null}function zt(e){return null!==e.collectionGroup}function Wt(e){const t=x(e);if(null===t._t){t._t=[];const e=qt(t),n=Ht(t);if(null!==e&&null===n)e.isKeyField()||t._t.push(new Pt(e)),t._t.push(new Pt(K.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t._t.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Pt(K.keyField(),e))}}}return t._t}function Gt(e){const t=x(e);if(!t.wt)if("F"===t.limitType)t.wt=yt(t.path,t.collectionGroup,Wt(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Wt(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Pt(n.field,t))}const n=t.endAt?new jt(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new jt(t.startAt.position,t.startAt.inclusive):null;t.wt=yt(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}return t.wt}function Yt(e,t,n){return new Ft(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kt(e,t){return wt(Gt(e),Gt(t))&&e.limitType===t.limitType}function Xt(e){return`${bt(Gt(e))}|lt:${e.limitType}`}function Zt(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Qe(t.value)}`;var t})).join(", ")}]`),$e(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Qe(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Qe(e))).join(",")),`Target(${t})`}(Gt(e))}; limitType=${e.limitType})`}function Qt(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dt.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const s=Lt(e,t,n);return e.inclusive?s<=0:s<0}(e.startAt,Wt(e),t))&&!(e.endAt&&!function(e,t,n){const s=Lt(e,t,n);return e.inclusive?s>=0:s>0}(e.endAt,Wt(e),t))}(e,t)}function Jt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function en(e){return(t,n)=>{let s=!1;for(const i of Wt(e)){const e=tn(i,t,n);if(0!==e)return e;s=s||i.field.isKeyField()}return 0}}function tn(e,t,n){const s=e.field.isKeyField()?dt.comparator(t.key,n.key):function(e,t,n){const s=t.data.field(e),i=n.data.field(e);return null!==s&&null!==i?Xe(s,i):O()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return O()}}function nn(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:He(t)?"-0":t}}function rn(e){return{integerValue:""+e}}function on(e,t){return qe(t)?rn(t):nn(e,t)}class sn{constructor(){this._=void 0}}function an(e,t,n){return e instanceof ln?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hn?dn(e,t):e instanceof fn?pn(e,t):function(e,t){const n=cn(e,t),s=gn(n)+gn(e.yt);return tt(n)&&tt(e.yt)?rn(s):nn(e.It,s)}(e,t)}function un(e,t,n){return e instanceof hn?dn(e,t):e instanceof fn?pn(e,t):n}function cn(e,t){return e instanceof mn?tt(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ln extends sn{}class hn extends sn{constructor(e){super(),this.elements=e}}function dn(e,t){const n=vn(t);for(const t of e.elements)n.some((e=>Ye(e,t)))||n.push(t);return{arrayValue:{values:n}}}class fn extends sn{constructor(e){super(),this.elements=e}}function pn(e,t){let n=vn(t);for(const t of e.elements)n=n.filter((e=>!Ye(e,t)));return{arrayValue:{values:n}}}class mn extends sn{constructor(e,t){super(),this.It=e,this.yt=t}}function gn(e){return Pe(e.integerValue||e.doubleValue)}function vn(e){return nt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class yn{constructor(e,t){this.field=e,this.transform=t}}class bn{constructor(e,t){this.version=e,this.transformResults=t}}class wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _n(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class En{}function Sn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Nn(e.key,wn.none()):new Cn(e.key,e.data,wn.none());{const n=e.data,s=pt.empty();let i=new xe(K.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?s.delete(e):s.set(e,t),i=i.add(e)}return new kn(e.key,s,new De(i.toArray()),wn.none())}}function Tn(e,t,n){e instanceof Cn?function(e,t,n){const s=e.value.clone(),i=Rn(e.fieldTransforms,t,n.transformResults);s.setAll(i),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):e instanceof kn?function(e,t,n){if(!_n(e.precondition,t))return void t.convertToUnknownDocument(n.version);const s=Rn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dn(e)),i.setAll(s),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function On(e,t,n,s){return e instanceof Cn?function(e,t,n,s){if(!_n(e.precondition,t))return n;const i=e.value.clone(),r=An(e.fieldTransforms,s,t);return i.setAll(r),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,s):e instanceof kn?function(e,t,n,s){if(!_n(e.precondition,t))return n;const i=An(e.fieldTransforms,s,t),r=t.data;return r.setAll(Dn(e)),r.setAll(i),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,s):function(e,t,n){return _n(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function In(e,t){let n=null;for(const s of e.fieldTransforms){const e=t.data.field(s.field),i=cn(s.transform,e||null);null!=i&&(null===n&&(n=pt.empty()),n.set(s.field,i))}return n||null}function xn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rt(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hn&&t instanceof hn||e instanceof fn&&t instanceof fn?rt(e.elements,t.elements,Ye):e instanceof mn&&t instanceof mn?Ye(e.yt,t.yt):e instanceof ln&&t instanceof ln}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cn extends En{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class kn extends En{constructor(e,t,n,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dn(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function Rn(e,t,n){const s=new Map;I(e.length===n.length);for(let i=0;i<n.length;i++){const r=e[i],o=r.transform,u=t.data.field(r.field);s.set(r.field,un(o,u,n[i]))}return s}function An(e,t,n){const s=new Map;for(const i of e){const e=i.transform,r=n.data.field(i.field);s.set(i.field,an(e,r,t))}return s}class Nn extends En{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jn extends En{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pn{constructor(e){this.count=e}}var Mn,Ln;function Un(e){switch(e){default:return O();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function Fn(e){if(void 0===e)return E("GRPC error has no .code"),C.UNKNOWN;switch(e){case Mn.OK:return C.OK;case Mn.CANCELLED:return C.CANCELLED;case Mn.UNKNOWN:return C.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return C.INTERNAL;case Mn.UNAVAILABLE:return C.UNAVAILABLE;case Mn.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Mn.NOT_FOUND:return C.NOT_FOUND;case Mn.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Mn.ABORTED:return C.ABORTED;case Mn.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Mn.DATA_LOSS:return C.DATA_LOSS;default:return O()}}(Ln=Mn||(Mn={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";class Vn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,s]of n)if(this.equalsFn(t,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<s.length;n++)if(this.equalsFn(s[n][0],e))return void(s[n]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return 1===n.length?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ee(this.inner,((t,n)=>{for(const[t,s]of n)e(t,s)}))}isEmpty(){return Se(this.inner)}size(){return this.innerSize}}const Bn=new Te(dt.comparator);function $n(){return Bn}const Hn=new Te(dt.comparator);function qn(...e){let t=Hn;for(const n of e)t=t.insert(n.key,n);return t}function zn(e){let t=Hn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Wn(){return Yn()}function Gn(){return Yn()}function Yn(){return new Vn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Kn=new Te(dt.comparator),Xn=new xe(dt.comparator);function Zn(...e){let t=Xn;for(const n of e)t=t.add(n);return t}const Qn=new xe(B);function Jn(){return Qn}class er{constructor(e,t,n,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,nr.createSynthesizedTargetChangeForCurrentChange(e,t)),new er(z.min(),n,Jn(),$n(),Zn())}}class nr{constructor(e,t,n,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new nr(Ae.EMPTY_BYTE_STRING,t,Zn(),Zn(),Zn())}}class rr{constructor(e,t,n,s){this.Tt=e,this.removedTargetIds=t,this.key=n,this.Et=s}}class ir{constructor(e,t){this.targetId=e,this.At=t}}class or{constructor(e,t,n=Ae.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class sr{constructor(){this.Rt=0,this.bt=cr(),this.Pt=Ae.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Zn(),t=Zn(),n=Zn();return this.bt.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:O()}})),new nr(this.Pt,this.vt,e,t,n)}Nt(){this.Vt=!1,this.bt=cr()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ar{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=$n(),this.qt=ur(),this.Kt=new xe(B)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,(t=>{const n=this.zt(t);switch(e.state){case 0:this.Ht(t)&&n.Ct(e.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(e.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(n.$t(),n.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),n.Ct(e.resumeToken));break;default:O()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach(((e,n)=>{this.Ht(n)&&t(n)}))}Yt(e){const t=e.targetId,n=e.At.count,s=this.Xt(t);if(s){const e=s.target;if(_t(e))if(0===n){const n=new dt(e.path);this.jt(t,n,gt.newNoDocument(n,z.min()))}else I(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach(((n,s)=>{const i=this.Xt(s);if(i){if(n.current&&_t(i.target)){const t=new dt(i.target.path);null!==this.Ut.get(t)||this.ee(s,t)||this.jt(s,t,gt.newNoDocument(t,e))}n.Dt&&(t.set(s,n.xt()),n.Nt())}}));let n=Zn();this.qt.forEach(((e,t)=>{let s=!0;t.forEachWhile((e=>{const t=this.Xt(e);return!t||2===t.purpose||(s=!1,!1)})),s&&(n=n.add(e))})),this.Ut.forEach(((t,n)=>n.setReadTime(e)));const s=new er(e,t,this.Kt,this.Ut,n);return this.Ut=$n(),this.qt=ur(),this.Kt=new xe(B),s}Qt(e,t){if(!this.Ht(e))return;const n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,n){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,t)?s.kt(t,1):s.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new sr,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new xe(B),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||_("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new sr),this.Bt.getRemoteKeysForTarget(e).forEach((t=>{this.jt(e,t,null)}))}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ur(){return new Te(dt.comparator)}function cr(){return new Te(dt.comparator)}const lr={asc:"ASCENDING",desc:"DESCENDING"},dr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fr{constructor(e,t){this.databaseId=e,this.gt=t}}function pr(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mr(e,t){return e.gt?t.toBase64():t.toUint8Array()}function gr(e,t){return pr(e,t.toTimestamp())}function vr(e){return I(!!e),z.fromTimestamp(function(e){const t=je(e);return new H(t.seconds,t.nanos)}(e))}function yr(e,t){return function(e){return new G(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wr(e){const t=G.fromString(e);return I($r(t)),t}function _r(e,t){return yr(e.databaseId,t.path)}function Er(e,t){const n=wr(t);if(n.get(1)!==e.databaseId.projectId)throw new k(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new k(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dt(Ir(n))}function Sr(e,t){return yr(e.databaseId,t)}function Tr(e){const t=wr(e);return 4===t.length?G.emptyPath():Ir(t)}function Or(e){return new G(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ir(e){return I(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xr(e,t,n){return{name:_r(e,t),fields:n.value.mapValue.fields}}function Cr(e,t,n){const s=Er(e,t.name),i=vr(t.updateTime),r=new pt({mapValue:{fields:t.fields}}),o=gt.newFoundDocument(s,i,r);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kr(e,t){let n;if(t instanceof Cn)n={update:xr(e,t.key,t.value)};else if(t instanceof Nn)n={delete:_r(e,t.key)};else if(t instanceof kn)n={update:xr(e,t.key,t.data),updateMask:Br(t.fieldMask)};else{if(!(t instanceof jn))return O();n={verify:_r(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ln)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mn)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw O()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:O()}(e,t.precondition)),n}function Dr(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?wn.updateTime(vr(e.updateTime)):void 0!==e.exists?wn.exists(e.exists):wn.none()}(t.currentDocument):wn.none(),s=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)I("REQUEST_TIME"===t.setToServerValue),n=new ln;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new hn(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new fn(e)}else"increment"in t?n=new mn(e,t.increment):O();const s=K.fromServerFormat(t.fieldPath);return new yn(s,n)}(e,t))):[];if(t.update){t.update.name;const i=Er(e,t.update.name),r=new pt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new De(t.map((e=>K.fromServerFormat(e))))}(t.updateMask);return new kn(i,r,e,n,s)}return new Cn(i,r,n,s)}if(t.delete){const s=Er(e,t.delete);return new Nn(s,n)}if(t.verify){const s=Er(e,t.verify);return new jn(s,n)}return O()}function Rr(e,t){return{documents:[Sr(e,t.path)]}}function Ar(e,t){const n={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(n.parent=Sr(e,s),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sr(e,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(ot(e.value))return{unaryFilter:{field:Lr(e.field),op:"IS_NAN"}};if(it(e.value))return{unaryFilter:{field:Lr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ot(e.value))return{unaryFilter:{field:Lr(e.field),op:"IS_NOT_NAN"}};if(it(e.value))return{unaryFilter:{field:Lr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lr(e.field),op:Mr(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const r=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Lr(e.field),direction:Pr(e.dir)}}(e)))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(e,t){return e.gt||$e(t)?t:{value:t}}(e,t.limit);var u;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nr(e){let t=Tr(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){I(1===s);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let r=[];n.where&&(r=jr(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Pt(Ur(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let u=null;n.limit&&(u=function(e){let t;return t="object"==typeof e?e.value:e,$e(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new jt(n,t)}(n.startAt));let a=null;return n.endAt&&(a=function(e){const t=!e.before,n=e.values||[];return new jt(n,t)}(n.endAt)),Vt(t,i,o,r,u,"F",c,a)}function jr(e){return e?void 0!==e.unaryFilter?[Vr(e)]:void 0!==e.fieldFilter?[Fr(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>jr(e))).reduce(((e,t)=>e.concat(t))):O():[]}function Pr(e){return lr[e]}function Mr(e){return dr[e]}function Lr(e){return{fieldPath:e.canonicalString()}}function Ur(e){return K.fromServerFormat(e.fieldPath)}function Fr(e){return Ot.create(Ur(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}function Vr(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ur(e.unaryFilter.field);return Ot.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ur(e.unaryFilter.field);return Ot.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ur(e.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ur(e.unaryFilter.field);return Ot.create(i,"!=",{nullValue:"NULL_VALUE"});default:return O()}}function Br(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function $r(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Hr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qr(t)),t=li(e.get(n),t);return qr(t)}function li(e,t){let n=t;const s=e.length;for(let t=0;t<s;t++){const s=e.charAt(t);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function qr(e){return e+""}function zr(e){const t=e.length;if(I(t>=2),2===t)return I(""===e.charAt(0)&&""===e.charAt(1)),G.emptyPath();const n=t-2,s=[];let i="";for(let r=0;r<t;){const t=e.indexOf("",r);switch((t<0||t>n)&&O(),e.charAt(t+1)){case"":const n=e.substring(r,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),s.push(o);break;case"":i+=e.substring(r,t),i+="\0";break;case"":i+=e.substring(r,t+1);break;default:O()}r=t+2}return new G(s)}const Wr=["userId","batchId"];function Gr(e,t){return[e,Hr(t)]}function Yr(e,t,n){return[e,Hr(t),n]}const Kr={},Xr=["prefixPath","collectionGroup","readTime","documentId"],Zr=["prefixPath","collectionGroup","documentId"],Qr=["collectionGroup","readTime","prefixPath","documentId"],Jr=["canonicalId","targetId"],ei=["targetId","path"],ti=["path","targetId"],ni=["collectionId","parent"],ri=["indexId","uid"],ii=["uid","sequenceNumber"],oi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],si=["indexId","uid","orderedDocumentKey"],ai=["userId","collectionPath","documentId"],ui=["userId","collectionPath","largestBatchId"],ci=["userId","collectionGroup","largestBatchId"],hi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],di=[...hi,"documentOverlays"],fi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pi=fi,mi=[...pi,"indexConfiguration","indexState","indexEntries"];class gi extends se{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function vi(e,t){const n=x(e);return le.O(n.ie,t)}class yi{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const s=this.mutations[t];s.key.isEqual(e.key)&&Tn(s,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=On(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=On(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gn();return this.mutations.forEach((s=>{const i=e.get(s.key),r=i.overlayedDocument;let o=this.applyToLocalView(r,i.mutatedFields);o=t.has(s.key)?null:o;const u=Sn(r,o);null!==u&&n.set(s.key,u),r.isValidDocument()||r.convertToNoDocument(z.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zn())}isEqual(e){return this.batchId===e.batchId&&rt(this.mutations,e.mutations,((e,t)=>xn(e,t)))&&rt(this.baseMutations,e.baseMutations,((e,t)=>xn(e,t)))}}class bi{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){I(e.mutations.length===n.length);let s=Kn;const i=e.mutations;for(let e=0;e<i.length;e++)s=s.insert(i[e].key,n[e].version);return new bi(e,t,n,s)}}class wi{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _i{constructor(e,t,n,s,i=z.min(),r=z.min(),o=Ae.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ei{constructor(e){this.re=e}}function Si(e,t){const n=t.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ti(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document=function(e,t){return{name:_r(e,t.key),fields:t.data.value.mapValue.fields,updateTime:pr(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Oi(t.version)};else{if(!t.isUnknownDocument())return O();s.unknownDocument={path:n.path.toArray(),version:Oi(t.version)}}return s}function Ti(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Oi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ii(e){const t=new H(e.seconds,e.nanoseconds);return z.fromTimestamp(t)}function xi(e,t){const n=(t.baseMutations||[]).map((t=>Dr(e.re,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const s=t.mutations[e+1];n.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const s=t.mutations.map((t=>Dr(e.re,t))),i=H.fromMillis(t.localWriteTimeMs);return new yi(t.batchId,i,n,s)}function Ci(e){const t=Ii(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ii(e.lastLimboFreeSnapshotVersion):z.min();let s;var i;return void 0!==e.query.documents?(I(1===(i=e.query).documents.length),s=Gt(Bt(Tr(i.documents[0])))):s=function(e){return Gt(Nr(e))}(e.query),new _i(s,e.targetId,0,e.lastListenSequenceNumber,t,n,Ae.fromBase64String(e.resumeToken))}function ki(e,t){const n=Oi(t.snapshotVersion),s=Oi(t.lastLimboFreeSnapshotVersion);let i;i=_t(t.target)?Rr(e.re,t.target):Ar(e.re,t.target);const r=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bt(t.target),readTime:n,resumeToken:r,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:i}}function Di(e){const t=Nr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yt(t,t.limit,"L"):t}function Ri(e,t){return new wi(t.largestBatchId,Dr(e.re,t.overlayMutation))}function tr(e,t){const n=t.path.lastSegment();return[e,Hr(t.path.popLast()),n]}function Ai(e,t,n,s){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Oi(s.readTime),documentKey:Hr(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ni{getBundleMetadata(e,t){return ji(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Ii(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return ji(e).put({bundleId:(n=t).id,createTime:Oi(vr(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Pi(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Di(t.bundledQuery),readTime:Ii(t.readTime)};var t}))}saveNamedQuery(e,t){return Pi(e).put(function(e){return{name:e.name,readTime:Oi(vr(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ji(e){return vi(e,"bundles")}function Pi(e){return vi(e,"namedQueries")}class Mi{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){const n=t.uid||"";return new Mi(e,n)}getOverlay(e,t){return Li(e).get(tr(this.userId,t)).next((e=>e?Ri(this.It,e):null))}getOverlays(e,t){const n=Wn();return ue.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const s=[];return n.forEach(((n,i)=>{const r=new wi(t,i);s.push(this.ue(e,r))})),ue.waitFor(s)}removeOverlaysForBatchId(e,t,n){const s=new Set;t.forEach((e=>s.add(Hr(e.getCollectionPath()))));const i=[];return s.forEach((t=>{const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Li(e).Y("collectionPathOverlayIndex",s))})),ue.waitFor(i)}getOverlaysForCollection(e,t,n){const s=Wn(),i=Hr(t),r=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Li(e).W("collectionPathOverlayIndex",r).next((e=>{for(const t of e){const e=Ri(this.It,t);s.set(e.getKey(),e)}return s}))}getOverlaysForCollectionGroup(e,t,n,s){const i=Wn();let r;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Li(e).Z({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Ri(this.It,t);i.size()<s||o.largestBatchId===r?(i.set(o.getKey(),o),r=o.largestBatchId):n.done()})).next((()=>i))}ue(e,t){return Li(e).put(function(e,t,n){const[s,i,r]=tr(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:r,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:kr(e.re,n.mutation)}}(this.It,this.userId,t))}}function Li(e){return vi(e,"documentOverlays")}class Ui{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Pe(e.integerValue));else if("doubleValue"in e){const n=Pe(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),He(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.le(t,20),"string"==typeof n?t.de(n):(t.de(`${n.seconds||""}`),t.fe(n.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Me(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.le(t,45),t.fe(n.latitude||0),t.fe(n.longitude||0)}else"mapValue"in e?ut(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):O()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const n=e.fields||{};this.le(t,55);for(const e of Object.keys(n))this._e(e,t),this.ae(n[e],t)}pe(e,t){const n=e.values||[];this.le(t,50);for(const e of n)this.ae(e,t)}ge(e,t){this.le(t,37),dt.fromName(e).path.forEach((e=>{this.le(t,60),this.Ie(e,t)}))}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Fi(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Vi(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const s=Fi(255&e[n]);if(t+=s,8!==s)break}return t}(e);return Math.ceil(t/8)}Ui.Te=new Ui;class hr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Pe(n.value),n=t.next();this.ve()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}Se(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Pe(e);else if(e<2048)this.Pe(960|e>>>6),this.Pe(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e);else{const e=t.codePointAt(0);this.Pe(240|e>>>18),this.Pe(128|63&e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e)}}this.ve()}De(e){const t=this.Ce(e),n=Vi(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Ne(e){const t=this.Ce(e),n=Vi(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class Bi{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class $i{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Hi{constructor(){this.Be=new hr,this.Le=new Bi(this.Be),this.Ue=new $i(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class qi{constructor(e,t,n,s){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=s}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new qi(this.indexId,this.documentKey,this.arrayValue,n)}}function zi(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Wi(e.arrayValue,t.arrayValue),0!==n?n:(n=Wi(e.directionalValue,t.directionalValue),0!==n?n:dt.comparator(e.documentKey,t.documentKey)))}function Wi(e,t){for(let n=0;n<e.length&&n<t.length;++n){const s=e[n]-t[n];if(0!==s)return s}return e.length-t.length}class Gi{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const e=t;e.dt()?this.je=e:this.Qe.push(e)}}We(e){const t=Z(e);if(void 0!==t&&!this.ze(t))return!1;const n=Q(e);let s=0,i=0;for(;s<n.length&&this.ze(n[s]);++s);if(s===n.length)return!0;if(void 0!==this.je){const e=n[s];if(!this.He(this.je,e)||!this.Je(this.Ge[i++],e))return!1;++s}for(;s<n.length;++s){const e=n[s];if(i>=this.Ge.length||!this.Je(this.Ge[i++],e))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Yi{constructor(){this.Ye=new Ki}addToCollectionParentIndex(e,t){return this.Ye.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(re.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(re.min())}updateCollectionGroup(e,t,n){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Ki{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new xe(G.comparator),i=!s.has(n);return this.index[t]=s.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new xe(G.comparator)).toArray()}}const Xi=new Uint8Array(0);class Zi{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ki,this.Ze=new Vn((e=>bt(e)),((e,t)=>wt(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const n=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Xe.add(t)}));const i={collectionId:n,parent:Hr(s)};return Qi(e).put(i)}return ue.resolve()}getCollectionParents(e,t){const n=[],s=IDBKeyRange.bound([t,""],[$(t),""],!1,!0);return Qi(e).W(s).next((e=>{for(const s of e){if(s.collectionId!==t)break;n.push(zr(s.parent))}return n}))}addFieldIndex(e,t){const n=eo(e),s=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete s.indexId;const i=n.add(s);if(t.indexState){const n=br(e);return i.next((e=>{n.put(Ai(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=eo(e),s=br(e),i=Ji(e);return n.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Ji(e);let s=!0;const i=new Map;return ue.forEach(this.tn(t),(t=>this.en(e,t).next((e=>{s&&(s=!!e),i.set(t,e)})))).next((()=>{if(s){let e=Zn();const s=[];return ue.forEach(i,((i,r)=>{var o;_("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${bt(t)}`);const u=function(e,t){const n=Z(t);if(void 0===n)return null;for(const t of Et(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(r,i),c=function(e,t){const n=new Map;for(const s of Q(t))for(const t of Et(e,s.fieldPath))switch(t.op){case"==":case"in":n.set(s.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(s.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(r,i),a=function(e,t){const n=[];let s=!0;for(const i of Q(t)){const t=0===i.kind?St(e,i.fieldPath,e.startAt):Tt(e,i.fieldPath,e.startAt);n.push(t.value),s&&(s=t.inclusive)}return new jt(n,s)}(r,i),l=function(e,t){const n=[];let s=!0;for(const i of Q(t)){const t=0===i.kind?Tt(e,i.fieldPath,e.endAt):St(e,i.fieldPath,e.endAt);n.push(t.value),s&&(s=t.inclusive)}return new jt(n,s)}(r,i),h=this.nn(i,r,a),d=this.nn(i,r,l),f=this.sn(i,r,c),m=this.rn(i.indexId,u,h,a.inclusive,d,l.inclusive,f);return ue.forEach(m,(i=>n.J(i,t.limit).next((t=>{t.forEach((t=>{const n=dt.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),s.push(n))}))}))))})).next((()=>s))}return ue.resolve(null)}))}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,n,s,i,r,o){const u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),a=[];for(let l=0;l<u;++l){const u=t?this.on(t[l/c]):Xi,h=this.un(e,u,n[l%c],s),d=this.cn(e,u,i[l%c],r),f=o.map((t=>this.un(e,u,t,!0)));a.push(...this.createRange(h,d,f))}return a}un(e,t,n,s){const i=new qi(e,dt.empty(),t,n);return s?i:i.Ke()}cn(e,t,n,s){const i=new qi(e,dt.empty(),t,n);return s?i.Ke():i}en(e,t){const n=new Gi(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((e=>{let t=null;for(const s of e)n.We(s)&&(!t||s.fields.length>t.fields.length)&&(t=s);return t}))}getIndexType(e,t){let n=2;return ue.forEach(this.tn(t),(t=>this.en(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new xe(K.comparator),n=!1;for(const s of e.filters){const e=s;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>n))}an(e,t){const n=new Hi;for(const s of Q(e)){const e=t.data.field(s.fieldPath);if(null==e)return null;const i=n.qe(s.kind);Ui.Te.ce(e,i)}return n.$e()}on(e){const t=new Hi;return Ui.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const n=new Hi;return Ui.Te.ce(et(this.databaseId,t),n.qe(function(e){const t=Q(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}sn(e,t,n){if(null===n)return[];let s=[];s.push(new Hi);let i=0;for(const r of Q(e)){const e=n[i++];for(const n of s)if(this.ln(t,r.fieldPath)&&nt(e))s=this.fn(s,r,e);else{const t=n.qe(r.kind);Ui.Te.ce(e,t)}}return this.dn(s)}nn(e,t,n){return this.sn(e,t,n.position)}dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].$e();return t}fn(e,t,n){const s=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of s){const s=new Hi;s.seed(n.$e()),Ui.Te.ce(e,s.qe(t.kind)),i.push(s)}return i}ln(e,t){return!!e.filters.find((e=>e instanceof Ot&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=eo(e),s=br(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return ue.forEach(e,(e=>s.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ee(t.sequenceNumber,new re(Ii(t.readTime),new dt(zr(t.documentKey)),t.largestBatchId)):ee.empty(),s=e.fields.map((([e,t])=>new J(K.fromServerFormat(e),t)));return new X(e.indexId,e.collectionGroup,s,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:B(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const s=eo(e),i=br(e);return this._n(e).next((e=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ue.forEach(t,(t=>i.put(Ai(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ue.forEach(t,((t,s)=>{const i=n.get(t.collectionGroup);return(i?ue.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ue.forEach(i,(n=>this.wn(e,t,n).next((t=>{const i=this.mn(s,n);return t.isEqual(i)?ue.resolve():this.gn(e,s,n,t,i)})))))))}))}yn(e,t,n,s){return Ji(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}pn(e,t,n,s){return Ji(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const s=Ji(e);let i=new xe(zi);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},((e,s)=>{i=i.add(new qi(n.indexId,t,s.arrayValue,s.directionalValue))})).next((()=>i))}mn(e,t){let n=new xe(zi);const s=this.an(t,e);if(null==s)return n;const i=Z(t);if(null!=i){const r=e.data.field(i.fieldPath);if(nt(r))for(const i of r.arrayValue.values||[])n=n.add(new qi(t.indexId,e.key,this.on(i),s))}else n=n.add(new qi(t.indexId,e.key,Xi,s));return n}gn(e,t,n,s,i){_("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const r=[];return function(e,t,n,s,i){const r=e.getIterator(),o=t.getIterator();let u=ke(r),c=ke(o);for(;u||c;){let e=!1,t=!1;if(u&&c){const s=n(u,c);s<0?t=!0:s>0&&(e=!0)}else null!=u?t=!0:e=!0;e?(s(c),c=ke(o)):t?(i(u),u=ke(r)):(u=ke(r),c=ke(o))}}(s,i,zi,(s=>{r.push(this.yn(e,t,n,s))}),(s=>{r.push(this.pn(e,t,n,s))})),ue.waitFor(r)}_n(e){let t=1;return br(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,s)=>{s.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>zi(e,t))).filter(((e,t,n)=>!t||0!==zi(e,n[t-1])));const s=[];s.push(e);for(const i of n){const n=zi(i,e),r=zi(i,t);if(0===n)s[0]=e.Ke();else if(n>0&&r<0)s.push(i),s.push(i.Ke());else if(r>0)break}s.push(t);const i=[];for(let e=0;e<s.length;e+=2)i.push(IDBKeyRange.bound([s[e].indexId,this.uid,s[e].arrayValue,s[e].directionalValue,Xi,[]],[s[e+1].indexId,this.uid,s[e+1].arrayValue,s[e+1].directionalValue,Xi,[]]));return i}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(to)}getMinOffset(e,t){return ue.mapArray(this.tn(t),(t=>this.en(e,t).next((e=>e||O())))).next(to)}}function Qi(e){return vi(e,"collectionParents")}function Ji(e){return vi(e,"indexEntries")}function eo(e){return vi(e,"indexConfiguration")}function br(e){return vi(e,"indexState")}function to(e){I(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let s=1;s<e.length;s++){const i=e[s].indexState.offset;ie(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new re(t.readTime,t.documentKey,n)}const no={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ro{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ro(e,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function io(e,t,n){const s=e.store("mutations"),i=e.store("documentMutations"),r=[],o=IDBKeyRange.only(n.batchId);let u=0;const c=s.Z({range:o},((e,t,n)=>(u++,n.delete())));r.push(c.next((()=>{I(1===u)})));const a=[];for(const e of n.mutations){const s=Yr(t,e.key.path,n.batchId);r.push(i.delete(s)),a.push(e.key)}return ue.waitFor(r).next((()=>a))}function oo(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw O();t=e.noDocument}return JSON.stringify(t).length}ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(41943040,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);class so{constructor(e,t,n,s){this.userId=e,this.It=t,this.indexManager=n,this.referenceDelegate=s,this.In={}}static oe(e,t,n,s){I(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new so(i,t,n,s)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).Z({index:"userMutationsIndex",range:n},((e,n,s)=>{t=!1,s.done()})).next((()=>t))}addMutationBatch(e,t,n,s){const i=co(e),r=uo(e);return r.add({}).next((o=>{I("number"==typeof o);const u=new yi(o,t,n,s),c=function(e,t,n){const s=n.baseMutations.map((t=>kr(e.re,t))),i=n.mutations.map((t=>kr(e.re,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:s,mutations:i}}(this.It,this.userId,u),a=[];let l=new xe(((e,t)=>B(e.canonicalString(),t.canonicalString())));for(const e of s){const t=Yr(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),a.push(r.put(c)),a.push(i.put(t,Kr))}return l.forEach((t=>{a.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.In[o]=u.keys()})),ue.waitFor(a).next((()=>u))}))}lookupMutationBatch(e,t){return uo(e).get(t).next((e=>e?(I(e.userId===this.userId),xi(this.It,e)):null))}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return uo(e).Z({index:"userMutationsIndex",range:s},((e,t,s)=>{t.userId===this.userId&&(I(t.batchId>=n),i=xi(this.It,t)),s.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return uo(e).Z({index:"userMutationsIndex",range:t,reverse:!0},((e,t,s)=>{n=t.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).W("userMutationsIndex",t).next((e=>e.map((e=>xi(this.It,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Gr(this.userId,t.path),s=IDBKeyRange.lowerBound(n),i=[];return co(e).Z({range:s},((n,s,r)=>{const[o,u,c]=n,a=zr(u);if(o===this.userId&&t.path.isEqual(a))return uo(e).get(c).next((e=>{if(!e)throw O();I(e.userId===this.userId),i.push(xi(this.It,e))}));r.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xe(B);const s=[];return t.forEach((t=>{const i=Gr(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=co(e).Z({range:r},((e,s,i)=>{const[r,o,u]=e,c=zr(o);r===this.userId&&t.path.isEqual(c)?n=n.add(u):i.done()}));s.push(o)})),ue.waitFor(s).next((()=>this.En(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1,i=Gr(this.userId,n),r=IDBKeyRange.lowerBound(i);let o=new xe(B);return co(e).Z({range:r},((e,t,i)=>{const[r,u,c]=e,a=zr(u);r===this.userId&&n.isPrefixOf(a)?a.length===s&&(o=o.add(c)):i.done()})).next((()=>this.En(e,o)))}En(e,t){const n=[],s=[];return t.forEach((t=>{s.push(uo(e).get(t).next((e=>{if(null===e)throw O();I(e.userId===this.userId),n.push(xi(this.It,e))})))})),ue.waitFor(s).next((()=>n))}removeMutationBatch(e,t){return io(e.ie,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.An(t.batchId)})),ue.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ue.resolve();const n=IDBKeyRange.lowerBound([this.userId]),s=[];return co(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=zr(e[1]);s.push(t)}else n.done()})).next((()=>{I(0===s.length)}))}))}containsKey(e,t){return ao(e,this.userId,t)}Rn(e){return lo(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ao(e,t,n){const s=Gr(t,n.path),i=s[1],r=IDBKeyRange.lowerBound(s);let o=!1;return co(e).Z({range:r,X:!0},((e,n,s)=>{const[r,u,c]=e;r===t&&u===i&&(o=!0),s.done()})).next((()=>o))}function uo(e){return vi(e,"mutations")}function co(e){return vi(e,"documentMutations")}function lo(e){return vi(e,"mutationQueues")}class ho{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ho(0)}static vn(){return new ho(-1)}}class fo{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next((t=>{const n=new ho(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Vn(e).next((e=>z.fromTimestamp(new H(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Vn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Vn(e).next((s=>(s.highestListenSequenceNumber=t,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Sn(e,s))))}addTargetData(e,t){return this.Dn(e,t).next((()=>this.Vn(e).next((n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>po(e).delete(t.targetId))).next((()=>this.Vn(e))).next((t=>(I(t.targetCount>0),t.targetCount-=1,this.Sn(e,t))))}removeTargets(e,t,n){let s=0;const i=[];return po(e).Z(((r,o)=>{const u=Ci(o);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(s++,i.push(this.removeTargetData(e,u)))})).next((()=>ue.waitFor(i))).next((()=>s))}forEachTarget(e,t){return po(e).Z(((e,n)=>{const s=Ci(n);t(s)}))}Vn(e){return mo(e).get("targetGlobalKey").next((e=>(I(null!==e),e)))}Sn(e,t){return mo(e).put("targetGlobalKey",t)}Dn(e,t){return po(e).put(ki(this.It,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=bt(t),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return po(e).Z({range:s,index:"queryTargetsIndex"},((e,n,s)=>{const r=Ci(n);wt(t,r.target)&&(i=r,s.done())})).next((()=>i))}addMatchingKeys(e,t,n){const s=[],i=go(e);return t.forEach((t=>{const r=Hr(t.path);s.push(i.put({targetId:n,path:r})),s.push(this.referenceDelegate.addReference(e,n,t))})),ue.waitFor(s)}removeMatchingKeys(e,t,n){const s=go(e);return ue.forEach(t,(t=>{const i=Hr(t.path);return ue.waitFor([s.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=go(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),s=go(e);let i=Zn();return s.Z({range:n,X:!0},((e,t,n)=>{const s=zr(e[1]),r=new dt(s);i=i.add(r)})).next((()=>i))}containsKey(e,t){const n=Hr(t.path),s=IDBKeyRange.bound([n],[$(n)],!1,!0);let i=0;return go(e).Z({index:"documentTargetsIndex",X:!0,range:s},(([e,t],n,s)=>{0!==e&&(i++,s.done())})).next((()=>i>0))}se(e,t){return po(e).get(t).next((e=>e?Ci(e):null))}}function po(e){return vi(e,"targets")}function mo(e){return vi(e,"targetGlobal")}function go(e){return vi(e,"targetDocuments")}function vo([e,t],[n,s]){const i=B(e,n);return 0===i?B(t,s):i}class yo{constructor(e){this.xn=e,this.buffer=new xe(vo),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();vo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bo{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){_("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fe(e)?_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ae(e)}await this.Fn(3e5)}))}}class wo{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(we.at);const n=new yo(t);return this.$n.forEachTarget(e,(e=>n.Mn(e.sequenceNumber))).next((()=>this.$n.Ln(e,(e=>n.Mn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(no)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(_("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),no):this.Un(e,t)))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let n,s,i,r,o,l,a;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(_("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),s=this.params.maximumSequenceNumbersToCollect):s=t,r=Date.now(),this.nthSequenceNumber(e,s)))).next((s=>(n=s,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(a=Date.now(),y()<=c.a.DEBUG&&_("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-h}ms\n\tDetermined least recently used ${s} in `+(o-r)+"ms\n"+`\tRemoved ${i} targets in `+(l-o)+"ms\n"+`\tRemoved ${e} documents in `+(a-l)+"ms\n"+`Total Duration: ${a-h}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:e}))))}}class _o{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new wo(e,t)}(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}qn(e){let t=0;return this.Ln(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,((e,n)=>t(n)))}addReference(e,t,n){return Eo(e,n)}removeReference(e,t,n){return Eo(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Eo(e,t)}Gn(e,t){return function(e,t){let n=!1;return lo(e).tt((s=>ao(e,s,t).next((e=>(e&&(n=!0),ue.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Kn(e,((r,o)=>{if(o<=t){const t=this.Gn(e,r).next((t=>{if(!t)return i++,n.getEntry(e,r).next((()=>(n.removeEntry(r,z.min()),go(e).delete([0,Hr(r.path)]))))}));s.push(t)}})).next((()=>ue.waitFor(s))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Eo(e,t)}Kn(e,t){const n=go(e);let s,i=we.at;return n.Z({index:"documentTargetsIndex"},(([e,n],{path:r,sequenceNumber:o})=>{0===e?(i!==we.at&&t(new dt(zr(s)),i),i=o,s=r):i=we.at})).next((()=>{i!==we.at&&t(new dt(zr(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Eo(e,t){return go(e).put(function(e,t){return{targetId:0,path:Hr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class So{constructor(){this.changes=new Vn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class To{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Co(e).put(n)}removeEntry(e,t,n){return Co(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ti(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Qn(e,n))))}getEntry(e,t){let n=gt.newInvalidDocument(t);return Co(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ko(t))},((e,s)=>{n=this.jn(t,s)})).next((()=>n))}Wn(e,t){let n={size:0,document:gt.newInvalidDocument(t)};return Co(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ko(t))},((e,s)=>{n={document:this.jn(t,s),size:oo(s)}})).next((()=>n))}getEntries(e,t){let n=$n();return this.zn(e,t,((e,t)=>{const s=this.jn(e,t);n=n.insert(e,s)})).next((()=>n))}Hn(e,t){let n=$n(),s=new Te(dt.comparator);return this.zn(e,t,((e,t)=>{const i=this.jn(e,t);n=n.insert(e,i),s=s.insert(e,oo(t))})).next((()=>({documents:n,Jn:s})))}zn(e,t,n){if(t.isEmpty())return ue.resolve();let s=new xe(Ro);t.forEach((e=>s=s.add(e)));const i=IDBKeyRange.bound(ko(s.first()),ko(s.last())),r=s.getIterator();let o=r.getNext();return Co(e).Z({index:"documentKeyIndex",range:i},((e,t,s)=>{const i=dt.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Ro(o,i)<0;)n(o,null),o=r.getNext();o&&o.isEqual(i)&&(n(o,t),o=r.hasNext()?r.getNext():null),o?s.j(ko(o)):s.done()})).next((()=>{for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))}getAllFromCollection(e,t,n){const s=[t.popLast().toArray(),t.lastSegment(),Ti(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Co(e).W(IDBKeyRange.bound(s,i,!0)).next((e=>{let t=$n();for(const n of e){const e=this.jn(dt.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,s){let i=$n();const r=Do(t,n),o=Do(t,re.max());return Co(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(r,o,!0)},((e,t,n)=>{const r=this.jn(dt.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(r.key,r),i.size===s&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Io(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return xo(e).get("remoteDocumentGlobalKey").next((e=>(I(!!e),e)))}Qn(e,t){return xo(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Cr(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=dt.fromSegments(t.noDocument.path),s=Ii(t.noDocument.readTime);n=gt.newNoDocument(e,s),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return O();{const e=dt.fromSegments(t.unknownDocument.path),s=Ii(t.unknownDocument.version);n=gt.newUnknownDocument(e,s)}}return t.readTime&&n.setReadTime(function(e){const t=new H(e[0],e[1]);return z.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!e.isNoDocument()||!e.version.isEqual(z.min()))return e}return gt.newInvalidDocument(e)}}function Oo(e){return new To(e)}class Io extends So{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vn((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,s=new xe(((e,t)=>B(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,r)=>{const o=this.Xn.get(i);if(t.push(this.Yn.removeEntry(e,i,o.readTime)),r.isValidDocument()){const u=Si(this.Yn.It,r);s=s.add(i.path.popLast());const c=oo(u);n+=c-o.size,t.push(this.Yn.addEntry(e,i,u))}else if(n-=o.size,this.trackRemovals){const n=Si(this.Yn.It,r.convertToNoDocument(z.min()));t.push(this.Yn.addEntry(e,i,n))}})),s.forEach((n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Yn.updateMetadata(e,n)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next((e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next((({documents:e,Jn:t})=>(t.forEach(((t,n)=>{this.Xn.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function xo(e){return vi(e,"remoteDocumentGlobal")}function Co(e){return vi(e,"remoteDocumentsV14")}function ko(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Do(e,t){const n=t.documentKey.path.toArray();return[e,Ti(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ro(e,t){const n=e.path.toArray(),s=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<s.length-2;++e)if(i=B(n[e],s[e]),i)return i;return i=B(n.length,s.length),i||(i=B(n[n.length-2],s[s.length-2]),i||B(n[n.length-1],s[s.length-1]))}class Ao{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class No{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.getBaseDocument(e,t,n)))).next((e=>(null!==n&&On(n.mutation,e,De.empty(),H.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Zn()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Zn()){const s=Wn();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((e=>{let t=qn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Wn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Zn())))}populateOverlays(e,t,n){const s=[];return n.forEach((e=>{t.has(e)||s.push(e)})),this.documentOverlayCache.getOverlays(e,s).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,s){let i=$n();const r=Yn(),o=Yn();return t.forEach(((e,t)=>{const o=n.get(t.key);s.has(t.key)&&(void 0===o||o.mutation instanceof kn)?i=i.insert(t.key,t):void 0!==o&&(r.set(t.key,o.mutation.getFieldMask()),On(o.mutation,t,o.mutation.getFieldMask(),H.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>r.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Ao(t,null!==(n=r.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Yn();let s=new Te(((e,t)=>e-t)),i=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const r=t.get(e);if(null===r)return;let o=n.get(e)||De.empty();o=i.applyToLocalView(r,o),n.set(e,o);const u=(s.get(i.batchId)||Zn()).add(e);s=s.insert(i.batchId,u)}))})).next((()=>{const r=[],o=s.getReverseIterator();for(;o.hasNext();){const s=o.getNext(),u=s.key,c=s.value,a=Gn();c.forEach((e=>{if(!i.has(e)){const s=Sn(t.get(e),n.get(e));null!==s&&a.set(e,s),i=i.add(e)}})),r.push(this.documentOverlayCache.saveOverlays(e,u,a))}return ue.waitFor(r)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return dt.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((i=>{const r=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-i.size):ue.resolve(Wn());let o=-1,u=i;return r.next((t=>ue.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ue.resolve():this.getBaseDocument(e,t,n).next((e=>{u=u.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,u,t,Zn()))).next((e=>({batchId:o,changes:zn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next((e=>{let t=qn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const s=t.collectionGroup;let i=qn();return this.indexManager.getCollectionParents(e,s).next((r=>ue.forEach(r,(r=>{const o=function(e,t){return new Ft(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,r.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(s=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===s.get(n)&&(s=s.insert(n,gt.newInvalidDocument(n)))}));let n=qn();return s.forEach(((s,i)=>{const r=e.get(s);void 0!==r&&On(r.mutation,i,De.empty(),H.now()),Qt(t,i)&&(n=n.insert(s,i))})),n}))}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(gt.newInvalidDocument(t))}}class jo{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:vr(n.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Di(e.bundledQuery),readTime:vr(e.readTime)}}(t)),ue.resolve()}}class Po{constructor(){this.overlays=new Te(dt.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wn();return ue.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,s)=>{this.ue(e,t,s)})),ue.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.es.get(n);return void 0!==s&&(s.forEach((e=>this.overlays=this.overlays.remove(e))),this.es.delete(n)),ue.resolve()}getOverlaysForCollection(e,t,n){const s=Wn(),i=t.length+1,r=new dt(t.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const e=o.getNext().value,r=e.getKey();if(!t.isPrefixOf(r.path))break;r.path.length===i&&e.largestBatchId>n&&s.set(e.getKey(),e)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let i=new Te(((e,t)=>e-t));const r=this.overlays.getIterator();for(;r.hasNext();){const e=r.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Wn(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=s)););return ue.resolve(o)}ue(e,t,n){const s=this.overlays.get(n.key);if(null!==s){const e=this.es.get(s.largestBatchId).delete(n.key);this.es.set(s.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wi(t,n));let i=this.es.get(t);void 0===i&&(i=Zn(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}class Mo{constructor(){this.ns=new xe(Lo.ss),this.rs=new xe(Lo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Lo(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.cs(new Lo(e,t))}hs(e,t){e.forEach((e=>this.removeReference(e,t)))}ls(e){const t=new dt(new G([])),n=new Lo(t,e),s=new Lo(t,e+1),i=[];return this.rs.forEachInRange([n,s],(e=>{this.cs(e),i.push(e.key)})),i}fs(){this.ns.forEach((e=>this.cs(e)))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new dt(new G([])),n=new Lo(t,e),s=new Lo(t,e+1);let i=Zn();return this.rs.forEachInRange([n,s],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lo(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return dt.comparator(e.key,t.key)||B(e._s,t._s)}static os(e,t){return B(e._s,t._s)||dt.comparator(e.key,t.key)}}class Uo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new xe(Lo.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,s){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new yi(i,t,n,s);this.mutationQueue.push(r);for(const t of s)this.gs=this.gs.add(new Lo(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ue.resolve(r)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ps(n),i=s<0?0:s;return ue.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lo(t,0),s=new Lo(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,s],(e=>{const t=this.ys(e._s);i.push(t)})),ue.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xe(B);return t.forEach((e=>{const t=new Lo(e,0),s=new Lo(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,s],(e=>{n=n.add(e._s)}))})),ue.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let i=n;dt.isDocumentKey(i)||(i=i.child(""));const r=new Lo(new dt(i),0);let o=new xe(B);return this.gs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===s&&(o=o.add(e._s)),!0)}),r),ue.resolve(this.Is(o))}Is(e){const t=[];return e.forEach((e=>{const n=this.ys(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){I(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return ue.forEach(t.mutations,(s=>{const i=new Lo(s.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.gs=n}))}An(e){}containsKey(e,t){const n=new Lo(t,0),s=this.gs.firstAfterOrEqual(n);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fo{constructor(e){this.Es=e,this.docs=new Te(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),i=s?s.size:0,r=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:r}),this.size+=r-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ue.resolve(n?n.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let n=$n();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gt.newInvalidDocument(e))})),ue.resolve(n)}getAllFromCollection(e,t,n){let s=$n();const i=new dt(t.child("")),r=this.docs.getIteratorFrom(i);for(;r.hasNext();){const{key:e,value:{document:i}}=r.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||ie(ne(i),n)<=0||(s=s.insert(i.key,i.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,t,n,s){O()}As(e,t){return ue.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Vo(this)}getSize(e){return ue.resolve(this.size)}}class Vo extends So{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(n)})),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Bo{constructor(e){this.persistence=e,this.Rs=new Vn((e=>bt(e)),wt),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Mo,this.targetCount=0,this.vs=ho.Pn()}forEachTarget(e,t){return this.Rs.forEach(((e,n)=>t(n))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ho(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,n){let s=0;const i=[];return this.Rs.forEach(((r,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Rs.delete(r),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)})),ue.waitFor(i).next((()=>s))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return ue.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),ue.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((t=>{i.push(s.markPotentiallyOrphaned(e,t))})),ue.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return ue.resolve(n)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class $o{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new we(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Bo(this),this.indexManager=new Yi,this.remoteDocumentCache=function(e){return new Fo(e)}((e=>this.referenceDelegate.xs(e))),this.It=new Ei(t),this.Ns=new jo(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Po,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Uo(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){_("MemoryPersistence","Starting transaction:",e);const s=new Ho(this.Ss.next());return this.referenceDelegate.ks(),n(s).next((e=>this.referenceDelegate.Ms(s).next((()=>e)))).toPromise().then((e=>(s.raiseOnCommittedEvent(),e)))}Os(e,t){return ue.or(Object.values(this.Vs).map((n=>()=>n.containsKey(e,t))))}}class Ho extends se{constructor(e){super(),this.currentSequenceNumber=e}}class qo{constructor(e){this.persistence=e,this.Fs=new Mo,this.$s=null}static Bs(e){return new qo(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ue.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach((e=>this.Ls.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ls.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,(n=>{const s=dt.fromPath(n);return this.Us(e,s).next((e=>{e||t.removeEntry(s,z.min())}))})).next((()=>(this.$s=null,t.apply(e))))}updateLimboDocument(e,t){return this.Us(e,t).next((e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())}))}xs(e){return 0}Us(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class zo{constructor(e){this.It=e}$(e,t,n,s){const i=new ce("createOrUpgrade",t);n<1&&s>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wr,{unique:!0}),e.createObjectStore("documentMutations")}(e),Wo(e),function(e){e.createObjectStore("remoteDocuments")}(e));let r=ue.resolve();return n<3&&s>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Wo(e)),r=r.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:z.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&s>=4&&(0!==n&&(r=r.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wr,{unique:!0});const s=t.store("mutations"),i=n.map((e=>s.put(e)));return ue.waitFor(i)}))}(e,i)))),r=r.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&s>=5&&(r=r.next((()=>this.qs(i)))),n<6&&s>=6&&(r=r.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(i))))),n<7&&s>=7&&(r=r.next((()=>this.Gs(i)))),n<8&&s>=8&&(r=r.next((()=>this.Qs(e,i)))),n<9&&s>=9&&(r=r.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&s>=10&&(r=r.next((()=>this.js(i)))),n<11&&s>=11&&(r=r.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&s>=12&&(r=r.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ai});t.createIndex("collectionPathOverlayIndex",ui,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ci,{unique:!1})}(e)}))),n<13&&s>=13&&(r=r.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Xr});t.createIndex("documentKeyIndex",Zr),t.createIndex("collectionGroupIndex",Qr)}(e))).next((()=>this.Ws(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&s>=14&&(r=r.next((()=>this.zs(e,i)))),n<15&&s>=15&&(r=r.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ri}).createIndex("sequenceNumberIndex",ii,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:oi}).createIndex("documentKeyIndex",si,{unique:!1})}(e)))),r}Ks(e){let t=0;return e.store("remoteDocuments").Z(((e,n)=>{t+=oo(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}qs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>ue.forEach(t,(t=>{const s=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",s).next((n=>ue.forEach(n,(n=>{I(n.userId===t.userId);const s=xi(this.It,n);return io(e,t.userId,s).next((()=>{}))}))))}))))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const s=[];return n.Z(((n,i)=>{const r=new G(n),o=function(e){return[0,Hr(e)]}(r);s.push(t.get(o).next((n=>n?ue.resolve():(n=>t.put({targetId:0,path:Hr(n),sequenceNumber:e.highestListenSequenceNumber}))(r))))})).next((()=>ue.waitFor(s)))}))}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:ni});const n=t.store("collectionParents"),s=new Ki,i=e=>{if(s.add(e)){const t=e.lastSegment(),s=e.popLast();return n.put({collectionId:t,parent:Hr(s)})}};return t.store("remoteDocuments").Z({X:!0},((e,t)=>{const n=new G(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Z({X:!0},(([e,t,n],s)=>{const r=zr(t);return i(r.popLast())}))))}js(e){const t=e.store("targets");return t.Z(((e,n)=>{const s=Ci(n),i=ki(this.It,s);return t.put(i)}))}Ws(e,t){const n=t.store("remoteDocuments"),s=[];return n.Z(((e,n)=>{const i=t.store("remoteDocumentsV14"),r=(o=n,o.document?new dt(G.fromString(o.document.name).popFirst(5)):o.noDocument?dt.fromSegments(o.noDocument.path):o.unknownDocument?dt.fromSegments(o.unknownDocument.path):O()).path.toArray();var o;const u={prefixPath:r.slice(0,r.length-2),collectionGroup:r[r.length-2],documentId:r[r.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};s.push(i.put(u))})).next((()=>ue.waitFor(s)))}zs(e,t){const n=t.store("mutations"),s=Oo(this.It),i=new $o(qo.Bs,this.It.re);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let s=null!==(t=n.get(e.userId))&&void 0!==t?t:Zn();xi(this.It,e).keys().forEach((e=>s=s.add(e))),n.set(e.userId,s)})),ue.forEach(n,((e,n)=>{const r=new f(n),o=Mi.oe(this.It,r),u=i.getIndexManager(r),c=so.oe(r,this.It,u,i.referenceDelegate);return new No(s,c,o,u).recalculateAndSaveOverlaysForDocumentKeys(new gi(t,we.at),e).next()}))}))}}function Wo(e){e.createObjectStore("targetDocuments",{keyPath:ei}).createIndex("documentTargetsIndex",ti,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jr,{unique:!0}),e.createObjectStore("targetGlobal")}const Go="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yo{constructor(e,t,n,s,i,r,o,u,c,a,l=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=i,this.window=r,this.document=o,this.Js=c,this.Ys=a,this.Xs=l,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!Yo.C())throw new k(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _o(this,s),this.ii=t+"main",this.It=new Ei(u),this.ri=new le(this.ii,this.Xs,new zo(this.It)),this.Cs=new fo(this.referenceDelegate,this.It),this.remoteDocumentCache=Oo(this.It),this.Ns=new Ni,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===a&&E("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new k(C.FAILED_PRECONDITION,Go);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Cs.getHighestSequenceNumber(e)))})).then((e=>{this.Ss=new we(e,this.Js)})).then((()=>{this.Ds=!0})).catch((e=>(this.ri&&this.ri.close(),Promise.reject(e))))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Xo(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(e))).next((t=>this.isPrimary&&!t?this._i(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(fe(e))return _("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable((()=>this.si(e))),this.isPrimary=e}))}fi(e){return Ko(e).get("owner").next((e=>ue.resolve(this.mi(e))))}gi(e){return Xo(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=vi(e,"clientMetadata");return t.W().next((e=>{const n=this.Ii(e,18e5),s=e.filter((e=>-1===n.indexOf(e)));return ue.forEach(s,(e=>t.delete(e.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):Ko(e).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new k(C.FAILED_PRECONDITION,Go);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xo(e).W().next((e=>void 0===this.Ii(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,s=this.networkEnabled===e.networkEnabled;if(t||n&&s)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&_("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new gi(e,we.at);return this._i(t).next((()=>this.gi(t)))})),this.ri.close(),this.Pi()}Ii(e,t){return e.filter((e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(e=>Xo(e).W().next((e=>this.Ii(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ds}getMutationQueue(e,t){return so.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zi(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Mi.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){_("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",i=15===(r=this.Xs)?mi:14===r?pi:13===r?fi:12===r?di:11===r?hi:void O();var r;let o;return this.ri.runTransaction(e,s,i,(s=>(o=new gi(s,this.Ss?this.Ss.next():we.at),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.di(o))).next((t=>{if(!t)throw E(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new k(C.FAILED_PRECONDITION,oe);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.Vi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Vi(e){return Ko(e).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new k(C.FAILED_PRECONDITION,Go)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ko(e).put("owner",t)}static C(){return le.C()}_i(e){const t=Ko(e);return t.get("owner").next((e=>this.mi(e)?(_("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve()))}pi(e,t){const n=Date.now();return!(e<n-t||e>n&&(E(`Detected an update time that is in the future: ${e} > ${n}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),Object(l.w)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return _("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return E("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){E("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ko(e){return vi(e,"owner")}function Xo(e){return vi(e,"clientMetadata")}function Zo(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Qo{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=s}static Ci(e,t){let n=Zn(),s=Zn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:s=s.add(e.doc.key)}return new Qo(e,t.fromCache,n,s)}}class Jo{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,s){return this.ki(e,t).next((i=>i||this.Mi(e,t,s,n))).next((n=>n||this.Oi(e,t)))}ki(e,t){if($t(t))return ue.resolve(null);let n=Gt(t);return this.indexManager.getIndexType(e,n).next((s=>0===s?null:(null!==t.limit&&1===s&&(t=Yt(t,null,"F"),n=Gt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const i=Zn(...s);return this.Ni.getDocuments(e,i).next((s=>this.indexManager.getMinOffset(e,n).next((n=>{const r=this.Fi(t,s);return this.$i(t,r,i,n.readTime)?this.ki(e,Yt(t,null,"F")):this.Bi(e,r,t,n)}))))})))))}Mi(e,t,n,s){return $t(t)||s.isEqual(z.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((i=>{const r=this.Fi(t,i);return this.$i(t,r,n,s)?this.Oi(e,t):(y()<=c.a.DEBUG&&_("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zt(t)),this.Bi(e,r,t,te(s,-1)))}))}Fi(e,t){let n=new xe(en(e));return t.forEach(((t,s)=>{Qt(e,s)&&(n=n.add(s))})),n}$i(e,t,n,s){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Oi(e,t){return y()<=c.a.DEBUG&&_("QueryEngine","Using full collection scan to execute query:",Zt(t)),this.Ni.getDocumentsMatchingQuery(e,t,re.min())}Bi(e,t,n,s){return this.Ni.getDocumentsMatchingQuery(e,n,s).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class es{constructor(e,t,n,s){this.persistence=e,this.Li=t,this.It=s,this.Ui=new Te(B),this.qi=new Vn((e=>bt(e)),wt),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new No(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ui)))}}function ts(e,t,n,s){return new es(e,t,n,s)}async function ns(e,t){const n=x(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.mutationQueue.getAllMutationBatches(e).next((i=>(s=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],r=[];let o=Zn();for(const e of s){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ji:e,removedBatchIds:i,addedBatchIds:r})))}))}))}function rs(e){const t=x(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Cs.getLastRemoteSnapshotVersion(e)))}function is(e,t,n){let s=Zn(),i=Zn();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=$n();return n.forEach(((n,r)=>{const o=e.get(n);r.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),r.isNoDocument()&&r.version.isEqual(z.min())?(t.removeEntry(n,r.readTime),s=s.insert(n,r)):!o.isValidDocument()||r.version.compareTo(o.version)>0||0===r.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(r),s=s.insert(n,r)):_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",r.version)})),{Wi:s,zi:i}}))}function os(e,t){const n=x(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ss(e,t){const n=x(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let s;return n.Cs.getTargetData(e,t).next((i=>i?(s=i,ue.resolve(s)):n.Cs.allocateTargetId(e).next((i=>(s=new _i(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,s).next((()=>s)))))))})).then((e=>{const s=n.Ui.get(e.targetId);return(null===s||e.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}async function as(e,t,n){const s=x(e),i=s.Ui.get(t),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,(e=>s.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!fe(e))throw e;_("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}s.Ui=s.Ui.remove(t),s.qi.delete(i.target)}function us(e,t,n){const s=x(e);let i=z.min(),r=Zn();return s.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const s=x(e),i=s.qi.get(n);return void 0!==i?ue.resolve(s.Ui.get(i)):s.Cs.getTargetData(t,n)}(s,e,Gt(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{r=e}))})).next((()=>s.Li.getDocumentsMatchingQuery(e,t,n?i:z.min(),n?r:Zn()))).next((e=>(hs(s,Jt(t),e),{documents:e,Hi:r})))))}function cs(e,t){const n=x(e),s=x(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>s.se(e,t).next((e=>e?e.target:null))))}function ls(e,t){const n=x(e),s=n.Ki.get(t)||z.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Gi.getAllFromCollectionGroup(e,t,te(s,-1),Number.MAX_SAFE_INTEGER))).then((e=>(hs(n,t,e),e)))}function hs(e,t,n){let s=z.min();n.forEach(((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)})),e.Ki.set(t,s)}async function ds(e,t,n=Zn()){const s=await ss(e,Gt(Di(t.bundledQuery))),i=x(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const r=vr(t.readTime);if(s.snapshotVersion.compareTo(r)>=0)return i.Ns.saveNamedQuery(e,t);const o=s.withResumeToken(Ae.EMPTY_BYTE_STRING,r);return i.Ui=i.Ui.insert(o.targetId,o),i.Cs.updateTargetData(e,o).next((()=>i.Cs.removeMatchingKeysForTargetId(e,s.targetId))).next((()=>i.Cs.addMatchingKeys(e,n,s.targetId))).next((()=>i.Ns.saveNamedQuery(e,t)))}))}function fs(e,t){return`firestore_clients_${e}_${t}`}function ps(e,t,n){let s=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function ms(e,t){return`firestore_targets_${e}_${t}`}class gs{constructor(e,t,n,s){this.user=e,this.batchId=t,this.state=n,this.error=s}static Zi(e,t,n){const s=JSON.parse(n);let i,r="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return r&&s.error&&(r="string"==typeof s.error.message&&"string"==typeof s.error.code,r&&(i=new k(s.error.code,s.error.message))),r?new gs(e,t,s.state,i):(E("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vs{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let s,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(s=new k(n.error.code,n.error.message))),i?new vs(e,n.state,s):(E("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ys{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let s="object"==typeof n&&n.activeTargetIds instanceof Array,i=Jn();for(let e=0;s&&e<n.activeTargetIds.length;++e)s=qe(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return s?new ys(e,i):(E("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bs{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bs(t.clientId,t.onlineState):(E("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ws{constructor(){this.activeTargetIds=Jn()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _s{constructor(e,t,n,s,i){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Te(B),this.started=!1,this.cr=[];const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=fs(this.persistenceKey,this.sr),this.hr=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new ws),this.lr=new RegExp(`^firestore_clients_${r}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${r}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${r}_(\\d+)$`),this.wr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.mr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const t of e){if(t===this.sr)continue;const e=this.getItem(fs(this.persistenceKey,t));if(e){const n=ys.Zi(t,e);n&&(this.ur=this.ur.insert(n.clientId,n))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const e of this.cr)this.rr(e);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach(((n,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ms(this.persistenceKey,e));if(n){const s=vs.Zi(e,n);s&&(t=s.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ms(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Er(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _("SharedClientState","READ",e,t),t}setItem(e,t){_("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(_("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void E("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=we.at;if(null!=e)try{const n=JSON.parse(e);I("number"==typeof n),t=n}catch(e){E("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==we.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Mr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Or(e))))}}else this.cr.push(t)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const s=new gs(this.currentUser,e,t,n),i=ps(this.persistenceKey,this.currentUser,e);this.setItem(i,s.tr())}Er(e){const t=ps(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,n){const s=ms(this.persistenceKey,e),i=new vs(e,t,n);this.setItem(s,i.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return ys.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),s=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gs.Zi(new f(i),s,t)}Nr(e,t){const n=this._r.exec(e),s=Number(n[1]);return vs.Zi(s,t)}yr(e){return bs.Zi(e)}Mr(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);_("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),s=this.Ir(this.ur),i=this.Ir(n),r=[],o=[];return i.forEach((e=>{s.has(e)||r.push(e)})),s.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Br(r,o).then((()=>{this.ur=n}))}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Jn();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Es{constructor(){this.Lr=new ws,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,n){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ws,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ss{qr(e){}shutdown(){}}class Ts{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Os={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Is{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class xs extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,s,i){const r=this.ao(e,t);_("RestConnection","Sending: ",r,n);const o={};return this.ho(o,s,i),this.lo(e,r,o,n).then((e=>(_("RestConnection","Received: ",e),e)),(t=>{throw S("RestConnection",`${e} failed with error: `,t,"url: ",r,"request:",n),t}))}fo(e,t,n,s,i,r){return this.co(e,t,n,s,i)}ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+m,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ao(e,t){const n=Os[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,n,s){return new Promise(((i,r)=>{const o=new h.g;o.listenOnce(h.c.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case h.a.NO_ERROR:const t=o.getResponseJson();_("Connection","XHR received:",JSON.stringify(t)),i(t);break;case h.a.TIMEOUT:_("Connection",'RPC "'+e+'" timed out'),r(new k(C.DEADLINE_EXCEEDED,"Request time out"));break;case h.a.HTTP_ERROR:const n=o.getStatus();if(_("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(t)>=0?t:C.UNKNOWN}(e.status);r(new k(t,e.message))}else r(new k(C.UNKNOWN,"Server responded with status "+o.getStatus()))}else r(new k(C.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{_("Connection",'RPC "'+e+'" completed.')}}));const u=JSON.stringify(s);o.send(t,"POST",u,n,15)}))}_o(e,t,n){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(h.h)(),r=Object(h.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new h.d({})),this.ho(o.initMessageHeaders,t,n),Object(l.t)()||Object(l.v)()||Object(l.p)()||Object(l.r)()||Object(l.x)()||Object(l.o)()||(o.httpHeadersOverwriteParam="$httpHeaders");const u=s.join("");_("Connection","Creating WebChannel: "+u,o);const c=i.createWebChannel(u,o);let a=!1,d=!1;const f=new Is({Hr:e=>{d?_("Connection","Not sending because WebChannel is closed:",e):(a||(_("Connection","Opening WebChannel transport."),c.open(),a=!0),_("Connection","WebChannel sending:",e),c.send(e))},Jr:()=>c.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(c,h.f.EventType.OPEN,(()=>{d||_("Connection","WebChannel transport opened.")})),m(c,h.f.EventType.CLOSE,(()=>{d||(d=!0,_("Connection","WebChannel transport closed"),f.io())})),m(c,h.f.EventType.ERROR,(e=>{d||(d=!0,S("Connection","WebChannel transport errored:",e),f.io(new k(C.UNAVAILABLE,"The operation could not be completed")))})),m(c,h.f.EventType.MESSAGE,(e=>{var t;if(!d){const n=e.data[0];I(!!n);const s=n,i=s.error||(null===(t=s[0])||void 0===t?void 0:t.error);if(i){_("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Mn[e];if(void 0!==t)return Fn(t)}(e),n=i.message;void 0===t&&(t=C.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),d=!0,f.io(new k(t,n)),c.close()}else _("Connection","WebChannel received:",n),f.ro(n)}})),m(r,h.b.STAT_EVENT,(e=>{e.stat===h.e.PROXY?_("Connection","Detected buffering proxy"):e.stat===h.e.NOPROXY&&_("Connection","Detected no buffering proxy")})),setTimeout((()=>{f.so()}),0),f}}function Cs(){return"undefined"!=typeof window?window:null}function ks(){return"undefined"!=typeof document?document:null}function Ds(e){return new fr(e,!0)}class Rs{constructor(e,t,n=1e3,s=1.5,i=6e4){this.Hs=e,this.timerId=t,this.wo=n,this.mo=s,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),s=Math.max(0,t-n);s>0&&_("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,s,(()=>(this.To=Date.now(),e()))),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class As{constructor(e,t,n,s,i,r,o,u){this.Hs=e,this.Po=n,this.vo=s,this.Vo=i,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Rs(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(()=>this.$o())))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(E(t.toString()),E("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):t&&t.code===C.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.So===t&&this.Go(e,n)}),(t=>{e((()=>{const e=new k(C.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)}))}))}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((e=>{n((()=>this.Qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Mo(){this.state=5,this.xo.Ao((async()=>{this.state=0,this.start()}))}Qo(e){return _("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget((()=>this.So===e?t():(_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ns extends As{constructor(e,t,n,s,i,r){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,r),this.It=i}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:O()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=function(e,t){return e.gt?(I(void 0===t||"string"==typeof t),Ae.fromBase64String(t||"")):(I(void 0===t||t instanceof Uint8Array),Ae.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){const t=void 0===e.code?C.UNKNOWN:Fn(e.code);return new k(t,e.message||"")}(o);n=new or(s,i,r,u||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const i=Er(e,s.document.name),r=vr(s.document.updateTime),o=new pt({mapValue:{fields:s.document.fields}}),u=gt.newFoundDocument(i,r,o),c=s.targetIds||[],a=s.removedTargetIds||[];n=new rr(c,a,u.key,u)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const i=Er(e,s.document),r=s.readTime?vr(s.readTime):z.min(),o=gt.newNoDocument(i,r),u=s.removedTargetIds||[];n=new rr([],u,o.key,o)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const i=Er(e,s.document),r=s.removedTargetIds||[];n=new rr([],r,i,null)}else{if(!("filter"in t))return O();{t.filter;const e=t.filter;e.targetId;const s=e.count||0,i=new Pn(s),r=e.targetId;n=new ir(r,i)}}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return z.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?z.min():t.readTime?vr(t.readTime):z.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=Or(this.It),t.addTarget=function(e,t){let n;const s=t.target;return n=_t(s)?{documents:Rr(e,s)}:{query:Ar(e,s)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=mr(e,t.resumeToken):t.snapshotVersion.compareTo(z.min())>0&&(n.readTime=pr(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=Or(this.It),t.removeTarget=e,this.Bo(t)}}class js extends As{constructor(e,t,n,s,i,r){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,r),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(I(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(e,t){return e&&e.length>0?(I(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?vr(e.updateTime):vr(t);return n.isEqual(z.min())&&(n=vr(t)),new bn(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=vr(e.commitTime);return this.listener.Zo(n,t)}return I(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Or(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>kr(this.It,e)))};this.Bo(t)}}class Ps extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=n,this.It=s,this.nu=!1}su(){if(this.nu)throw new k(C.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,i])=>this.Vo.co(e,t,n,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new k(C.UNKNOWN,e.toString())}))}fo(e,t,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.Vo.fo(e,t,n,i,r,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new k(C.UNKNOWN,e.toString())}))}terminate(){this.nu=!0}}class Ms{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(E(t),this.ou=!1):_("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ls{constructor(e,t,n,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr((e=>{n.enqueueAndForget((async()=>{Ws(this)&&(_("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=x(e);t._u.add(4),await Fs(t),t.gu.set("Unknown"),t._u.delete(4),await Us(t)}(this))}))})),this.gu=new Ms(n,s)}}async function Us(e){if(Ws(e))for(const t of e.wu)await t(!0)}async function Fs(e){for(const t of e.wu)await t(!1)}function Vs(e,t){const n=x(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),zs(n)?qs(n):la(n).ko()&&$s(n,t))}function Bs(e,t){const n=x(e),s=la(n);n.du.delete(t),s.ko()&&Hs(n,t),0===n.du.size&&(s.ko()?s.Fo():Ws(n)&&n.gu.set("Unknown"))}function $s(e,t){e.yu.Ot(t.targetId),la(e).zo(t)}function Hs(e,t){e.yu.Ot(t),la(e).Ho(t)}function qs(e){e.yu=new ar({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e.du.get(t)||null}),la(e).start(),e.gu.uu()}function zs(e){return Ws(e)&&!la(e).No()&&e.du.size>0}function Ws(e){return 0===x(e)._u.size}function Gs(e){e.yu=void 0}async function Ys(e){e.du.forEach(((t,n)=>{$s(e,t)}))}async function Ks(e,t){Gs(e),zs(e)?(e.gu.hu(t),qs(e)):e.gu.set("Unknown")}async function Xs(e,t,n){if(e.gu.set("Online"),t instanceof or&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const s of t.targetIds)e.du.has(s)&&(await e.remoteSyncer.rejectListen(s,n),e.du.delete(s),e.yu.removeTarget(s))}(e,t)}catch(n){_("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zs(e,n)}else if(t instanceof rr?e.yu.Gt(t):t instanceof ir?e.yu.Yt(t):e.yu.Wt(t),!n.isEqual(z.min()))try{const t=await rs(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.te(t);return n.targetChanges.forEach(((n,s)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.du.get(s);i&&e.du.set(s,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(Ae.EMPTY_BYTE_STRING,n.snapshotVersion)),Hs(e,t);const s=new _i(n.target,t,1,n.sequenceNumber);$s(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){_("RemoteStore","Failed to raise snapshot:",t),await Zs(e,t)}}async function Zs(e,t,n){if(!fe(t))throw t;e._u.add(1),await Fs(e),e.gu.set("Offline"),n||(n=()=>rs(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Us(e)}))}function Qs(e,t){return t().catch((n=>Zs(e,n,t)))}async function Js(e){const t=x(e),n=ha(t);let s=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;ea(t);)try{const e=await os(t.localStore,s);if(null===e){0===t.fu.length&&n.Fo();break}s=e.batchId,ta(t,e)}catch(e){await Zs(t,e)}na(t)&&ra(t)}function ea(e){return Ws(e)&&e.fu.length<10}function ta(e,t){e.fu.push(t);const n=ha(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function na(e){return Ws(e)&&!ha(e).No()&&e.fu.length>0}function ra(e){ha(e).start()}async function ia(e){ha(e).eu()}async function oa(e){const t=ha(e);for(const n of e.fu)t.Xo(n.mutations)}async function sa(e,t,n){const s=e.fu.shift(),i=bi.from(s,t,n);await Qs(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Js(e)}async function aa(e,t){t&&ha(e).Yo&&await async function(e,t){if(Un(n=t.code)&&n!==C.ABORTED){const n=e.fu.shift();ha(e).Oo(),await Qs(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Js(e)}var n}(e,t),na(e)&&ra(e)}async function ua(e,t){const n=x(e);n.asyncQueue.verifyOperationInProgress(),_("RemoteStore","RemoteStore received new credentials");const s=Ws(n);n._u.add(3),await Fs(n),s&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Us(n)}async function ca(e,t){const n=x(e);t?(n._u.delete(2),await Us(n)):t||(n._u.add(2),await Fs(n),n.gu.set("Unknown"))}function la(e){return e.pu||(e.pu=function(e,t,n){const s=x(e);return s.su(),new Ns(t,s.Vo,s.authCredentials,s.appCheckCredentials,s.It,n)}(e.datastore,e.asyncQueue,{Yr:Ys.bind(null,e),Zr:Ks.bind(null,e),Wo:Xs.bind(null,e)}),e.wu.push((async t=>{t?(e.pu.Oo(),zs(e)?qs(e):e.gu.set("Unknown")):(await e.pu.stop(),Gs(e))}))),e.pu}function ha(e){return e.Iu||(e.Iu=function(e,t,n){const s=x(e);return s.su(),new js(t,s.Vo,s.authCredentials,s.appCheckCredentials,s.It,n)}(e.datastore,e.asyncQueue,{Yr:ia.bind(null,e),Zr:aa.bind(null,e),tu:oa.bind(null,e),Zo:sa.bind(null,e)}),e.wu.push((async t=>{t?(e.Iu.Oo(),await Js(e)):(await e.Iu.stop(),e.fu.length>0&&(_("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))}))),e.Iu}class da{constructor(e,t,n,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,s,i){const r=Date.now()+n,o=new da(e,t,r,s,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fa(e,t){if(E("AsyncQueue",`${t}: ${e}`),fe(e))return new k(C.UNAVAILABLE,`${t}: ${e}`);throw e}class pa{constructor(e){this.comparator=e?(t,n)=>e(t,n)||dt.comparator(t.key,n.key):(e,t)=>dt.comparator(e.key,t.key),this.keyedMap=qn(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new pa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,s=n.getNext().key;if(!e.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ma{constructor(){this.Tu=new Te(dt.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ga{constructor(e,t,n,s,i,r,o,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,n,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new ga(e,t,pa.emptySet(t),i,n,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class va{constructor(){this.Au=void 0,this.listeners=[]}}class ya{constructor(){this.queries=new Vn((e=>Xt(e)),Kt),this.onlineState="Unknown",this.Ru=new Set}}async function ba(e,t){const n=x(e),s=t.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new va),i)try{r.Au=await n.onListen(s)}catch(e){const n=fa(e,`Initialization of query '${Zt(t.query)}' failed`);return void t.onError(n)}n.queries.set(s,r),r.listeners.push(t),t.bu(n.onlineState),r.Au&&t.Pu(r.Au)&&Sa(n)}async function wa(e,t){const n=x(e),s=t.query;let i=!1;const r=n.queries.get(s);if(r){const e=r.listeners.indexOf(t);e>=0&&(r.listeners.splice(e,1),i=0===r.listeners.length)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function _a(e,t){const n=x(e);let s=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Pu(e)&&(s=!0);i.Au=e}}s&&Sa(n)}function Ea(e,t,n){const s=x(e),i=s.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);s.queries.delete(t)}function Sa(e){e.Ru.forEach((e=>{e.next()}))}class Ta{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ga(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.Nu&&n||e.docs.isEmpty()&&"Offline"!==t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Oa{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Ia{constructor(e){this.It=e}Ji(e){return Er(this.It,e)}Yi(e){return e.metadata.exists?Cr(this.It,e.document,!1):gt.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return vr(e)}}class xa{constructor(e,t,n){this.Mu=e,this.localStore=t,this.It=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ca(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=G.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,n=new Ia(this.It);for(const s of e)if(s.metadata.queries){const e=n.Ji(s.metadata.name);for(const n of s.metadata.queries){const s=(t.get(n)||Zn()).add(e);t.set(n,s)}}return t}async complete(){const e=await async function(e,t,n,s){const i=x(e);let r=Zn(),o=$n();for(const e of n){const n=t.Ji(e.metadata.name);e.document&&(r=r.add(n));const s=t.Yi(e);s.setReadTime(t.Xi(e.metadata.readTime)),o=o.insert(n,s)}const u=i.Gi.newChangeBuffer({trackRemovals:!0}),c=await ss(i,function(e){return Gt(Bt(G.fromString(`__bundle__/docs/${e}`)))}(s));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>is(e,u,o).next((t=>(u.apply(e),t))).next((t=>i.Cs.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Cs.addMatchingKeys(e,r,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi))).next((()=>t.Wi))))))}(this.localStore,new Ia(this.It),this.documents,this.Mu.id),t=this.Fu(this.documents);for(const e of this.queries)await ds(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:e}}}function Ca(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ka{constructor(e){this.key=e}}class Da{constructor(e){this.key=e}}class Ra{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Zn(),this.mutatedKeys=Zn(),this.Ku=en(e),this.Gu=new pa(this.Ku)}get Qu(){return this.Lu}ju(e,t){const n=t?t.Wu:new ma,s=t?t.Gu:this.Gu;let i=t?t.mutatedKeys:this.mutatedKeys,r=s,o=!1;const u="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,c="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((e,t)=>{const a=s.get(e),l=Qt(this.query,t)?t:null,h=!!a&&this.mutatedKeys.has(a.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;a&&l?a.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.zu(a,l)||(n.track({type:2,doc:l}),f=!0,(u&&this.Ku(l,u)>0||c&&this.Ku(l,c)<0)&&(o=!0)):!a&&l?(n.track({type:0,doc:l}),f=!0):a&&!l&&(n.track({type:1,doc:a}),f=!0,(u||c)&&(o=!0)),f&&(l?(r=r.add(l),i=d?i.add(e):i.delete(e)):(r=r.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;r.size>this.query.limit;){const e="F"===this.query.limitType?r.last():r.first();r=r.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Gu:r,Wu:n,$i:o,mutatedKeys:i}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const s=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const i=e.Wu.Eu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return n(e)-n(t)}(e.type,t.type)||this.Ku(e.doc,t.doc))),this.Hu(n);const r=t?this.Ju():[],o=0===this.qu.size&&this.current?1:0,u=o!==this.Uu;return this.Uu=o,0!==i.length||u?{snapshot:new ga(this.query,e.Gu,s,i,e.mutatedKeys,0===o,u,!1),Yu:r}:{Yu:r}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new ma,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach((e=>this.Lu=this.Lu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Lu=this.Lu.delete(e))),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Zn(),this.Gu.forEach((e=>{this.Xu(e.key)&&(this.qu=this.qu.add(e.key))}));const t=[];return e.forEach((e=>{this.qu.has(e)||t.push(new Da(e))})),this.qu.forEach((n=>{e.has(n)||t.push(new ka(n))})),t}Zu(e){this.Lu=e.Hi,this.qu=Zn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return ga.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Aa{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Na{constructor(e){this.key=e,this.ec=!1}}class ja{constructor(e,t,n,s,i,r){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=r,this.nc={},this.sc=new Vn((e=>Xt(e)),Kt),this.ic=new Map,this.rc=new Set,this.oc=new Te(dt.comparator),this.uc=new Map,this.cc=new Mo,this.ac={},this.hc=new Map,this.lc=ho.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}async function Pa(e,t){const n=au(e);let s,i;const r=n.sc.get(t);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.tc();else{const e=await ss(n.localStore,Gt(t));n.isPrimaryClient&&Vs(n.remoteStore,e);const r=n.sharedClientState.addLocalQueryTarget(e.targetId);s=e.targetId,i=await Ma(n,t,s,"current"===r)}return i}async function Ma(e,t,n,s){e.dc=(t,n,s)=>async function(e,t,n,s){let i=t.view.ju(n);i.$i&&(i=await us(e.localStore,t.query,!1).then((({documents:e})=>t.view.ju(e,i))));const r=s&&s.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,r);return Ga(e,t.targetId,o.Yu),o.snapshot}(e,t,n,s);const i=await us(e.localStore,t,!0),r=new Ra(t,i.Hi),o=r.ju(i.documents),u=nr.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==e.onlineState),c=r.applyChanges(o,e.isPrimaryClient,u);Ga(e,n,c.Yu);const a=new Aa(t,n,r);return e.sc.set(t,a),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),c.snapshot}async function La(e,t){const n=x(e),s=n.sc.get(t),i=n.ic.get(s.targetId);if(i.length>1)return n.ic.set(s.targetId,i.filter((e=>!Kt(e,t)))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await as(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),Bs(n.remoteStore,s.targetId),za(n,s.targetId)})).catch(ae)):(za(n,s.targetId),await as(n.localStore,s.targetId,!0))}async function Ua(e,t){const n=x(e);try{const e=await function(e,t){const n=x(e),s=t.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const r=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const o=[];t.targetChanges.forEach(((r,u)=>{const c=i.get(u);if(!c)return;o.push(n.Cs.removeMatchingKeys(e,r.removedDocuments,u).next((()=>n.Cs.addMatchingKeys(e,r.addedDocuments,u))));let a=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?a=a.withResumeToken(Ae.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):r.resumeToken.approximateByteSize()>0&&(a=a.withResumeToken(r.resumeToken,s)),i=i.insert(u,a),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,a,r)&&o.push(n.Cs.updateTargetData(e,a))}));let u=$n(),c=Zn();if(t.documentUpdates.forEach((s=>{t.resolvedLimboDocuments.has(s)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,s))})),o.push(is(e,r,t.documentUpdates).next((e=>{u=e.Wi,c=e.zi}))),!s.isEqual(z.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next((t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,s)));o.push(t)}return ue.waitFor(o).next((()=>r.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,u,c))).next((()=>u))})).then((e=>(n.Ui=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const s=n.uc.get(t);s&&(I(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?s.ec=!0:e.modifiedDocuments.size>0?I(s.ec):e.removedDocuments.size>0&&(I(s.ec),s.ec=!1))})),await Xa(n,e,t)}catch(e){await ae(e)}}function Fa(e,t,n){const s=x(e);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const e=[];s.sc.forEach(((n,s)=>{const i=s.view.bu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=x(e);n.onlineState=t;let s=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.bu(t)&&(s=!0)})),s&&Sa(n)}(s.eventManager,t),e.length&&s.nc.Wo(e),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Va(e,t,n){const s=x(e);s.sharedClientState.updateQueryState(t,"rejected",n);const i=s.uc.get(t),r=i&&i.key;if(r){let e=new Te(dt.comparator);e=e.insert(r,gt.newNoDocument(r,z.min()));const n=Zn().add(r),i=new er(z.min(),new Map,new xe(B),e,n);await Ua(s,i),s.oc=s.oc.remove(r),s.uc.delete(t),Ka(s)}else await as(s.localStore,t,!1).then((()=>za(s,t,n))).catch(ae)}async function Ba(e,t){const n=x(e),s=t.batch.batchId;try{const e=await function(e,t){const n=x(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const s=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,s){const i=n.batch,r=i.keys();let o=ue.resolve();return r.forEach((e=>{o=o.next((()=>s.getEntry(t,e))).next((t=>{const r=n.docVersions.get(e);I(null!==r),t.version.compareTo(r)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),s.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,s)))}))}(n.localStore,t);qa(n,s,null),Ha(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xa(n,e)}catch(e){await ae(e)}}async function $a(e,t,n){const s=x(e);try{const e=await function(e,t){const n=x(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let s;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(I(null!==t),s=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,s,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,s))).next((()=>n.localDocuments.getDocuments(e,s)))}))}(s.localStore,t);qa(s,t,n),Ha(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Xa(s,e)}catch(n){await ae(n)}}function Ha(e,t){(e.hc.get(t)||[]).forEach((e=>{e.resolve()})),e.hc.delete(t)}function qa(e,t,n){const s=x(e);let i=s.ac[s.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),s.ac[s.currentUser.toKey()]=i}}function za(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.ic.get(t))e.sc.delete(s),n&&e.nc._c(s,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((t=>{e.cc.containsKey(t)||Wa(e,t)}))}function Wa(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);null!==n&&(Bs(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Ka(e))}function Ga(e,t,n){for(const s of n)s instanceof ka?(e.cc.addReference(s.key,t),Ya(e,s)):s instanceof Da?(_("SyncEngine","Document no longer in limbo: "+s.key),e.cc.removeReference(s.key,t),e.cc.containsKey(s.key)||Wa(e,s.key)):O()}function Ya(e,t){const n=t.key,s=n.path.canonicalString();e.oc.get(n)||e.rc.has(s)||(_("SyncEngine","New document in limbo: "+n),e.rc.add(s),Ka(e))}function Ka(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new dt(G.fromString(t)),s=e.lc.next();e.uc.set(s,new Na(n)),e.oc=e.oc.insert(n,s),Vs(e.remoteStore,new _i(Gt(Bt(n.path)),s,2,we.at))}}async function Xa(e,t,n){const s=x(e),i=[],r=[],o=[];s.sc.isEmpty()||(s.sc.forEach(((e,u)=>{o.push(s.dc(u,t,n).then((e=>{if(e){s.isPrimaryClient&&s.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Qo.Ci(u.targetId,e);r.push(t)}})))})),await Promise.all(o),s.nc.Wo(i),await async function(e,t){const n=x(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ue.forEach(t,(t=>ue.forEach(t.Si,(s=>n.persistence.referenceDelegate.addReference(e,t.targetId,s))).next((()=>ue.forEach(t.Di,(s=>n.persistence.referenceDelegate.removeReference(e,t.targetId,s)))))))))}catch(e){if(!fe(e))throw e;_("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ui.get(t),s=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(s);n.Ui=n.Ui.insert(t,i)}}}(s.localStore,r))}async function Za(e,t){const n=x(e);if(!n.currentUser.isEqual(t)){_("SyncEngine","User change. New user:",t.toKey());const e=await ns(n.localStore,t);n.currentUser=t,function(e,t){e.hc.forEach((e=>{e.forEach((e=>{e.reject(new k(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Xa(n,e.ji)}}function Qa(e,t){const n=x(e),s=n.uc.get(t);if(s&&s.ec)return Zn().add(s.key);{let e=Zn();const s=n.ic.get(t);if(!s)return e;for(const t of s){const s=n.sc.get(t);e=e.unionWith(s.view.Qu)}return e}}async function Ja(e,t){const n=x(e),s=await us(n.localStore,t.query,!0),i=t.view.Zu(s);return n.isPrimaryClient&&Ga(n,t.targetId,i.Yu),i}async function eu(e,t){const n=x(e);return ls(n.localStore,t).then((e=>Xa(n,e)))}async function tu(e,t,n,s){const i=x(e),r=await function(e,t){const n=x(e),s=x(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>s.Tn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ue.resolve(null)))))}(i.localStore,t);null!==r?("pending"===n?await Js(i.remoteStore):"acknowledged"===n||"rejected"===n?(qa(i,t,s||null),Ha(i,t),function(e,t){x(x(e).mutationQueue).An(t)}(i.localStore,t)):O(),await Xa(i,r)):_("SyncEngine","Cannot apply mutation batch with id: "+t)}async function nu(e,t,n){const s=x(e),i=[],r=[];for(const e of t){let t;const n=s.ic.get(e);if(n&&0!==n.length){t=await ss(s.localStore,Gt(n[0]));for(const e of n){const t=s.sc.get(e),n=await Ja(s,t);n.snapshot&&r.push(n.snapshot)}}else{const n=await cs(s.localStore,e);t=await ss(s.localStore,n),await Ma(s,ru(n),e,!1)}i.push(t)}return s.nc.Wo(r),i}function ru(e){return Vt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iu(e){const t=x(e);return x(x(t.localStore).persistence).vi()}async function ou(e,t,n,s){const i=x(e);if(i.fc)return void _("SyncEngine","Ignoring unexpected query state notification.");const r=i.ic.get(t);if(r&&r.length>0)switch(n){case"current":case"not-current":{const e=await ls(i.localStore,Jt(r[0])),s=er.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Xa(i,e,s);break}case"rejected":await as(i.localStore,t,!0),za(i,t,s);break;default:O()}}async function su(e,t,n){const s=au(e);if(s.fc){for(const e of t){if(s.ic.has(e)){_("SyncEngine","Adding an already active target "+e);continue}const t=await cs(s.localStore,e),n=await ss(s.localStore,t);await Ma(s,ru(t),n.targetId,!1),Vs(s.remoteStore,n)}for(const e of n)s.ic.has(e)&&await as(s.localStore,e,!1).then((()=>{Bs(s.remoteStore,e),za(s,e)})).catch(ae)}}function au(e){const t=x(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ua.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qa.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Va.bind(null,t),t.nc.Wo=_a.bind(null,t.eventManager),t.nc._c=Ea.bind(null,t.eventManager),t}function uu(e){const t=x(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ba.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$a.bind(null,t),t}class cu{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Ds(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,t){return null}Tc(e,t){return null}yc(e){return ts(this.persistence,new Jo,e.initialUser,this.It)}gc(e){return new $o(qo.Bs,this.It)}mc(e){return new Es}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lu extends cu{constructor(e,t,n){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ec.initialize(this,e),await uu(this.Ec.syncEngine),await Js(this.Ec.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}yc(e){return ts(this.persistence,new Jo,e.initialUser,this.It)}Ic(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new bo(n,e.asyncQueue,t)}Tc(e,t){const n=new be(t,this.persistence);return new ye(e.asyncQueue,n)}gc(e){const t=Zo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new Yo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cs(),ks(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Es}}class hu extends lu{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ec.syncEngine;this.sharedClientState instanceof _s&&(this.sharedClientState.syncEngine={Fr:tu.bind(null,t),$r:ou.bind(null,t),Br:su.bind(null,t),vi:iu.bind(null,t),Or:eu.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li((async e=>{await async function(e,t){const n=x(e);if(au(n),uu(n),!0===t&&!0!==n.fc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await nu(n,e.toArray());n.fc=!0,await ca(n.remoteStore,!0);for(const e of t)Vs(n.remoteStore,e)}else if(!1===t&&!1!==n.fc){const e=[];let t=Promise.resolve();n.ic.forEach(((s,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(za(n,i),as(n.localStore,i,!0)))),Bs(n.remoteStore,i)})),await t,await nu(n,e),function(e){const t=x(e);t.uc.forEach(((e,n)=>{Bs(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Te(dt.comparator)}(n),n.fc=!1,await ca(n.remoteStore,!1)}}(this.Ec.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}mc(e){const t=Cs();if(!_s.C(t))throw new k(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Zo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _s(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class du{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fa(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Za.bind(null,this.syncEngine),await ca(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ya}createDatastore(e){const t=Ds(e.databaseInfo.databaseId),n=(s=e.databaseInfo,new xs(s));var s;return function(e,t,n,s){return new Ps(e,t,n,s)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,s=e.asyncQueue,i=e=>Fa(this.syncEngine,e,0),r=Ts.C()?new Ts:new Ss,new Ls(t,n,s,i,r);var t,n,s,i,r}createSyncEngine(e,t){return function(e,t,n,s,i,r,o){const u=new ja(e,t,n,s,i,r);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=x(e);_("RemoteStore","RemoteStore shutting down."),t._u.add(5),await Fs(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}function fu(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const s={value:e.slice(n,n+t),done:!1};return n+=t,s}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class pu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):E("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class mu{constructor(e,t){this.bc=e,this.It=t,this.metadata=new D,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((e=>{e&&e.ku()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.bc.cancel()}async getMetadata(){return this.metadata.promise}async wc(){return await this.getMetadata(),this.vc()}async vc(){const e=await this.Vc();if(null===e)return null;const t=this.Pc.decode(e),n=Number(t);isNaN(n)&&this.Sc(`length string (${t}) is not valid number`);const s=await this.Dc(n);return new Oa(JSON.parse(s),e.length+n)}Cc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Vc(){for(;this.Cc()<0&&!await this.xc(););if(0===this.buffer.length)return null;const e=this.Cc();e<0&&this.Sc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Dc(e){for(;this.buffer.length<e;)await this.xc()&&this.Sc("Reached the end of bundle when more is expected.");const t=this.Pc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}async xc(){const e=await this.bc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new k(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=x(e),s=Or(n.It)+"/documents",i={documents:t.map((e=>_r(n.It,e)))},r=await n.fo("BatchGetDocuments",s,i,t.length),o=new Map;r.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){I(!!t.found),t.found.name,t.found.updateTime;const n=Er(e,t.found.name),s=vr(t.found.updateTime),i=new pt({mapValue:{fields:t.found.fields}});return gt.newFoundDocument(n,s,i)}(e,t):"missing"in t?function(e,t){I(!!t.missing),I(!!t.readTime);const n=Er(e,t.missing),s=vr(t.readTime);return gt.newNoDocument(n,s)}(e,t):O()}(n.It,e);o.set(t.key.toString(),t)}));const u=[];return t.forEach((e=>{const t=o.get(e.toString());I(!!t),u.push(t)})),u}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=dt.fromPath(t);this.mutations.push(new jn(n,this.precondition(n)))})),await async function(e,t){const n=x(e),s=Or(n.It)+"/documents",i={writes:t.map((e=>kr(n.It,e)))};await n.co("Commit",s,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw O();t=z.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new k(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(z.min())?wn.exists(!1):wn.updateTime(t):wn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(z.min()))throw new k(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wn.updateTime(t)}return wn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vu{constructor(e,t,n,s,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=s,this.deferred=i,this.Nc=n.maxAttempts,this.xo=new Rs(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){this.xo.Ao((async()=>{const e=new gu(this.datastore),t=this.Mc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Oc(e)}))))})).catch((e=>{this.Oc(e)}))}))}Mc(e){try{const t=this.updateFunction(e);return!$e(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((()=>(this.kc(),Promise.resolve())))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Un(t)}return!1}}class yu{constructor(e,t,n,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=f.UNAUTHENTICATED,this.clientId=V.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{_("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(_("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=fa(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bu(e,t){e.asyncQueue.verifyOperationInProgress(),_("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async e=>{s.isEqual(e)||(await ns(t.localStore,e),s=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function wu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _u(e);_("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener((e=>ua(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ua(t.remoteStore,n))),e.onlineComponents=t}async function _u(e){return e.offlineComponents||(_("FirestoreClient","Using default OfflineComponentProvider"),await bu(e,new cu)),e.offlineComponents}async function Eu(e){return e.onlineComponents||(_("FirestoreClient","Using default OnlineComponentProvider"),await wu(e,new du)),e.onlineComponents}function Su(e){return _u(e).then((e=>e.persistence))}function Tu(e){return _u(e).then((e=>e.localStore))}function Ou(e){return Eu(e).then((e=>e.remoteStore))}function Iu(e){return Eu(e).then((e=>e.syncEngine))}async function xu(e){const t=await Eu(e),n=t.eventManager;return n.onListen=Pa.bind(null,t.syncEngine),n.onUnlisten=La.bind(null,t.syncEngine),n}function Cu(e,t,n={}){const s=new D;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,s,i){const r=new pu({next:r=>{t.enqueueAndForget((()=>wa(e,o)));const u=r.docs.has(n);!u&&r.fromCache?i.reject(new k(C.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&r.fromCache&&s&&"server"===s.source?i.reject(new k(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(r)},error:e=>i.reject(e)}),o=new Ta(Bt(n.path),r,{includeMetadataChanges:!0,Nu:!0});return ba(e,o)}(await xu(e),e.asyncQueue,t,n,s))),s.promise}function ku(e,t,n={}){const s=new D;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,s,i){const r=new pu({next:n=>{t.enqueueAndForget((()=>wa(e,o))),n.fromCache&&"server"===s.source?i.reject(new k(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Ta(n,r,{includeMetadataChanges:!0,Nu:!0});return ba(e,o)}(await xu(e),e.asyncQueue,t,n,s))),s.promise}function Du(e,t,n,s){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new mu(e,t)}(function(e,t){if(e instanceof Uint8Array)return fu(e,t);if(e instanceof ArrayBuffer)return fu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ds(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const s=x(e);(async function(e,t,n){try{const s=await t.getMetadata();if(await function(e,t){const n=x(e),s=vr(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ns.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(s)>=0))}(e.localStore,s))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(s)),Promise.resolve(new Set);n._updateProgress(Ca(s));const i=new xa(s,e.localStore,t.It);let r=await t.wc();for(;r;){const e=await i.Ou(r);e&&n._updateProgress(e),r=await t.wc()}const o=await i.complete();return await Xa(e,o.Bu,void 0),await function(e,t){const n=x(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ns.saveBundleMetadata(e,t)))}(e.localStore,s),n._completeWith(o.progress),Promise.resolve(o.$u)}catch(e){return S("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(s,t,n).then((e=>{s.sharedClientState.notifyBundleLoaded(e)}))}(await Iu(e),i,s)}))}const Ru=new Map;function Au(e,t,n){if(!n)throw new k(C.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Nu(e,t,n,s){if(!0===t&&!0===s)throw new k(C.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ju(e){if(!dt.isDocumentKey(e))throw new k(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pu(e){if(dt.isDocumentKey(e))throw new k(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Mu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":O()}function Lu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new k(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mu(e);throw new k(C.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Uu(e,t){if(t<=0)throw new k(C.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Fu{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new k(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new k(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Nu("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vu{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new A;switch(e.type){case"gapi":const t=e.client;return new M(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new k(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ru.get(e);t&&(_("ComponentProvider","Removing Datastore"),Ru.delete(e),t.terminate())}(this),Promise.resolve()}}function Bu(e,t,n,s={}){var i;const r=(e=Lu(e,Vu))._getSettings();if("firestore.googleapis.com"!==r.host&&r.host!==t&&S("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:`${t}:${n}`,ssl:!1})),s.mockUserToken){let t,n;if("string"==typeof s.mockUserToken)t=s.mockUserToken,n=f.MOCK_USER;else{t=Object(l.g)(s.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const r=s.mockUserToken.sub||s.mockUserToken.user_id;if(!r)throw new k(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new f(r)}e._authCredentials=new N(new R(t,n))}}class $u{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $u(this.firestore,e,this._key)}}class Hu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hu(this.firestore,e,this._query)}}class qu extends Hu{constructor(e,t,n){super(e,t,Bt(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $u(this.firestore,null,new dt(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function zu(e,t,...n){if(e=Object(l.l)(e),Au("collection","path",t),e instanceof Vu){const s=G.fromString(t,...n);return Pu(s),new qu(e,null,s)}{if(!(e instanceof $u||e instanceof qu))throw new k(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(G.fromString(t,...n));return Pu(s),new qu(e.firestore,null,s)}}function Wu(e,t){if(e=Lu(e,Vu),Au("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new k(C.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hu(e,null,function(e){return new Ft(G.emptyPath(),e)}(t))}function Gu(e,t,...n){if(e=Object(l.l)(e),1===arguments.length&&(t=V.R()),Au("doc","path",t),e instanceof Vu){const s=G.fromString(t,...n);return ju(s),new $u(e,null,new dt(s))}{if(!(e instanceof $u||e instanceof qu))throw new k(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(G.fromString(t,...n));return ju(s),new $u(e.firestore,e instanceof qu?e.converter:null,new dt(s))}}function Yu(e,t){return e=Object(l.l)(e),t=Object(l.l)(t),(e instanceof $u||e instanceof qu)&&(t instanceof $u||t instanceof qu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ku(e,t){return e=Object(l.l)(e),t=Object(l.l)(t),e instanceof Hu&&t instanceof Hu&&e.firestore===t.firestore&&Kt(e._query,t._query)&&e.converter===t.converter}class Xu{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Rs(this,"async_queue_retry"),this.jc=()=>{const e=ks();e&&_("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const e=ks();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=ks();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise((()=>{}));const t=new D;return this.zc((()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Bc.push(e),this.Hc())))}async Hc(){if(0!==this.Bc.length){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!fe(e))throw e;_("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao((()=>this.Hc()))}}zc(e){const t=this.$c.then((()=>(this.Kc=!0,e().catch((e=>{this.qc=e,this.Kc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw E("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Kc=!1,e))))));return this.$c=t,t}enqueueAfterDelay(e,t,n){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const s=da.createAndSchedule(this,e,t,n,(e=>this.Jc(e)));return this.Uc.push(s),s}Wc(){this.qc&&O()}verifyOperationInProgress(){}async Yc(){let e;do{e=this.$c,await e}while(e!==this.$c)}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then((()=>{this.Uc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()}))}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Zu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Qu{constructor(){this._progressObserver={},this._taskCompletionResolver=new D,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ju=-1;class ec extends Vu{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new Xu,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nc(this),this._firestoreClient.terminate()}}function tc(e){return e._firestoreClient||nc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nc(e){var t;const n=e._freezeSettings(),s=function(e,t,n,s){return new Ve(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new yu(e._authCredentials,e._appCheckCredentials,e._queue,s)}function rc(e,t){th(e=Lu(e,ec));const n=tc(e),s=e._freezeSettings(),i=new du;return oc(n,i,new lu(i,s.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ic(e){th(e=Lu(e,ec));const t=tc(e),n=e._freezeSettings(),s=new du;return oc(t,s,new hu(s,n.cacheSizeBytes))}function oc(e,t,n){const s=new D;return e.asyncQueue.enqueue((async()=>{try{await bu(e,n),await wu(e,t),s.resolve()}catch(e){const t=e;if(!function(e){return"FirebaseError"===e.name?e.code===C.FAILED_PRECONDITION||e.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(t))throw t;S("Error enabling offline persistence. Falling back to persistence disabled: "+t),s.reject(t)}})).then((()=>s.promise))}function sc(e){if(e._initialized&&!e._terminated)throw new k(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new D;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!le.C())return Promise.resolve();const t=e+"main";await le.delete(t)}(Zo(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function ac(e){return function(e){const t=new D;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=x(e);Ws(n.remoteStore)||_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=x(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const s=n.hc.get(e)||[];s.push(t),n.hc.set(e,s)}catch(e){const n=fa(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Iu(e),t))),t.promise}(tc(e=Lu(e,ec)))}function uc(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Su(e),n=await Ou(e);return t.setNetworkEnabled(!0),function(e){const t=x(e);return t._u.delete(0),Us(t)}(n)}))}(tc(e=Lu(e,ec)))}function cc(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Su(e),n=await Ou(e);return t.setNetworkEnabled(!1),async function(e){const t=x(e);t._u.add(0),await Fs(t),t.gu.set("Offline")}(n)}))}(tc(e=Lu(e,ec)))}function lc(e,t){const n=tc(e=Lu(e,ec)),s=new Qu;return Du(n,e._databaseId,t,s),s}function hc(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=x(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ns.getNamedQuery(e,t)))}(await Tu(e),t)))}(tc(e=Lu(e,ec)),t).then((t=>t?new Hu(e,null,t.query):null))}function th(e){if(e._initialized||e._terminated)throw new k(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new k(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new K(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Ae.fromBase64String(e))}catch(e){throw new k(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fc(Ae.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pc{constructor(e){this._methodName=e}}class mc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new k(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new k(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return B(this._lat,e._lat)||B(this._long,e._long)}}const gc=/^__.*__$/;class vc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new kn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cn(e,this.data,t,this.fieldTransforms)}}class yc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new kn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class wc{constructor(e,t,n,s,i,r){this.settings=e,this.databaseId=t,this.It=n,this.ignoreUndefinedProperties=s,void 0===i&&this.ea(),this.fieldTransforms=i||[],this.fieldMask=r||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.sa({path:n,ra:!1});return s.oa(e),s}ua(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.sa({path:n,ra:!1});return s.ea(),s}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Vc(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(bc(this.na)&&gc.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class _c{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=n||Ds(e)}fa(e,t,n,s=!1){return new wc({na:e,methodName:t,la:n,path:K.emptyPath(),ra:!1,ha:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ec(e){const t=e._freezeSettings(),n=Ds(e._databaseId);return new _c(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sc(e,t,n,s,i,r={}){const o=e.fa(r.merge||r.mergeFields?2:0,t,n,i);Mc("Data must be an object, but it was:",o,s);const u=jc(s,o);let c,a;if(r.merge)c=new De(o.fieldMask),a=o.fieldTransforms;else if(r.mergeFields){const e=[];for(const s of r.mergeFields){const i=Lc(t,s,n);if(!o.contains(i))throw new k(C.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Bc(e,i)||e.push(i)}c=new De(e),a=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,a=o.fieldTransforms;return new vc(new pt(u),c,a)}class Tc extends pc{_toFieldTransform(e){if(2!==e.na)throw 1===e.na?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}function Oc(e,t,n){return new wc({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}class Ic extends pc{_toFieldTransform(e){return new yn(e.path,new ln)}isEqual(e){return e instanceof Ic}}class xc extends pc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Oc(this,e,!0),n=this.da.map((e=>Nc(e,t))),s=new hn(n);return new yn(e.path,s)}isEqual(e){return this===e}}class Cc extends pc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Oc(this,e,!0),n=this.da.map((e=>Nc(e,t))),s=new fn(n);return new yn(e.path,s)}isEqual(e){return this===e}}class kc extends pc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new mn(e.It,on(e.It,this._a));return new yn(e.path,t)}isEqual(e){return this===e}}function Dc(e,t,n,s){const i=e.fa(1,t,n);Mc("Data must be an object, but it was:",i,s);const r=[],o=pt.empty();Ee(s,((e,s)=>{const u=Fc(t,e,n);s=Object(l.l)(s);const c=i.ua(u);if(s instanceof Tc)r.push(u);else{const e=Nc(s,c);null!=e&&(r.push(u),o.set(u,e))}}));const u=new De(r);return new yc(o,u,i.fieldTransforms)}function Rc(e,t,n,s,i,r){const o=e.fa(1,t,n),u=[Lc(t,s,n)],c=[i];if(r.length%2!=0)throw new k(C.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<r.length;e+=2)u.push(Lc(t,r[e])),c.push(r[e+1]);const a=[],h=pt.empty();for(let e=u.length-1;e>=0;--e)if(!Bc(a,u[e])){const t=u[e];let n=c[e];n=Object(l.l)(n);const s=o.ua(t);if(n instanceof Tc)a.push(t);else{const e=Nc(n,s);null!=e&&(a.push(t),h.set(t,e))}}const d=new De(a);return new yc(h,d,o.fieldTransforms)}function Ac(e,t,n,s=!1){return Nc(n,e.fa(s?4:3,t))}function Nc(e,t){if(Pc(e=Object(l.l)(e)))return Mc("Unsupported field value:",t,e),jc(e,t);if(e instanceof pc)return function(e,t){if(!bc(t.na))throw t.aa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.aa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){const n=[];let s=0;for(const i of e){let e=Nc(i,t.ca(s));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),s++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(l.l)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return on(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=H.fromDate(e);return{timestampValue:pr(t.It,n)}}if(e instanceof H){const n=new H(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pr(t.It,n)}}if(e instanceof mc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fc)return{bytesValue:mr(t.It,e._byteString)};if(e instanceof $u){const n=t.databaseId,s=e.firestore._databaseId;if(!s.isEqual(n))throw t.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:yr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa(`Unsupported field value: ${Mu(e)}`)}(e,t)}function jc(e,t){const n={};return Se(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ee(e,((e,s)=>{const i=Nc(s,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof H||e instanceof mc||e instanceof fc||e instanceof $u||e instanceof pc)}function Mc(e,t,n){if(!Pc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const s=Mu(n);throw"an object"===s?t.aa(e+" a custom object"):t.aa(e+" "+s)}}function Lc(e,t,n){if((t=Object(l.l)(t))instanceof dc)return t._internalPath;if("string"==typeof t)return Fc(e,t);throw Vc("Field path arguments must be of type string or ",e,!1,void 0,n)}const Uc=new RegExp("[~\\*/\\[\\]]");function Fc(e,t,n){if(t.search(Uc)>=0)throw Vc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dc(...t.split("."))._internalPath}catch(r){throw Vc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vc(e,t,n,s,i){const r=s&&!s.isEmpty(),o=void 0!==i;let u=`Function ${t}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new k(C.INVALID_ARGUMENT,u+e+c)}function Bc(e,t){return e.some((e=>e.isEqual(t)))}class $c{constructor(e,t,n,s,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $u(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hc extends $c{data(){return super.data()}}function qc(e,t){return"string"==typeof t?Fc(e,t):t instanceof dc?t._internalPath:t._delegate._internalPath}class zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends $c{constructor(e,t,n,s,i,r){super(e,t,n,s,r),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(qc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gc extends Wc{data(e={}){return super.data(e)}}class Yc{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new zc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Gc(this._firestore,this._userDataWriter,n.key,n,new zc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new k(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Gc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new zc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const s=new Gc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,r=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),r=n.indexOf(t.doc.key)),{type:Kc(t.type),doc:s,oldIndex:i,newIndex:r}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}function Xc(e,t){return e instanceof Wc&&t instanceof Wc?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Yc&&t instanceof Yc&&e._firestore===t._firestore&&Ku(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new k(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qc{}function Jc(e,...t){for(const n of t)e=n._apply(e);return e}class el extends Qc{constructor(e,t,n){super(),this.wa=e,this.ma=t,this.ga=n,this.type="where"}_apply(e){const t=Ec(e.firestore),n=function(e,t,n,s,i,r,o){let u;if(i.isKeyField()){if("array-contains"===r||"array-contains-any"===r)throw new k(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${r}' queries on documentId().`);if("in"===r||"not-in"===r){yl(o,r);const t=[];for(const n of o)t.push(vl(s,e,n));u={arrayValue:{values:t}}}else u=vl(s,e,o)}else"in"!==r&&"not-in"!==r&&"array-contains-any"!==r||yl(o,r),u=Ac(n,"where",o,"in"===r||"not-in"===r);const c=Ot.create(i,r,u);return function(e,t){if(t.dt()){const n=qt(e);if(null!==n&&!n.isEqual(t.field))throw new k(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const s=Ht(e);null!==s&&ol(e,t.field,s)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new k(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new k(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Hu(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Ft(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function tl(e,t,n){const s=t,i=qc("where",e);return new el(i,s,n)}class nl extends Qc{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new k(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new k(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Pt(t,n);return function(e,t){if(null===Ht(e)){const n=qt(e);null!==n&&ol(e,n,t.field)}}(e,s),s}(e._query,this.wa,this.ya);return new Hu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ft(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function rl(e,t="asc"){const n=t,s=qc("orderBy",e);return new nl(s,n)}class il extends Qc{constructor(e,t,n){super(),this.type=e,this.pa=t,this.Ia=n}_apply(e){return new Hu(e.firestore,e.converter,Yt(e._query,this.pa,this.Ia))}}function sl(e){return Uu("limit",e),new il("limit",e,"F")}function al(e){return Uu("limitToLast",e),new il("limitToLast",e,"L")}class cl extends Qc{constructor(e,t,n){super(),this.type=e,this.Ta=t,this.Ea=n}_apply(e){const t=gl(e,this.type,this.Ta,this.Ea);return new Hu(e.firestore,e.converter,function(e,t){return new Ft(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function ll(...e){return new cl("startAt",e,!0)}function hl(...e){return new cl("startAfter",e,!1)}class fl extends Qc{constructor(e,t,n){super(),this.type=e,this.Ta=t,this.Ea=n}_apply(e){const t=gl(e,this.type,this.Ta,this.Ea);return new Hu(e.firestore,e.converter,function(e,t){return new Ft(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function pl(...e){return new fl("endBefore",e,!1)}function ml(...e){return new fl("endAt",e,!0)}function gl(e,t,n,s){if(n[0]=Object(l.l)(n[0]),n[0]instanceof $c)return function(e,t,n,s,i){if(!s)throw new k(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const r=[];for(const n of Wt(e))if(n.field.isKeyField())r.push(et(t,s.key));else{const e=s.data.field(n.field);if(Le(e))throw new k(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new k(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}r.push(e)}return new jt(r,i)}(e._query,e.firestore._databaseId,t,n[0]._document,s);{const i=Ec(e.firestore);return function(e,t,n,s,i,r){const o=e.explicitOrderBy;if(i.length>o.length)throw new k(C.INVALID_ARGUMENT,`Too many arguments provided to ${s}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const u=[];for(let r=0;r<i.length;r++){const c=i[r];if(o[r].field.isKeyField()){if("string"!=typeof c)throw new k(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${s}(), but got a ${typeof c}`);if(!zt(e)&&-1!==c.indexOf("/"))throw new k(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${s}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(G.fromString(c));if(!dt.isDocumentKey(n))throw new k(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${s}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new dt(n);u.push(et(t,i))}else{const e=Ac(n,s,c);u.push(e)}}return new jt(u,r)}(e._query,e.firestore._databaseId,i,t,n,s)}}function vl(e,t,n){if("string"==typeof(n=Object(l.l)(n))){if(""===n)throw new k(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zt(t)&&-1!==n.indexOf("/"))throw new k(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(G.fromString(n));if(!dt.isDocumentKey(s))throw new k(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return et(e,new dt(s))}if(n instanceof $u)return et(e,n._key);throw new k(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mu(n)}.`)}function yl(e,t){if(!Array.isArray(e)||0===e.length)throw new k(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new k(C.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function ol(e,t,n){if(!n.isEqual(t))throw new k(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const ul={maxAttempts:5};class bl{convertValue(e,t="none"){switch(Ge(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Me(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw O()}}convertObject(e,t){const n={};return Ee(e.fields,((e,s)=>{n[e]=this.convertValue(s,t)})),n}convertGeoPoint(e){return new mc(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ue(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fe(e));default:return null}}convertTimestamp(e){const t=je(e);return new H(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=G.fromString(e);I($r(n));const s=new Be(n.get(1),n.get(3)),i=new dt(n.popFirst(5));return s.isEqual(t)||E(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function wl(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class _l extends bl{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $u(this.firestore,null,t)}}class El{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ec(e)}set(e,t,n){this._verifyNotCommitted();const s=Sl(e,this._firestore),i=wl(s.converter,t,n),r=Sc(this._dataReader,"WriteBatch.set",s._key,i,null!==s.converter,n);return this._mutations.push(r.toMutation(s._key,wn.none())),this}update(e,t,n,...s){this._verifyNotCommitted();const i=Sl(e,this._firestore);let r;return r="string"==typeof(t=Object(l.l)(t))||t instanceof dc?Rc(this._dataReader,"WriteBatch.update",i._key,t,n,s):Dc(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sl(e,this._firestore);return this._mutations=this._mutations.concat(new Nn(t._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sl(e,t){if((e=Object(l.l)(e)).firestore!==t)throw new k(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function dl(e){e=Lu(e,$u);const t=Lu(e.firestore,ec);return Cu(tc(t),e._key).then((n=>Ll(t,e,n)))}class Tl extends bl{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $u(this.firestore,null,t)}}function Ol(e){e=Lu(e,$u);const t=Lu(e.firestore,ec),n=tc(t),s=new Tl(t);return function(e,t){const n=new D;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const s=await function(e,t){const n=x(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);s.isFoundDocument()?n.resolve(s):s.isNoDocument()?n.resolve(null):n.reject(new k(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const s=fa(e,`Failed to get document '${t} from cache`);n.reject(s)}}(await Tu(e),t,n))),n.promise}(n,e._key).then((n=>new Wc(t,s,e._key,n,new zc(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Il(e){e=Lu(e,$u);const t=Lu(e.firestore,ec);return Cu(tc(t),e._key,{source:"server"}).then((n=>Ll(t,e,n)))}function xl(e){e=Lu(e,Hu);const t=Lu(e.firestore,ec),n=tc(t),s=new Tl(t);return Zc(e._query),ku(n,e._query).then((n=>new Yc(t,s,e,n)))}function Cl(e){e=Lu(e,Hu);const t=Lu(e.firestore,ec),n=tc(t),s=new Tl(t);return function(e,t){const n=new D;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const s=await us(e,t,!0),i=new Ra(t,s.Hi),r=i.ju(s.documents),o=i.applyChanges(r,!1);n.resolve(o.snapshot)}catch(e){const s=fa(e,`Failed to execute query '${t} against cache`);n.reject(s)}}(await Tu(e),t,n))),n.promise}(n,e._query).then((n=>new Yc(t,s,e,n)))}function kl(e){e=Lu(e,Hu);const t=Lu(e.firestore,ec),n=tc(t),s=new Tl(t);return ku(n,e._query,{source:"server"}).then((n=>new Yc(t,s,e,n)))}function Dl(e,t,n){e=Lu(e,$u);const s=Lu(e.firestore,ec),i=wl(e.converter,t,n);return Ml(s,[Sc(Ec(s),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wn.none())])}function Rl(e,t,n,...s){e=Lu(e,$u);const i=Lu(e.firestore,ec),r=Ec(i);let o;return o="string"==typeof(t=Object(l.l)(t))||t instanceof dc?Rc(r,"updateDoc",e._key,t,n,s):Dc(r,"updateDoc",e._key,t),Ml(i,[o.toMutation(e._key,wn.exists(!0))])}function Al(e){return Ml(Lu(e.firestore,ec),[new Nn(e._key,wn.none())])}function Nl(e,t){const n=Lu(e.firestore,ec),s=Gu(e),i=wl(e.converter,t);return Ml(n,[Sc(Ec(e.firestore),"addDoc",s._key,i,null!==e.converter,{}).toMutation(s._key,wn.exists(!1))]).then((()=>s))}function jl(e,...t){var n,s,i;e=Object(l.l)(e);let r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Zu(t[o])||(r=t[o],o++);const u={includeMetadataChanges:r.includeMetadataChanges};if(Zu(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,a,h;if(e instanceof $u)a=Lu(e.firestore,ec),h=Bt(e._key.path),c={next:n=>{t[o]&&t[o](Ll(a,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Lu(e,Hu);a=Lu(n.firestore,ec),h=n._query;const s=new Tl(a);c={next:e=>{t[o]&&t[o](new Yc(a,s,n,e))},error:t[o+1],complete:t[o+2]},Zc(e._query)}return function(e,t,n,s){const i=new pu(s),r=new Ta(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ba(await xu(e),r))),()=>{i.Rc(),e.asyncQueue.enqueueAndForget((async()=>wa(await xu(e),r)))}}(tc(a),h,u,c)}function Pl(e,t){return function(e,t){const n=new pu(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){x(e).Ru.add(t),t.next()}(await xu(e),n))),()=>{n.Rc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){x(e).Ru.delete(t)}(await xu(e),n)))}}(tc(e=Lu(e,ec)),Zu(t)?t:{next:t})}function Ml(e,t){return function(e,t){const n=new D;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const s=uu(e);try{const e=await function(e,t){const n=x(e),s=H.now(),i=t.reduce(((e,t)=>e.add(t.key)),Zn());let r,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let u=$n(),c=Zn();return n.Gi.getEntries(e,i).next((e=>{u=e,u.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,u))).next((i=>{r=i;const o=[];for(const e of t){const t=In(e,r.get(e.key).overlayedDocument);null!=t&&o.push(new kn(e.key,t,mt(t.value.mapValue),wn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,s,o,t)})).next((t=>{o=t;const s=t.applyToLocalDocumentSet(r,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,s)}))})).then((()=>({batchId:o.batchId,changes:zn(r)})))}(s.localStore,t);s.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let s=e.ac[e.currentUser.toKey()];s||(s=new Te(B)),s=s.insert(t,n),e.ac[e.currentUser.toKey()]=s}(s,e.batchId,n),await Xa(s,e.changes),await Js(s.remoteStore)}catch(e){const t=fa(e,"Failed to persist write");n.reject(t)}}(await Iu(e),t,n))),n.promise}(tc(e),t)}function Ll(e,t,n){const s=n.docs.get(t._key),i=new Tl(e);return new Wc(e,i,t._key,s,new zc(n.hasPendingWrites,n.fromCache),t.converter)}class Ul extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ec(e)}get(e){const t=Sl(e,this._firestore),n=new _l(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return O();const s=e[0];if(s.isFoundDocument())return new $c(this._firestore,n,s.key,s,t.converter);if(s.isNoDocument())return new $c(this._firestore,n,t._key,null,t.converter);throw O()}))}set(e,t,n){const s=Sl(e,this._firestore),i=wl(s.converter,t,n),r=Sc(this._dataReader,"Transaction.set",s._key,i,null!==s.converter,n);return this._transaction.set(s._key,r),this}update(e,t,n,...s){const i=Sl(e,this._firestore);let r;return r="string"==typeof(t=Object(l.l)(t))||t instanceof dc?Rc(this._dataReader,"Transaction.update",i._key,t,n,s):Dc(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}delete(e){const t=Sl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sl(e,this._firestore),n=new Tl(this._firestore);return super.get(e).then((e=>new Wc(this._firestore,n,t._key,e._document,new zc(!1,!1),t.converter)))}}function Fl(e,t,n){e=Lu(e,ec);const s=Object.assign(Object.assign({},ul),n);return function(e){if(e.maxAttempts<1)throw new k(C.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(e,t,n){const s=new D;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return Eu(e).then((e=>e.datastore))}(e);new vu(e.asyncQueue,i,n,t,s).run()})),s.promise}(tc(e),(n=>t(new Ul(e,n))),s)}function Vl(){return new Tc("deleteField")}function Bl(){return new Ic("serverTimestamp")}function $l(...e){return new xc("arrayUnion",e)}function Hl(...e){return new Cc("arrayRemove",e)}function ql(e){return new kc("increment",e)}!function(e,t=!0){!function(e){m=e}(r.SDK_VERSION),Object(r._registerComponent)(new o.a("firestore",((e,{instanceIdentifier:n,options:s})=>{const i=e.getProvider("app").getImmediate(),r=new ec(new j(e.getProvider("auth-internal")),new U(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new k(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Be(e.options.projectId,t)}(i,n),i);return s=Object.assign({useFetchStreams:t},s),r._setSettings(s),r}),"PUBLIC").setMultipleInstances(!0)),Object(r.registerVersion)(d,"3.4.15",e),Object(r.registerVersion)(d,"3.4.15","esm2017")}()}).call(this,n(104))},,function(e,t,n){"use strict";n.r(t),n.d(t,"FirebaseError",(function(){return c.c})),n.d(t,"SDK_VERSION",(function(){return G})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return N})),n.d(t,"_addComponent",(function(){return L})),n.d(t,"_addOrOverwriteComponent",(function(){return U})),n.d(t,"_apps",(function(){return P})),n.d(t,"_clearComponents",(function(){return $})),n.d(t,"_components",(function(){return M})),n.d(t,"_getProvider",(function(){return V})),n.d(t,"_registerComponent",(function(){return F})),n.d(t,"_removeServiceInstance",(function(){return B})),n.d(t,"deleteApp",(function(){return Z})),n.d(t,"getApp",(function(){return K})),n.d(t,"getApps",(function(){return X})),n.d(t,"initializeApp",(function(){return Y})),n.d(t,"onLog",(function(){return J})),n.d(t,"registerVersion",(function(){return Q})),n.d(t,"setLogLevel",(function(){return ee}));var r=n(13),o=n(16),c=n(2);let l,h;const d=new WeakMap,f=new WeakMap,m=new WeakMap,v=new WeakMap,y=new WeakMap;let w={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return f.get(e);if("objectStoreNames"===t)return e.objectStoreNames||m.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(T(this),t),S(d.get(this))}:function(...t){return S(e.apply(T(this),t))}:function(t,...n){const r=e.call(T(this),t,...n);return m.set(r,t.sort?t.sort():[t]),S(r)}}function E(e){return"function"==typeof e?_(e):(e instanceof IDBTransaction&&function(e){if(f.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)}));f.set(e,t)}(e),object=e,(l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>object instanceof e))?new Proxy(e,w):e);var object}function S(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{t(S(e.result)),r()},c=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",c)}));return t.then((t=>{t instanceof IDBCursor&&d.set(t,e)})).catch((()=>{})),y.set(t,e),t}(e);if(v.has(e))return v.get(e);const t=E(e);return t!==e&&(v.set(e,t),y.set(t,e)),t}const T=e=>y.get(e);const O=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],x=new Map;function C(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!O.includes(n))return;const c=async function(e,...t){const c=this.transaction(e,o?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(t.shift())),(await Promise.all([l[n](...t),o&&c.done]))[0]};return x.set(t,c),c}w=(e=>({...e,get:(t,n,r)=>C(t,n)||e.get(t,n,r),has:(t,n)=>!!C(t,n)||e.has(t,n)}))(w);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const component=e.getComponent();return"VERSION"===(null==component?void 0:component.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const D="@firebase/app",R="0.7.32",A=new o.b("@firebase/app"),N="[DEFAULT]",j={[D]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},P=new Map,M=new Map;function L(e,component){try{e.container.addComponent(component)}catch(t){A.debug(`Component ${component.name} failed to register with FirebaseApp ${e.name}`,t)}}function U(e,component){e.container.addOrOverwriteComponent(component)}function F(component){const e=component.name;if(M.has(e))return A.debug(`There were multiple attempts to register component ${e}.`),!1;M.set(e,component);for(const e of P.values())L(e,component);return!0}function V(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function B(e,t,n=N){V(e,t).clearInstance(n)}function $(){M.clear()}const H={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},z=new c.b("app","Firebase",H);class W{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.a("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw z.create("app-deleted",{appName:this._name})}}const G="9.9.4";function Y(e,t={}){if("object"!=typeof t){t={name:t}}const n=Object.assign({name:N,automaticDataCollectionEnabled:!1},t),o=n.name;if("string"!=typeof o||!o)throw z.create("bad-app-name",{appName:String(o)});const l=P.get(o);if(l){if(Object(c.i)(e,l.options)&&Object(c.i)(n,l.config))return l;throw z.create("duplicate-app",{appName:o})}const h=new r.b(o);for(const component of M.values())h.addComponent(component);const d=new W(e,n,h);return P.set(o,d),d}function K(e=N){const t=P.get(e);if(!t)throw z.create("no-app",{appName:e});return t}function X(){return Array.from(P.values())}async function Z(e){const t=e.name;P.has(t)&&(P.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Q(e,t,n){var o;let c=null!==(o=j[e])&&void 0!==o?o:e;n&&(c+=`-${n}`);const l=c.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const e=[`Unable to register library "${c}" with version "${t}":`];return l&&e.push(`library name "${c}" contains illegal characters (whitespace or "/")`),l&&h&&e.push("and"),h&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void A.warn(e.join(" "))}F(new r.a(`${c}-version`,(()=>({library:c,version:t})),"VERSION"))}function J(e,t){if(null!==e&&"function"!=typeof e)throw z.create("invalid-log-argument");Object(o.d)(e,t)}function ee(e){Object(o.c)(e)}const te="firebase-heartbeat-store";let ne=null;function re(){return ne||(ne=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const l=indexedDB.open(e,t),h=S(l);return r&&l.addEventListener("upgradeneeded",(e=>{r(S(l.result),e.oldVersion,e.newVersion,S(l.transaction))})),n&&l.addEventListener("blocked",(()=>n())),h.then((e=>{c&&e.addEventListener("close",(()=>c())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),h}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(te)}}).catch((e=>{throw z.create("idb-open",{originalErrorMessage:e.message})}))),ne}async function ie(e,t){var n;try{const n=(await re()).transaction(te,"readwrite"),r=n.objectStore(te);return await r.put(t,oe(e)),n.done}catch(e){if(e instanceof c.c)A.warn(e.message);else{const t=z.create("idb-set",{originalErrorMessage:null===(n=e)||void 0===n?void 0:n.message});A.warn(t.message)}}}function oe(e){return`${e.name}!${e.options.appId}`}class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ue(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ae();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ae(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),ce(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ce(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Object(c.e)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ae(){return(new Date).toISOString().substring(0,10)}class ue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(c.s)()&&Object(c.A)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){var t;try{return(await re()).transaction(te).objectStore(te).get(oe(e))}catch(e){if(e instanceof c.c)A.warn(e.message);else{const n=z.create("idb-get",{originalErrorMessage:null===(t=e)||void 0===t?void 0:t.message});A.warn(n.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ie(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ie(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ce(e){return Object(c.e)(JSON.stringify({version:2,heartbeats:e})).length}var le;le="",F(new r.a("platform-logger",(e=>new k(e)),"PRIVATE")),F(new r.a("heartbeat",(e=>new se(e)),"PRIVATE")),Q(D,R,le),Q(D,R,"esm2017"),Q("fire-js","")},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h}));var r=n(2);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const c="[DEFAULT]";class l{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(component){if(component.name!==this.name)throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=component,this.shouldAutoInitialize()){if(function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:c})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===c?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:c:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h{constructor(e){this.name=e,this.providers=new Map}addComponent(component){const e=this.getProvider(component.name);if(e.isComponentSet())throw new Error(`Component ${component.name} has already been registered with ${this.name}`);e.setComponent(component)}addOrOverwriteComponent(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v}));const r=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const c={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,h={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},d=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=h[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class f{constructor(e){this.name=e,this._logLevel=l,this._logHandler=d,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?c[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}function m(e){r.forEach((t=>{t.setLogLevel(e)}))}function v(e,t){for(const n of r){let r=null;t&&t.level&&(r=c[t.level]),n.userLogHandler=null===e?null:(t,n,...c)=>{const l=c.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:l,args:c,type:t.name})}}}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return mr})),n.d(t,"b",(function(){return vr})),n.d(t,"c",(function(){return gr})),n.d(t,"d",(function(){return wr})),n.d(t,"e",(function(){return yr})),n.d(t,"f",(function(){return _r})),n.d(t,"g",(function(){return Er})),n.d(t,"h",(function(){return fr})),n.d(t,"i",(function(){return pr}));var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},c={},l=l||{},h=o||self;function d(){}function f(a){var b=typeof a;return"array"==(b="object"!=b?b:a?Array.isArray(a)?"array":b:"null")||"object"==b&&"number"==typeof a.length}function p(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(a,b,e){return a.call.apply(a.bind,arguments)}function w(a,b,e){if(!a)throw Error();if(2<arguments.length){var t=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,t),a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function q(a,b,e){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:w).apply(null,arguments)}function _(a,b){var e=Array.prototype.slice.call(arguments,1);return function(){var t=e.slice();return t.push.apply(t,arguments),a.apply(this,t)}}function E(a,b){function e(){}e.prototype=b.prototype,a.Z=b.prototype,a.prototype=new e,a.prototype.constructor=a,a.Vb=function(e,t,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return b.prototype[t].apply(e,r)}}function S(){this.s=this.s,this.o=this.o}var T={};S.prototype.s=!1,S.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,m)&&a[m]||(a[m]=++v)}(this);delete T[a]}},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(let e=0;e<a.length;e++)if(e in a&&a[e]===b)return e;return-1},I=Array.prototype.forEach?function(a,b,e){Array.prototype.forEach.call(a,b,e)}:function(a,b,e){const t=a.length,n="string"==typeof a?a.split(""):a;for(let r=0;r<t;r++)r in n&&b.call(e,n[r],r,a)};function x(a){return Array.prototype.concat.apply([],arguments)}function C(a){const b=a.length;if(0<b){const e=Array(b);for(let t=0;t<b;t++)e[t]=a[t];return e}return[]}function k(a){return/^[\s\xa0]*$/.test(a)}var D,R=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function A(a,b){return-1!=a.indexOf(b)}function N(a,b){return a<b?-1:a>b?1:0}e:{var j=h.navigator;if(j){var P=j.userAgent;if(P){D=P;break e}}D=""}function M(a,b,e){for(const t in a)b.call(e,a[t],t,a)}function L(a){const b={};for(const e in a)b[e]=a[e];return b}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(a,b){let e,t;for(let n=1;n<arguments.length;n++){for(e in t=arguments[n],t)a[e]=t[e];for(let n=0;n<U.length;n++)e=U[n],Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}}function V(a){return V[" "](a),a}V[" "]=d;var B,a,$=A(D,"Opera"),H=A(D,"Trident")||A(D,"MSIE"),z=A(D,"Edge"),W=z||H,G=A(D,"Gecko")&&!(A(D.toLowerCase(),"webkit")&&!A(D,"Edge"))&&!(A(D,"Trident")||A(D,"MSIE"))&&!A(D,"Edge"),Y=A(D.toLowerCase(),"webkit")&&!A(D,"Edge");function K(){var a=h.document;return a?a.documentMode:void 0}e:{var X="",Z=(a=D,G?/rv:([^\);]+)(\)|;)/.exec(a):z?/Edge\/([\d\.]+)/.exec(a):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Y?/WebKit\/(\S+)/.exec(a):$?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Z&&(X=Z?Z[1]:""),H){var Q=K();if(null!=Q&&Q>parseFloat(X)){B=String(Q);break e}}B=X}var J,ee={};function te(){return function(a){var b=ee;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)}((function(){let a=0;const b=R(String(B)).split("."),e=R("9").split("."),t=Math.max(b.length,e.length);for(let o=0;0==a&&o<t;o++){var n=b[o]||"",r=e[o]||"";do{if(n=/(\d*)(\D*)(.*)/.exec(n)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],0==n[0].length&&0==r[0].length)break;a=N(0==n[1].length?0:parseInt(n[1],10),0==r[1].length?0:parseInt(r[1],10))||N(0==n[2].length,0==r[2].length)||N(n[2],r[2]),n=n[3],r=r[3]}while(0==a)}return 0<=a}))}if(h.document&&H){var ne=K();J=ne||(parseInt(B,10)||void 0)}else J=void 0;var re=J,ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{h.addEventListener("test",d,b),h.removeEventListener("test",d,b)}catch(e){}return a}();function oe(a,b){this.type=a,this.g=this.target=b,this.defaultPrevented=!1}function se(a,b){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var e=this.type=a.type,t=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=b,b=a.relatedTarget){if(G){e:{try{V(b.nodeName);var n=!0;break e}catch(e){}n=!1}n||(b=null)}}else"mouseover"==e?b=a.fromElement:"mouseout"==e&&(b=a.toElement);this.relatedTarget=b,t?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:ae[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&se.Z.h.call(this)}}oe.prototype.h=function(){this.defaultPrevented=!0},E(se,oe);var ae={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function le(a,b,e,t,n){this.listener=a,this.proxy=null,this.src=b,this.type=e,this.capture=!!t,this.ia=n,this.key=++ce,this.ca=this.fa=!1}function he(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function de(a){this.src=a,this.g={},this.h=0}function fe(a,b){var e=b.type;if(e in a.g){var t,n=a.g[e],r=O(n,b);(t=0<=r)&&Array.prototype.splice.call(n,r,1),t&&(he(b),0==a.g[e].length&&(delete a.g[e],a.h--))}}function pe(a,b,e,t){for(var n=0;n<a.length;++n){var r=a[n];if(!r.ca&&r.listener==b&&r.capture==!!e&&r.ia==t)return n}return-1}de.prototype.add=function(a,b,e,t,n){var r=a.toString();(a=this.g[r])||(a=this.g[r]=[],this.h++);var o=pe(a,b,t,n);return-1<o?(b=a[o],e||(b.fa=!1)):((b=new le(b,this.src,r,!!t,n)).fa=e,a.push(b)),b};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(a,b,e,t,n){if(t&&t.once)return be(a,b,e,t,n);if(Array.isArray(b)){for(var r=0;r<b.length;r++)ve(a,b[r],e,t,n);return null}return e=Ie(e),a&&a[ue]?a.N(b,e,p(t)?!!t.capture:!!t,n):ye(a,b,e,!1,t,n)}function ye(a,b,e,t,n,r){if(!b)throw Error("Invalid event type");var o=p(n)?!!n.capture:!!n,c=Te(a);if(c||(a[me]=c=new de(a)),(e=c.add(b,e,t,o,r)).proxy)return e;if(t=function(){function a(e){return b.call(a.src,a.listener,e)}var b=Se;return a}(),e.proxy=t,t.src=a,t.listener=e,a.addEventListener)ie||(n=o),void 0===n&&(n=!1),a.addEventListener(b.toString(),t,n);else if(a.attachEvent)a.attachEvent(Ee(b.toString()),t);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(t)}return e}function be(a,b,e,t,n){if(Array.isArray(b)){for(var r=0;r<b.length;r++)be(a,b[r],e,t,n);return null}return e=Ie(e),a&&a[ue]?a.O(b,e,p(t)?!!t.capture:!!t,n):ye(a,b,e,!0,t,n)}function we(a,b,e,t,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)we(a,b[r],e,t,n);else t=p(t)?!!t.capture:!!t,e=Ie(e),a&&a[ue]?(a=a.i,(b=String(b).toString())in a.g&&(-1<(e=pe(r=a.g[b],e,t,n))&&(he(r[e]),Array.prototype.splice.call(r,e,1),0==r.length&&(delete a.g[b],a.h--)))):a&&(a=Te(a))&&(b=a.g[b.toString()],a=-1,b&&(a=pe(b,e,t,n)),(e=-1<a?b[a]:null)&&_e(e))}function _e(a){if("number"!=typeof a&&a&&!a.ca){var b=a.src;if(b&&b[ue])fe(b.i,a);else{var e=a.type,t=a.proxy;b.removeEventListener?b.removeEventListener(e,t,a.capture):b.detachEvent?b.detachEvent(Ee(e),t):b.addListener&&b.removeListener&&b.removeListener(t),(e=Te(b))?(fe(e,a),0==e.h&&(e.src=null,b[me]=null)):he(a)}}}function Ee(a){return a in ge?ge[a]:ge[a]="on"+a}function Se(a,b){if(a.ca)a=!0;else{b=new se(b,this);var e=a.listener,t=a.ia||a.src;a.fa&&_e(a),a=e.call(t,b)}return a}function Te(a){return(a=a[me])instanceof de?a:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(a){return"function"==typeof a?a:(a[Oe]||(a[Oe]=function(b){return a.handleEvent(b)}),a[Oe])}function xe(){S.call(this),this.i=new de(this),this.P=this,this.I=null}function Ce(a,b){var e,t=a.I;if(t)for(e=[];t;t=t.I)e.push(t);if(a=a.P,t=b.type||b,"string"==typeof b)b=new oe(b,a);else if(b instanceof oe)b.target=b.target||a;else{var n=b;F(b=new oe(t,a),n)}if(n=!0,e)for(var r=e.length-1;0<=r;r--){var o=b.g=e[r];n=ke(o,t,!0,b)&&n}if(n=ke(o=b.g=a,t,!0,b)&&n,n=ke(o,t,!1,b)&&n,e)for(r=0;r<e.length;r++)n=ke(o=b.g=e[r],t,!1,b)&&n}function ke(a,b,e,t){if(!(b=a.i.g[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var o=b[r];if(o&&!o.ca&&o.capture==e){var c=o.listener,u=o.ia||o.src;o.fa&&fe(a.i,o),n=!1!==c.call(u,t)&&n}}return n&&!t.defaultPrevented}E(xe,S),xe.prototype[ue]=!0,xe.prototype.removeEventListener=function(a,b,e,t){we(this,a,b,e,t)},xe.prototype.M=function(){if(xe.Z.M.call(this),this.i){var e,a=this.i;for(e in a.g){for(var t=a.g[e],n=0;n<t.length;n++)he(t[n]);delete a.g[e],a.h--}}this.I=null},xe.prototype.N=function(a,b,e,t){return this.i.add(String(a),b,!1,e,t)},xe.prototype.O=function(a,b,e,t){return this.i.add(String(a),b,!0,e,t)};var De=h.JSON.stringify;function Re(){var a=Ue;let b=null;return a.g&&(b=a.g,a.g=a.g.next,a.g||(a.h=null),b.next=null),b}var Ae,Ne=new class{constructor(a,b){this.i=a,this.j=b,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}((()=>new je),(a=>a.reset()));class je{constructor(){this.next=this.g=this.h=null}set(a,b){this.h=a,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}function Pe(a){h.setTimeout((()=>{throw a}),0)}function Me(a,b){Ae||function(){var a=h.Promise.resolve(void 0);Ae=function(){a.then(Fe)}}(),Le||(Ae(),Le=!0),Ue.add(a,b)}var Le=!1,Ue=new class{constructor(){this.h=this.g=null}add(a,b){const e=Ne.get();e.set(a,b),this.h?this.h.next=e:this.g=e,this.h=e}};function Fe(){for(var a;a=Re();){try{a.h.call(a.g)}catch(e){Pe(e)}var b=Ne;b.j(a),100>b.h&&(b.h++,a.next=b.g,b.g=a)}Le=!1}function Ve(a,b){xe.call(this),this.h=a||1,this.g=b||h,this.j=q(this.kb,this),this.l=Date.now()}function Be(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function $e(a,b,e){if("function"==typeof a)e&&(a=q(a,e));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=q(a.handleEvent,a)}return 2147483647<Number(b)?-1:h.setTimeout(a,b||0)}function He(a){a.g=$e((()=>{a.g=null,a.i&&(a.i=!1,He(a))}),a.j);const b=a.h;a.h=null,a.m.apply(null,b)}E(Ve,xe),(r=Ve.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ce(this,"tick"),this.da&&(Be(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ve.Z.M.call(this),Be(this),delete this.g};class qe extends S{constructor(a,b){super(),this.m=a,this.j=b,this.h=null,this.i=!1,this.g=null}l(a){this.h=arguments,this.g?this.i=!0:He(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(a){S.call(this),this.h=a,this.g={}}E(ze,S);var We=[];function Ge(a,b,e,t){Array.isArray(e)||(e&&(We[0]=e.toString()),e=We);for(var n=0;n<e.length;n++){var r=ve(b,e[n],t||a.handleEvent,!1,a.h||a);if(!r)break;a.g[r.key]=r}}function Ye(a){M(a.g,(function(b,e){this.g.hasOwnProperty(e)&&_e(b)}),a),a.g={}}function Ke(){this.g=!0}function Xe(a,b,e,t){a.info((function(){return"XMLHTTP TEXT ("+b+"): "+function(a,b){if(!a.g)return b;if(!b)return null;try{var e=JSON.parse(b);if(e)for(a=0;a<e.length;a++)if(Array.isArray(e[a])){var t=e[a];if(!(2>t.length)){var n=t[1];if(Array.isArray(n)&&!(1>n.length)){var r=n[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<n.length;o++)n[o]=""}}}return De(e)}catch(e){return b}}(a,e)+(t?" "+t:"")}))}ze.prototype.M=function(){ze.Z.M.call(this),Ye(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.Aa=function(){this.g=!1},Ke.prototype.info=function(){};var Ze={},Qe=null;function Je(){return Qe=Qe||new xe}function et(a){oe.call(this,Ze.Ma,a)}function tt(a){const b=Je();Ce(b,new et(b,a))}function nt(a,b){oe.call(this,Ze.STAT_EVENT,a),this.stat=b}function it(a){const b=Je();Ce(b,new nt(b,a))}function ot(a,b){oe.call(this,Ze.Na,a),this.size=b}function st(a,b){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){a()}),b)}Ze.Ma="serverreachability",E(et,oe),Ze.STAT_EVENT="statevent",E(nt,oe),Ze.Na="timingevent",E(ot,oe);var at={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ct(){}function lt(a){return a.h||(a.h=a.i())}function ht(){}ct.prototype.h=null;var ft,pt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mt(){oe.call(this,"d")}function gt(){oe.call(this,"c")}function vt(){}function yt(a,b,e,t){this.l=a,this.j=b,this.m=e,this.X=t||1,this.V=new ze(this),this.P=wt,a=W?125:void 0,this.W=new Ve(a),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}E(mt,oe),E(gt,oe),E(vt,ct),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ft=new vt;var wt=45e3,_t={},Et={};function St(a,b,e){a.K=1,a.v=Wt(Vt(b)),a.s=e,a.U=!0,Tt(a,null)}function Tt(a,b){a.F=Date.now(),Ct(a),a.A=Vt(a.v);var e=a.A,t=a.X;Array.isArray(t)||(t=[String(t)]),on(e.h,"t",t),a.C=0,e=a.l.H,a.h=new bt,a.g=or(a.l,e?b:null,!a.s),0<a.O&&(a.L=new qe(q(a.Ia,a,a.g),a.O)),Ge(a.V,a.g,"readystatechange",a.gb),b=a.H?L(a.H):{},a.s?(a.u||(a.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,b)):(a.u="GET",a.g.ea(a.A,a.u,null,b)),tt(1),function(a,b,e,t,n,r){a.info((function(){if(a.g)if(r)for(var o="",c=r.split("&"),u=0;u<c.length;u++){var l=c[u].split("=");if(1<l.length){var h=l[0];l=l[1];var d=h.split("_");o=2<=d.length&&"type"==d[1]?o+(h+"=")+l+"&":o+(h+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+t+") [attempt "+n+"]: "+b+"\n"+e+"\n"+o}))}(a.j,a.u,a.A,a.m,a.X,a.s)}function Ot(a){return!!a.g&&("GET"==a.u&&2!=a.K&&a.l.Ba)}function It(a,b,e){let t,n=!0;for(;!a.I&&a.C<e.length;){if(t=xt(a,e),t==Et){4==b&&(a.o=4,it(14),n=!1),Xe(a.j,a.m,null,"[Incomplete Response]");break}if(t==_t){a.o=4,it(15),Xe(a.j,a.m,e,"[Invalid Chunk]"),n=!1;break}Xe(a.j,a.m,t,null),Nt(a,t)}Ot(a)&&t!=Et&&t!=_t&&(a.h.g="",a.C=0),4!=b||0!=e.length||a.h.h||(a.o=1,it(16),n=!1),a.i=a.i&&n,n?0<e.length&&!a.aa&&(a.aa=!0,(b=a.l).g==a&&b.$&&!b.L&&(b.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Xn(b),b.L=!0,it(11))):(Xe(a.j,a.m,e,"[Invalid Chunked Response]"),At(a),Rt(a))}function xt(a,b){var e=a.C,t=b.indexOf("\n",e);return-1==t?Et:(e=Number(b.substring(e,t)),isNaN(e)?_t:(t+=1)+e>b.length?Et:(b=b.substr(t,e),a.C=t+e,b))}function Ct(a){a.Y=Date.now()+a.P,kt(a,a.P)}function kt(a,b){if(null!=a.B)throw Error("WatchDog timer not null");a.B=st(q(a.eb,a),b)}function Dt(a){a.B&&(h.clearTimeout(a.B),a.B=null)}function Rt(a){0==a.l.G||a.I||Jn(a.l,a)}function At(a){Dt(a);var b=a.L;b&&"function"==typeof b.na&&b.na(),a.L=null,Be(a.W),Ye(a.V),a.g&&(b=a.g,a.g=null,b.abort(),b.na())}function Nt(a,b){try{var e=a.l;if(0!=e.G&&(e.g==a||hn(e.i,a)))if(e.I=a.N,!a.J&&hn(e.i,a)&&3==e.G){try{var t=e.Ca.g.parse(b)}catch(e){t=null}if(Array.isArray(t)&&3==t.length){var n=t;if(0==n[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<a.F))break e;Qn(e),Bn(e)}Kn(e),it(18)}}else e.ta=n[1],0<e.ta-e.U&&37500>n[2]&&e.N&&0==e.A&&!e.v&&(e.v=st(q(e.ab,e),6e3));if(1>=ln(e.i)&&e.ka){try{e.ka()}catch(e){}e.ka=void 0}}else nr(e,11)}else if((a.J||e.g==a)&&Qn(e),!k(b))for(n=e.Ca.g.parse(b),b=0;b<n.length;b++){let l=n[b];if(e.U=l[0],l=l[1],2==e.G)if("c"==l[0]){e.J=l[1],e.la=l[2];const n=l[3];null!=n&&(e.ma=n,e.h.info("VER="+e.ma));const h=l[4];null!=h&&(e.za=h,e.h.info("SVER="+e.za));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(t=1.5*d,e.K=t,e.h.info("backChannelRequestTimeoutMs_="+t)),t=e;const f=a.g;if(f){const e=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var r=t.i;!r.g&&(A(e,"spdy")||A(e,"quic")||A(e,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(dn(r,r.h),r.h=null))}if(t.D){const e=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(t.sa=e,zt(t.F,t.D,e))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-a.F,e.h.info("Handshake RTT: "+e.O+"ms"));var o=a;if((t=e).oa=ir(t,t.H?t.la:null,t.W),o.J){fn(t.i,o);var c=o,u=t.K;u&&c.setTimeout(u),c.B&&(Dt(c),Ct(c)),t.g=o}else Yn(t);0<e.l.length&&qn(e)}else"stop"!=l[0]&&"close"!=l[0]||nr(e,7);else 3==e.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nr(e,7):Vn(e):"noop"!=l[0]&&e.j&&e.j.wa(l),e.A=0)}tt(4)}catch(e){}}function jt(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(f(a)||"string"==typeof a)I(a,b,void 0);else{if(a.T&&"function"==typeof a.T)var e=a.T();else if(a.R&&"function"==typeof a.R)e=void 0;else if(f(a)||"string"==typeof a){e=[];for(var t=a.length,n=0;n<t;n++)e.push(n)}else for(n in e=[],t=0,a)e[t++]=n;t=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(f(a)){for(var b=[],e=a.length,t=0;t<e;t++)b.push(a[t]);return b}for(t in b=[],e=0,a)b[e++]=a[t];return b}(a),n=t.length;for(var r=0;r<n;r++)b.call(void 0,t[r],e&&e[r],a)}}function Pt(a,b){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var t=0;t<e;t+=2)this.set(arguments[t],arguments[t+1])}else if(a)if(a instanceof Pt)for(e=a.T(),t=0;t<e.length;t++)this.set(e[t],a.get(e[t]));else for(t in a)this.set(t,a[t])}function Mt(a){if(a.i!=a.g.length){for(var b=0,e=0;b<a.g.length;){var t=a.g[b];Lt(a.h,t)&&(a.g[e++]=t),b++}a.g.length=e}if(a.i!=a.g.length){var n={};for(e=b=0;b<a.g.length;)Lt(n,t=a.g[b])||(a.g[e++]=t,n[t]=1),b++;a.g.length=e}}function Lt(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(r=yt.prototype).setTimeout=function(a){this.P=a},r.gb=function(a){a=a.target;const b=this.L;b&&3==Pn(a)?b.l():this.Ia(a)},r.Ia=function(a){try{if(a==this.g)e:{const d=Pn(this.g);var b=this.g.Da();const f=this.g.ba();if(!(3>d)&&(3!=d||W||this.g&&(this.h.h||this.g.ga()||Mn(this.g)))){this.I||4!=d||7==b||tt(8==b||0>=f?3:2),Dt(this);var e=this.g.ba();this.N=e;t:if(Ot(this)){var t=Mn(this.g);a="";var n=t.length,r=4==Pn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){At(this),Rt(this);var o="";break t}this.h.i=new h.TextDecoder}for(b=0;b<n;b++)this.h.h=!0,a+=this.h.i.decode(t[b],{stream:r&&b==n-1});t.splice(0,n),this.h.g+=a,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==e,function(a,b,e,t,n,r,o){a.info((function(){return"XMLHTTP RESP ("+t+") [ attempt "+n+"]: "+b+"\n"+e+"\n"+r+" "+o}))}(this.j,this.u,this.A,this.m,this.X,d,e),this.i){if(this.$&&!this.J){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(c)){var l=c;break t}}l=null}if(!(e=l)){this.i=!1,this.o=3,it(12),At(this),Rt(this);break e}Xe(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nt(this,e)}this.U?(It(this,d,o),W&&this.i&&3==d&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):(Xe(this.j,this.m,o,null),Nt(this,o)),4==d&&At(this),this.i&&!this.I&&(4==d?Jn(this.l,this):(this.i=!1,Ct(this)))}else 400==e&&0<o.indexOf("Unknown SID")?(this.o=3,it(12)):(this.o=0,it(13)),At(this),Rt(this)}}}catch(e){}},r.fb=function(){if(this.g){var a=Pn(this.g),b=this.g.ga();this.C<b.length&&(Dt(this),It(this,a,b),this.i&&4!=a&&Ct(this))}},r.cancel=function(){this.I=!0,At(this)},r.eb=function(){this.B=null;const a=Date.now();0<=a-this.Y?(function(a,b){a.info((function(){return"TIMEOUT: "+b}))}(this.j,this.A),2!=this.K&&(tt(3),it(17)),At(this),this.o=2,Rt(this)):kt(this,this.Y-a)},(r=Pt.prototype).R=function(){Mt(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a},r.T=function(){return Mt(this),this.g.concat()},r.get=function(a,b){return Lt(this.h,a)?this.h[a]:b},r.set=function(a,b){Lt(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=b},r.forEach=function(a,b){for(var e=this.T(),t=0;t<e.length;t++){var n=e[t],r=this.get(n);a.call(b,r,n,this)}};var Ut=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ft(a,b){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof Ft){this.g=void 0!==b?b:a.g,Bt(this,a.j),this.s=a.s,$t(this,a.i),Ht(this,a.m),this.l=a.l,b=a.h;var e=new tn;e.i=b.i,b.g&&(e.g=new Pt(b.g),e.h=b.h),qt(this,e),this.o=a.o}else a&&(e=String(a).match(Ut))?(this.g=!!b,Bt(this,e[1]||"",!0),this.s=Gt(e[2]||""),$t(this,e[3]||"",!0),Ht(this,e[4]),this.l=Gt(e[5]||"",!0),qt(this,e[6]||"",!0),this.o=Gt(e[7]||"")):(this.g=!!b,this.h=new tn(null,this.g))}function Vt(a){return new Ft(a)}function Bt(a,b,e){a.j=e?Gt(b,!0):b,a.j&&(a.j=a.j.replace(/:$/,""))}function $t(a,b,e){a.i=e?Gt(b,!0):b}function Ht(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.m=b}else a.m=null}function qt(a,b,e){b instanceof tn?(a.h=b,function(a,b){b&&!a.j&&(nn(a),a.i=null,a.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dd(this,t),on(this,n,e))}),a)),a.j=b}(a.h,a.g)):(e||(b=Yt(b,Jt)),a.h=new tn(b,a.g))}function zt(a,b,e){a.h.set(b,e)}function Wt(a){return zt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Gt(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yt(a,b,e){return"string"==typeof a?(a=encodeURI(a).replace(b,Kt),e&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Kt(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Ft.prototype.toString=function(){var a=[],b=this.j;b&&a.push(Yt(b,Xt,!0),":");var e=this.i;return(e||"file"==b)&&(a.push("//"),(b=this.s)&&a.push(Yt(b,Xt,!0),"@"),a.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&a.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&a.push("/"),a.push(Yt(e,"/"==e.charAt(0)?Qt:Zt,!0))),(e=this.h.toString())&&a.push("?",e),(e=this.o)&&a.push("#",Yt(e,en)),a.join("")};var Xt=/[#\/\?@]/g,Zt=/[#\?:]/g,Qt=/[#\?]/g,Jt=/[#\?@]/g,en=/#/g;function tn(a,b){this.h=this.g=null,this.i=a||null,this.j=!!b}function nn(a){a.g||(a.g=new Pt,a.h=0,a.i&&function(a,b){if(a){a=a.split("&");for(var e=0;e<a.length;e++){var t=a[e].indexOf("="),n=null;if(0<=t){var r=a[e].substring(0,t);n=a[e].substring(t+1)}else r=a[e];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.i,(function(b,e){a.add(decodeURIComponent(b.replace(/\+/g," ")),e)})))}function dd(a,b){nn(a),b=sn(a,b),Lt(a.g.h,b)&&(a.i=null,a.h-=a.g.get(b).length,Lt((a=a.g).h,b)&&(delete a.h[b],a.i--,a.g.length>2*a.i&&Mt(a)))}function rn(a,b){return nn(a),b=sn(a,b),Lt(a.g.h,b)}function on(a,b,e){dd(a,b),0<e.length&&(a.i=null,a.g.set(sn(a,b),C(e)),a.h+=e.length)}function sn(a,b){return b=String(b),a.j&&(b=b.toLowerCase()),b}(r=tn.prototype).add=function(a,b){nn(this),this.i=null,a=sn(this,a);var e=this.g.get(a);return e||this.g.set(a,e=[]),e.push(b),this.h+=1,this},r.forEach=function(a,b){nn(this),this.g.forEach((function(e,t){I(e,(function(e){a.call(b,e,t,this)}),this)}),this)},r.T=function(){nn(this);for(var a=this.g.R(),b=this.g.T(),e=[],t=0;t<b.length;t++)for(var n=a[t],r=0;r<n.length;r++)e.push(b[t]);return e},r.R=function(a){nn(this);var b=[];if("string"==typeof a)rn(this,a)&&(b=x(b,this.g.get(sn(this,a))));else{a=this.g.R();for(var e=0;e<a.length;e++)b=x(b,a[e])}return b},r.set=function(a,b){return nn(this),this.i=null,rn(this,a=sn(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[b]),this.h+=1,this},r.get=function(a,b){return a&&0<(a=this.R(a)).length?String(a[0]):b},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],b=this.g.T(),e=0;e<b.length;e++){var t=b[e],n=encodeURIComponent(String(t));t=this.R(t);for(var r=0;r<t.length;r++){var o=n;""!==t[r]&&(o+="="+encodeURIComponent(String(t[r]))),a.push(o)}}return this.i=a.join("&")};function an(a){this.l=a||un,h.PerformanceNavigationTiming?a=0<(a=h.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(a){return!!a.h||!!a.g&&a.g.size>=a.j}function ln(a){return a.h?1:a.g?a.g.size:0}function hn(a,b){return a.h?a.h==b:!!a.g&&a.g.has(b)}function dn(a,b){a.g?a.g.add(b):a.h=b}function fn(a,b){a.h&&a.h==b?a.h=null:a.g&&a.g.has(b)&&a.g.delete(b)}function pn(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let b=a.i;for(const e of a.g.values())b=b.concat(e.D);return b}return C(a.i)}function mn(){}function gn(){this.g=new mn}function vn(a,b,e){const t=e||"";try{jt(a,(function(e,n){let r=e;p(e)&&(r=De(e)),b.push(t+n+"="+encodeURIComponent(r))}))}catch(e){throw b.push(t+"type="+encodeURIComponent("_badmap")),e}}function yn(a,b,e,t,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(t)}catch(e){}}function bn(a){this.l=a.$b||null,this.j=a.ib||!1}function wn(a,b){xe.call(this),this.D=a,this.u=b,this.m=void 0,this.readyState=_n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},mn.prototype.stringify=function(a){return h.JSON.stringify(a,void 0)},mn.prototype.parse=function(a){return h.JSON.parse(a,void 0)},E(bn,ct),bn.prototype.g=function(){return new wn(this.l,this.j)},bn.prototype.i=function(a){return function(){return a}}({}),E(wn,xe);var _n=0;function En(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function td(a){a.readyState=4,a.l=null,a.j=null,a.A=null,Sn(a)}function Sn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(r=wn.prototype).open=function(a,b){if(this.readyState!=_n)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=b,this.readyState=1,Sn(this)},r.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(b.body=a),(this.D||h).fetch(new Request(this.B,b)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,td(this)),this.readyState=_n},r.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==h.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;En(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var b=a.value?a.value:new Uint8Array(0);(b=this.A.decode(b,{stream:!a.done}))&&(this.response=this.responseText+=b)}a.done?td(this):Sn(this),3==this.readyState&&En(this)}},r.Ua=function(a){this.g&&(this.response=this.responseText=a,td(this))},r.Ta=function(a){this.g&&(this.response=a,td(this))},r.ha=function(){this.g&&td(this)},r.setRequestHeader=function(a,b){this.v.append(a,b)},r.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],b=this.h.entries();for(var e=b.next();!e.done;)e=e.value,a.push(e[0]+": "+e[1]),e=b.next();return a.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Tn=h.JSON.parse;function On(a){xe.call(this),this.headers=new Pt,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=In,this.K=this.L=!1}E(On,xe);var In="",xn=/^https?$/i,Cn=["POST","PUT"];function kn(a){return"content-type"==a.toLowerCase()}function Dn(a,b){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=b,a.m=5,Rn(a),Nn(a)}function Rn(a){a.D||(a.D=!0,Ce(a,"complete"),Ce(a,"error"))}function An(a){if(a.h&&void 0!==l&&(!a.C[1]||4!=Pn(a)||2!=a.ba()))if(a.v&&4==Pn(a))$e(a.Fa,0,a);else if(Ce(a,"readystatechange"),4==Pn(a)){a.h=!1;try{const c=a.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var e;if(!(e=b)){var t;if(t=0===c){var n=String(a.H).match(Ut)[1]||null;if(!n&&h.self&&h.self.location){var r=h.self.location.protocol;n=r.substr(0,r.length-1)}t=!xn.test(n?n.toLowerCase():"")}e=t}if(e)Ce(a,"complete"),Ce(a,"success");else{a.m=6;try{var o=2<Pn(a)?a.g.statusText:""}catch(e){o=""}a.j=o+" ["+a.ba()+"]",Rn(a)}}finally{Nn(a)}}}function Nn(a,b){if(a.g){jn(a);const e=a.g,t=a.C[0]?d:null;a.g=null,a.C=null,b||Ce(a,"ready");try{e.onreadystatechange=t}catch(e){}}}function jn(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(h.clearTimeout(a.A),a.A=null)}function Pn(a){return a.g?a.g.readyState:0}function Mn(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case In:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ln(a,b,e){e:{for(t in e){var t=!1;break e}t=!0}t||(e=function(a){let b="";return M(a,(function(e,t){b+=t,b+=":",b+=e,b+="\r\n"})),b}(e),"string"==typeof a?null!=e&&encodeURIComponent(String(e)):zt(a,b,e))}function Un(a,b,e){return e&&e.internalChannelParams&&e.internalChannelParams[a]||b}function Fn(a){this.za=0,this.l=[],this.h=new Ke,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,a),this.$a=Un("retryDelaySeedMs",1e4,a),this.Ya=Un("forwardChannelMaxRetries",2,a),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new an(a&&a.concurrentRequestLimit),this.Ca=new gn,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function Vn(a){if($n(a),3==a.G){var b=a.V++,e=Vt(a.F);zt(e,"SID",a.J),zt(e,"RID",b),zt(e,"TYPE","terminate"),Wn(a,e),(b=new yt(a,a.h,b,void 0)).K=2,b.v=Wt(Vt(e)),e=!1,h.navigator&&h.navigator.sendBeacon&&(e=h.navigator.sendBeacon(b.v.toString(),"")),!e&&h.Image&&((new Image).src=b.v,e=!0),e||(b.g=or(b.l,null),b.g.ea(b.v)),b.F=Date.now(),Ct(b)}rr(a)}function Bn(a){a.g&&(Xn(a),a.g.cancel(),a.g=null)}function $n(a){Bn(a),a.u&&(h.clearTimeout(a.u),a.u=null),Qn(a),a.i.cancel(),a.m&&("number"==typeof a.m&&h.clearTimeout(a.m),a.m=null)}function Hn(a,b){a.l.push(new class{constructor(a,b){this.h=a,this.g=b}}(a.Za++,b)),3==a.G&&qn(a)}function qn(a){cn(a.i)||a.m||(a.m=!0,Me(a.Ha,a),a.C=0)}function zn(a,b){var e;e=b?b.m:a.V++;const t=Vt(a.F);zt(t,"SID",a.J),zt(t,"RID",e),zt(t,"AID",a.U),Wn(a,t),a.o&&a.s&&Ln(t,a.o,a.s),e=new yt(a,a.h,e,a.C+1),null===a.o&&(e.H=a.s),b&&(a.l=b.D.concat(a.l)),b=Gn(a,e,1e3),e.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),dn(a.i,e),St(e,t,b)}function Wn(a,b){a.j&&jt({},(function(e,t){zt(b,t,e)}))}function Gn(a,b,e){e=Math.min(a.l.length,e);var t=a.j?q(a.j.Oa,a.j,a):null;e:{var n=a.l;let r=-1;for(;;){const o=["count="+e];-1==r?0<e?(r=n[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let c=!0;for(let u=0;u<e;u++){let e=n[u].h;const l=n[u].g;if(e-=r,0>e)r=Math.max(0,n[u].h-100),c=!1;else try{vn(l,o,"req"+e+"_")}catch(e){t&&t(l)}}if(c){t=o.join("&");break e}}}return a=a.l.splice(0,e),b.D=a,t}function Yn(a){a.g||a.u||(a.Y=1,Me(a.Ga,a),a.A=0)}function Kn(a){return!(a.g||a.u||3<=a.A)&&(a.Y++,a.u=st(q(a.Ga,a),er(a,a.A)),a.A++,!0)}function Xn(a){null!=a.B&&(h.clearTimeout(a.B),a.B=null)}function Zn(a){a.g=new yt(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var b=Vt(a.oa);zt(b,"RID","rpc"),zt(b,"SID",a.J),zt(b,"CI",a.N?"0":"1"),zt(b,"AID",a.U),Wn(a,b),zt(b,"TYPE","xmlhttp"),a.o&&a.s&&Ln(b,a.o,a.s),a.K&&a.g.setTimeout(a.K);var e=a.g;a=a.la,e.K=1,e.v=Wt(Vt(b)),e.s=null,e.U=!0,Tt(e,a)}function Qn(a){null!=a.v&&(h.clearTimeout(a.v),a.v=null)}function Jn(a,b){var e=null;if(a.g==b){Qn(a),Xn(a),a.g=null;var t=2}else{if(!hn(a.i,b))return;e=b.D,fn(a.i,b),t=1}if(a.I=b.N,0!=a.G)if(b.i)if(1==t){e=b.s?b.s.length:0,b=Date.now()-b.F;var n=a.C;Ce(t=Je(),new ot(t,e,b,n)),qn(a)}else Yn(a);else if(3==(n=b.o)||0==n&&0<a.I||!(1==t&&function(a,b){return!(ln(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=b.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=st(q(a.Ha,a,b),er(a,a.C)),a.C++,0)))}(a,b)||2==t&&Kn(a)))switch(e&&0<e.length&&(b=a.i,b.i=b.i.concat(e)),n){case 1:nr(a,5);break;case 4:nr(a,10);break;case 3:nr(a,6);break;default:nr(a,2)}}function er(a,b){let e=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(e*=2),e*b}function nr(a,b){if(a.h.info("Error code "+b),2==b){var e=null;a.j&&(e=null);var t=q(a.jb,a);e||(e=new Ft("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Bt(e,"https"),Wt(e)),function(a,b){const e=new Ke;if(h.Image){const t=new Image;t.onload=_(yn,e,t,"TestLoadImage: loaded",!0,b),t.onerror=_(yn,e,t,"TestLoadImage: error",!1,b),t.onabort=_(yn,e,t,"TestLoadImage: abort",!1,b),t.ontimeout=_(yn,e,t,"TestLoadImage: timeout",!1,b),h.setTimeout((function(){t.ontimeout&&t.ontimeout()}),1e4),t.src=a}else b(!1)}(e.toString(),t)}else it(2);a.G=0,a.j&&a.j.va(b),rr(a),$n(a)}function rr(a){a.G=0,a.I=-1,a.j&&(0==pn(a.i).length&&0==a.l.length||(a.i.i.length=0,C(a.l),a.l.length=0),a.j.ua())}function ir(a,b,e){let t=function(a){return a instanceof Ft?Vt(a):new Ft(a,void 0)}(e);if(""!=t.i)b&&$t(t,b+"."+t.i),Ht(t,t.m);else{const n=h.location;t=function(a,b,e,t){var n=new Ft(null,void 0);return a&&Bt(n,a),b&&$t(n,b),e&&Ht(n,e),t&&(n.l=t),n}(n.protocol,b?b+"."+n.hostname:n.hostname,+n.port,e)}return a.aa&&M(a.aa,(function(e,n){zt(t,n,e)})),b=a.D,e=a.sa,b&&e&&zt(t,b,e),zt(t,"VER",a.ma),Wn(a,t),t}function or(a,b,e){if(b&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(b=e&&a.Ba&&!a.qa?new On(new bn({ib:!0})):new On(a.qa)).L=a.H,b}function sr(){}function ar(){if(H&&!(10<=Number(re)))throw Error("Environmental error: no available transport.")}function ur(a,b){xe.call(this),this.g=new Fn(b),this.l=a,this.h=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.ya&&(a?a["X-WebChannel-Client-Profile"]=b.ya:a={"X-WebChannel-Client-Profile":b.ya}),this.g.P=a,(a=b&&b.httpHeadersOverwriteParam)&&!k(a)&&(this.g.o=a),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.D=b,null!==(a=this.h)&&b in a&&(b in(a=this.h)&&delete a[b])),this.j=new dr(this)}function cr(a){mt.call(this);var b=a.__sm__;if(b){e:{for(const e in b){a=e;break e}a=void 0}(this.i=a)&&(a=this.i,b=null!==b&&a in b?b[a]:void 0),this.data=b}else this.data=a}function lr(){gt.call(this),this.status=1}function dr(a){this.g=a}(r=On.prototype).ea=function(a,b,e,t){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=this.u?lt(this.u):lt(ft),this.g.onreadystatechange=q(this.Fa,this);try{this.F=!0,this.g.open(b,String(a),!0),this.F=!1}catch(e){return void Dn(this,e)}a=e||"";const n=new Pt(this.headers);t&&jt(t,(function(e,t){n.set(t,e)})),t=function(a){e:{var b=kn;const e=a.length,t="string"==typeof a?a.split(""):a;for(let n=0;n<e;n++)if(n in t&&b.call(void 0,t[n],n,a)){b=n;break e}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(n.T()),e=h.FormData&&a instanceof h.FormData,!(0<=O(Cn,b))||t||e||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jn(this),0<this.B&&((this.K=function(a){return H&&te()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.pa,this)):this.A=$e(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(e){Dn(this,e)}},r.pa=function(){void 0!==l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},r.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,Ce(this,"complete"),Ce(this,"abort"),Nn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),On.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?An(this):this.cb())},r.cb=function(){An(this)},r.ba=function(){try{return 2<Pn(this)?this.g.status:-1}catch(e){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Qa=function(a){if(this.g){var b=this.g.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),Tn(b)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Fn.prototype).ma=8,r.G=1,r.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(e){}},r.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;const n=new yt(this,this.h,a,void 0);let r=this.s;if(this.P&&(r?(r=L(r),F(r,this.P)):r=this.P),null===this.o&&(n.H=r),this.ja)e:{for(var b=0,e=0;e<this.l.length;e++){var t=this.l[e];if(void 0===(t="__data__"in t.g&&"string"==typeof(t=t.g.__data__)?t.length:void 0))break;if(4096<(b+=t)){b=e;break e}if(4096===b||e===this.l.length-1){b=e+1;break e}}b=1e3}else b=1e3;b=Gn(this,n,b),zt(e=Vt(this.F),"RID",a),zt(e,"CVER",22),this.D&&zt(e,"X-HTTP-Session-Id",this.D),Wn(this,e),this.o&&r&&Ln(e,this.o,r),dn(this.i,n),this.Ra&&zt(e,"TYPE","init"),this.ja?(zt(e,"$req",b),zt(e,"SID","null"),n.$=!0,St(n,e,null)):St(n,e,b),this.G=2}}else 3==this.G&&(a?zn(this,a):0==this.l.length||cn(this.i)||zn(this))},r.Ga=function(){if(this.u=null,Zn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=st(q(this.bb,this),a)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,it(10),Bn(this),Zn(this))},r.ab=function(){null!=this.v&&(this.v=null,Bn(this),Kn(this),it(19))},r.jb=function(a){a?(this.h.info("Successfully pinged google.com"),it(2)):(this.h.info("Failed to ping google.com"),it(1))},(r=sr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},ar.prototype.g=function(a,b){return new ur(a,b)},E(ur,xe),ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,b=this.l,e=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),Me(q(a.hb,a,b))),it(0),a.W=b,a.aa=e||{},a.N=a.X,a.F=ir(a,null,a.W),qn(a)},ur.prototype.close=function(){Vn(this.g)},ur.prototype.u=function(a){if("string"==typeof a){var b={};b.__data__=a,Hn(this.g,b)}else this.v?((b={}).__data__=De(a),Hn(this.g,b)):Hn(this.g,a)},ur.prototype.M=function(){this.g.j=null,delete this.j,Vn(this.g),delete this.g,ur.Z.M.call(this)},E(cr,mt),E(lr,gt),E(dr,sr),dr.prototype.xa=function(){Ce(this.g,"a")},dr.prototype.wa=function(a){Ce(this.g,new cr(a))},dr.prototype.va=function(a){Ce(this.g,new lr(a))},dr.prototype.ua=function(){Ce(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,ut.COMPLETE="complete",ht.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",xe.prototype.listen=xe.prototype.N,On.prototype.listenOnce=On.prototype.O,On.prototype.getLastError=On.prototype.La,On.prototype.getLastErrorCode=On.prototype.Da,On.prototype.getStatus=On.prototype.ba,On.prototype.getResponseJson=On.prototype.Qa,On.prototype.getResponseText=On.prototype.ga,On.prototype.send=On.prototype.ea;var fr=c.createWebChannelTransport=function(){return new ar},pr=c.getStatEventTarget=function(){return Je()},mr=c.ErrorCode=at,gr=c.EventType=ut,vr=c.Event=Ze,yr=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wr=c.FetchXmlHttpFactory=bn,_r=c.WebChannel=ht,Er=c.XhrIo=On}).call(this,n(35))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m}));var r={inheritAttrs:!1,props:{duration:{type:[Number,Object],default:300},delay:{type:[Number,Object],default:0},group:Boolean,tag:{type:String,default:"span"},origin:{type:String,default:""},styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"ease-out"}}}},computed:{componentType:function(){return this.group?"transition-group":"transition"},hooks:function(){return Object.assign({beforeEnter:this.beforeEnter,afterEnter:this.cleanUpStyles,beforeLeave:this.beforeLeave,leave:this.leave,afterLeave:this.cleanUpStyles},this.$listeners)}},methods:{beforeEnter:function(e){var t=this.duration.enter?this.duration.enter:this.duration;e.style.animationDuration=t+"ms";var n=this.delay.enter?this.delay.enter:this.delay;e.style.animationDelay=n+"ms",this.setStyles(e)},cleanUpStyles:function(e){var t=this;Object.keys(this.styles).forEach((function(n){t.styles[n]&&(e.style[n]="")})),e.style.animationDuration="",e.style.animationDelay=""},beforeLeave:function(e){var t=this.duration.leave?this.duration.leave:this.duration;e.style.animationDuration=t+"ms";var n=this.delay.leave?this.delay.leave:this.delay;e.style.animationDelay=n+"ms",this.setStyles(e)},leave:function(e){this.setAbsolutePosition(e)},setStyles:function(e){var t=this;this.setTransformOrigin(e),Object.keys(this.styles).forEach((function(n){var r=t.styles[n];r&&(e.style[n]=r)}))},setAbsolutePosition:function(e){return this.group&&(e.style.position="absolute"),this},setTransformOrigin:function(e){return this.origin&&(e.style.transformOrigin=this.origin),this}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=" @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } .fadeIn { animation-name: fadeIn; } @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } } .fadeOut { animation-name: fadeOut; } .fade-move { transition: transform .3s ease-out; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var o={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"fadeIn","move-class":"fade-move","leave-active-class":"fadeOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"fade-transition",mixins:[r]};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".zoom-move { transition: transform .3s ease-out; } @keyframes zoomIn { from { opacity: 0; transform: scale3d(0.3, 0.3, 0.3); } 50% { opacity: 1; } } .zoomIn { animation-name: zoomIn; } @keyframes zoomOut { from { opacity: 1; } 50% { opacity: 0; transform: scale3d(0.3, 0.3, 0.3); } to { opacity: 0; } } .zoomOut { animation-name: zoomOut; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var c={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"zoomIn","move-class":"zoom-move","leave-active-class":"zoomOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"zoom-center-transition",mixins:[r]};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".zoom-move { transition: transform .3s ease-out; } @keyframes zoomInX { from { opacity: 0; transform: scaleX(0); } 50% { opacity: 1; } } .zoomInX { animation-name: zoomInX; } @keyframes zoomOutX { from { opacity: 1; } 50% { opacity: 0; transform: scaleX(0); } to { opacity: 0; } } .zoomOutX { animation-name: zoomOutX; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var l={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"zoomInX","move-class":"zoom-move","leave-active-class":"zoomOutX"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"zoom-x-transition",props:{styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.55,0,.1,1)"}}}},mixins:[r]};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".zoom-move { transition: transform .3s ease-out; } @keyframes zoomInY { from { opacity: 0; transform: scaleY(0); } 50% { opacity: 1; tranform: scaleY(1); } } .zoomInY { animation-name: zoomInY; } @keyframes zoomOutY { from { opacity: 1; } 50% { opacity: 0; transform: scaleY(0); } to { opacity: 0; } } .zoomOutY { animation-name: zoomOutY; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var h={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"zoomInY","move-class":"zoom-move","leave-active-class":"zoomOutY"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"zoom-y-transition",mixins:[r],props:{styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.55,0,.1,1)"}}}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=" .collapse-move { transition: transform .3s ease-in-out; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var d={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"move-class":"collapse-move"},on:{"before-enter":e.beforeEnter,"after-enter":e.afterEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave}},"component",e.$attrs,!1),e.$listeners),[e._t("default")],2)},staticRenderFns:[],name:"collapse-transition",mixins:[r],methods:{transitionStyle:function(e){void 0===e&&(e=300);var t=e/1e3;return t+"s height ease-in-out, "+t+"s padding-top ease-in-out, "+t+"s padding-bottom ease-in-out"},beforeEnter:function(e){var t=this.duration.enter?this.duration.enter:this.duration;e.style.transition=this.transitionStyle(t),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0,this.setStyles(e)},enter:function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter:function(e){e.style.transition="",e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden",this.setStyles(e)},leave:function(e){var t=this.duration.leave?this.duration.leave:this.duration;0!==e.scrollHeight&&(e.style.transition=this.transitionStyle(t),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0),this.setAbsolutePosition(e)},afterLeave:function(e){e.style.transition="",e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=" @keyframes scaleIn { from { opacity: 0; transform: scale(0) } to { opacity: 1; } } .scaleIn { animation-name: scaleIn; } @keyframes scaleOut { from { opacity: 1; } to { opacity: 0; transform: scale(0); } } .scaleOut { animation-name: scaleOut; } .scale-move { transition: transform .3s cubic-bezier(.25, .8, .50, 1); } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var f={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"scaleIn","move-class":"scale-move","leave-active-class":"scaleOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"scale-transition",mixins:[r],props:{origin:{type:String,default:"top left"},styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.25,.8,.50,1)"}}}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".slide-move { transition: transform .3s; } @keyframes slideYIn { from { opacity: 0; transform: translateY(-15px); } to { opacity: 1; } } .slideYIn { animation-name: slideYIn; } @keyframes slideYOut { from { opacity: 1; } to { opacity: 0; transform: translateY(-15px); } } .slideYOut { animation-name: slideYOut; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var m={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,type:"animation","enter-active-class":"slideYIn","move-class":"slide-move","leave-active-class":"slideYOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"slide-y-up-transition",mixins:[r],props:{styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.25,.8,.50,1)"}}}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".slide-move { transition: transform .3s; } @keyframes slideYDownIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; } } .slideYDownIn { animation-name: slideYDownIn; } @keyframes slideYDownOut { from { opacity: 1; } to { opacity: 0; transform: translateY(15px); } } .slideYDownOut { animation-name: slideYDownOut; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var v={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"slideYDownIn","leave-active-class":"slideYDownOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"slide-y-down-transition",mixins:[r],props:{styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.25,.8,.50,1)"}}}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".slide-move { transition: transform .3s; } @keyframes slideXLeftIn { from { opacity: 0; transform: translateX(-15px); } to { opacity: 1; } } .slideXLeftIn { animation-name: slideXLeftIn; } @keyframes slideXLeftOut { from { opacity: 1; } to { opacity: 0; transform: translateX(-15px); } } .slideXLeftOut { animation-name: slideXLeftOut; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var y={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"slideXLeftIn","move-class":"slide-move","leave-active-class":"slideXLeftOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"slide-x-left-transition",mixins:[r],props:{styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.25,.8,.50,1)"}}}}};!function(){if("undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),e=".slide-move { transition: transform .3s; } @keyframes slideXRightIn { from { opacity: 0; transform: translateX(15px); } to { opacity: 1; } } .slideXRightIn { animation-name: slideXRightIn; } @keyframes slideXRightOut { from { opacity: 1; } to { opacity: 0; transform: translateX(15px); } } .slideXRightOut { animation-name: slideXRightOut; } ";style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e)),head.appendChild(style)}}();var w={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentType,e._g(e._b({tag:"component",attrs:{tag:e.tag,"enter-active-class":"slideXRightIn","move-class":"slide-move","leave-active-class":"slideXRightOut"}},"component",e.$attrs,!1),e.hooks),[e._t("default")],2)},staticRenderFns:[],name:"slide-x-right-transition",mixins:[r],props:{styles:{type:Object,default:function(){return{animationFillMode:"both",animationTimingFunction:"cubic-bezier(.25,.8,.50,1)"}}}}},_={};function E(e,t){t&&t.components?t.components.forEach((function(t){return e.component(t.name,_[t.name])})):Object.keys(_).forEach((function(t){e.component(t,_[t])}))}_[o.name]=o,_[c.name]=c,_[l.name]=l,_[h.name]=h,_[d.name]=d,_[f.name]=f,_[m.name]=m,_[v.name]=v,_[y.name]=y,_[w.name]=w,"undefined"!=typeof window&&window.Vue&&window.Vue.use({install:E})},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2),o=n(13),c=n(8),l=n(16);class h{constructor(e,t){this._delegate=e,this.firebase=t,Object(c._addComponent)(e,new o.a("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Object(c.deleteApp)(this._delegate))))}_getService(e,t=c._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=c._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(component){Object(c._addComponent)(this._delegate,component)}_addOrOverwriteComponent(component){Object(c._addOrOverwriteComponent)(this._delegate,component)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const d={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},f=new r.b("app-compat","Firebase",d);const m=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(o,l={}){const h=c.initializeApp(o,l);if(Object(r.f)(t,h.name))return t[h.name];const d=new e(h,n);return t[h.name]=d,d},app:o,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(component){const t=component.name,l=t.replace("-compat","");if(c._registerComponent(component)&&"PUBLIC"===component.type){const c=(e=o())=>{if("function"!=typeof e[l])throw f.create("invalid-app-argument",{appName:t});return e[l]()};void 0!==component.serviceProps&&Object(r.j)(c,component.serviceProps),n[l]=c,e.prototype[l]=function(...e){return this._getService.bind(this,t).apply(this,component.multipleInstances?e:[])}}return"PUBLIC"===component.type?n[l]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function o(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(r.f)(t,e))throw f.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),o.App=e,n}(h);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(r.j)(t,e)},createSubscribe:r.h,ErrorFactory:r.b,deepExtend:r.j}),t}(),v=new l.b("@firebase/app-compat");if(Object(r.n)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const y=m;var w;Object(c.registerVersion)("@firebase/app-compat","0.1.33",w)},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return Re})),n.d(t,"a",(function(){return D.a}));n(32),n(21),n(26),n(38),n(39);var r=n(10),o=n(9),c=(n(37),n(11),n(46),n(19),n(82),n(5)),l=n(84),h=n(227),d=n(149),f=n.n(d),m=n(67),v=n.n(m),y=n(150),w=n(41),_=n(3);"scrollRestoration"in window.history&&(Object(_.u)("manual"),window.addEventListener("beforeunload",(function(){Object(_.u)("auto")})),window.addEventListener("load",(function(){Object(_.u)("manual")})));function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T=function(){};c.default.use(y.a);var O={mode:"history",base:"/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"active",scrollBehavior:function(e,t,n){var r=!1,o=e!==t;n?r=n:o&&function(e){var t=Object(_.g)(e);if(1===t.length){var n=t[0].options;return!1!==(void 0===n?{}:n).scrollToTop}return t.some((function(e){var t=e.options;return t&&t.scrollToTop}))}(e)&&(r={x:0,y:0});var c=window.$nuxt;return(!o||e.path===t.path&&e.hash!==t.hash)&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var n=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(r)}))}))},routes:[{path:"/alternative",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(3),n.e(5),n.e(6),n.e(53)]).then(n.bind(null,794)))},name:"alternative"},{path:"/BannersAds",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(15)]).then(n.bind(null,795)))},name:"BannersAds"},{path:"/calendar",component:function(){return Object(_.m)(n.e(54).then(n.bind(null,796)))},name:"calendar"},{path:"/charts",component:function(){return Object(_.m)(Promise.all([n.e(6),n.e(55)]).then(n.bind(null,793)))},name:"charts"},{path:"/dashboard",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(3),n.e(5),n.e(6),n.e(62)]).then(n.bind(null,785)))},name:"dashboard"},{path:"/lock",component:function(){return Object(_.m)(n.e(68).then(n.bind(null,797)))},name:"lock"},{path:"/login",component:function(){return Object(_.m)(n.e(69).then(n.bind(null,798)))},name:"login"},{path:"/Newsletter",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(24)]).then(n.bind(null,799)))},name:"Newsletter"},{path:"/pricing",component:function(){return Object(_.m)(n.e(74).then(n.bind(null,800)))},name:"pricing"},{path:"/widgets",component:function(){return Object(_.m)(n.e(79).then(n.bind(null,786)))},name:"widgets"},{path:"/Ads/AddAds",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,801)))},name:"Ads-AddAds"},{path:"/Ads/AdsList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(10)]).then(n.bind(null,802)))},name:"Ads-AdsList"},{path:"/Advertisements/AddAds",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(12)]).then(n.bind(null,803)))},name:"Advertisements-AddAds"},{path:"/Advertisements/AdsList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(13)]).then(n.bind(null,804)))},name:"Advertisements-AdsList"},{path:"/Category/AddModel",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(16)]).then(n.bind(null,805)))},name:"Category-AddModel"},{path:"/Category/Category",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(18)]).then(n.bind(null,806)))},name:"Category-Category"},{path:"/Category/CategoryList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(19)]).then(n.bind(null,807)))},name:"Category-CategoryList"},{path:"/Category/CategoryList%20copy",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(20)]).then(n.bind(null,808)))},name:"Category-CategoryList copy"},{path:"/Category/ModelList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(23)]).then(n.bind(null,809)))},name:"Category-ModelList"},{path:"/components/buttons",component:function(){return Object(_.m)(n.e(56).then(n.bind(null,810)))},name:"components-buttons"},{path:"/components/cards",component:function(){return Object(_.m)(n.e(57).then(n.bind(null,811)))},name:"components-cards"},{path:"/components/grid-system",component:function(){return Object(_.m)(n.e(58).then(n.bind(null,812)))},name:"components-grid-system"},{path:"/components/icons",component:function(){return Object(_.m)(n.e(59).then(n.bind(null,813)))},name:"components-icons"},{path:"/components/notifications",component:function(){return Object(_.m)(Promise.all([n.e(4),n.e(82),n.e(60)]).then(n.bind(null,814)))},name:"components-notifications"},{path:"/components/typography",component:function(){return Object(_.m)(n.e(61).then(n.bind(null,815)))},name:"components-typography"},{path:"/finance/Financialchart",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(63)]).then(n.bind(null,790)))},name:"finance-Financialchart"},{path:"/forms/components",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(64)]).then(n.bind(null,788)))},name:"forms-components"},{path:"/forms/elements",component:function(){return Object(_.m)(n.e(65).then(n.bind(null,816)))},name:"forms-elements"},{path:"/forms/validation",component:function(){return Object(_.m)(n.e(66).then(n.bind(null,817)))},name:"forms-validation"},{path:"/maps/google",component:function(){return Object(_.m)(n.e(70).then(n.bind(null,791)))},name:"maps-google"},{path:"/maps/vector",component:function(){return Object(_.m)(n.e(71).then(n.bind(null,818)))},name:"maps-vector"},{path:"/pages/timeline",component:function(){return Object(_.m)(n.e(72).then(n.bind(null,819)))},name:"pages-timeline"},{path:"/pages/user",component:function(){return Object(_.m)(n.e(73).then(n.bind(null,789)))},name:"pages-user"},{path:"/profile/profile",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(75)]).then(n.bind(null,820)))},name:"profile-profile"},{path:"/Selby/AddNotification",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(25)]).then(n.bind(null,821)))},name:"Selby-AddNotification"},{path:"/Selby/faqs",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(31)]).then(n.bind(null,822)))},name:"Selby-faqs"},{path:"/Selby/Notification",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(26)]).then(n.bind(null,823)))},name:"Selby-Notification"},{path:"/Selby/ReportedAds",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(27)]).then(n.bind(null,824)))},name:"Selby-ReportedAds"},{path:"/Selby/ReportedUsers",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(28)]).then(n.bind(null,825)))},name:"Selby-ReportedUsers"},{path:"/Selby/Stories",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(29)]).then(n.bind(null,826)))},name:"Selby-Stories"},{path:"/Setting/addManager",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(32)]).then(n.bind(null,827)))},name:"Setting-addManager"},{path:"/Setting/manager",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(34)]).then(n.bind(null,828)))},name:"Setting-manager"},{path:"/Subscription/AdBooster",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(35)]).then(n.bind(null,829)))},name:"Subscription-AdBooster"},{path:"/Subscription/Addsubscription",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(36)]).then(n.bind(null,830)))},name:"Subscription-Addsubscription"},{path:"/Subscription/BoosterList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(37)]).then(n.bind(null,831)))},name:"Subscription-BoosterList"},{path:"/Subscription/PurchaseList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(40)]).then(n.bind(null,832)))},name:"Subscription-PurchaseList"},{path:"/Subscription/SubscriptionList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(41)]).then(n.bind(null,833)))},name:"Subscription-SubscriptionList"},{path:"/tables/paginated",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(76)]).then(n.bind(null,792)))},name:"tables-paginated"},{path:"/tables/regular",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(3),n.e(5),n.e(77)]).then(n.bind(null,787)))},name:"tables-regular"},{path:"/tables/sortable",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(3),n.e(5),n.e(78)]).then(n.bind(null,834)))},name:"tables-sortable"},{path:"/User/UserList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(49)]).then(n.bind(null,835)))},name:"User-UserList"},{path:"/Table/Lowerdecktable/Addtable",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(43)]).then(n.bind(null,836)))},name:"Table-Lowerdecktable-Addtable"},{path:"/Table/Lowerdecktable/TableList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(45)]).then(n.bind(null,837)))},name:"Table-Lowerdecktable-TableList"},{path:"/Table/Upperdecktable/Addtable",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(46)]).then(n.bind(null,838)))},name:"Table-Upperdecktable-Addtable"},{path:"/Table/Upperdecktable/TableList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(48)]).then(n.bind(null,839)))},name:"Table-Upperdecktable-TableList"},{path:"/Websites/Banner/Addbanner",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(50)]).then(n.bind(null,840)))},name:"Websites-Banner-Addbanner"},{path:"/Websites/Banner/BannerList",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(51)]).then(n.bind(null,841)))},name:"Websites-Banner-BannerList"},{path:"/Table/Lowerdecktable/Edit/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(44)]).then(n.bind(null,842)))},name:"Table-Lowerdecktable-Edit-id"},{path:"/Table/Upperdecktable/Edit/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(47)]).then(n.bind(null,843)))},name:"Table-Upperdecktable-Edit-id"},{path:"/Websites/Banner/Editbanner/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(52)]).then(n.bind(null,844)))},name:"Websites-Banner-Editbanner-id"},{path:"/Ads/EditAds/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,845)))},name:"Ads-EditAds-id"},{path:"/Advertisements/EditAds/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(14)]).then(n.bind(null,846)))},name:"Advertisements-EditAds-id"},{path:"/Category/Brands/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(17)]).then(n.bind(null,847)))},name:"Category-Brands-id"},{path:"/Category/EditCategory/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(21)]).then(n.bind(null,848)))},name:"Category-EditCategory-id"},{path:"/Category/EditModel/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(22)]).then(n.bind(null,849)))},name:"Category-EditModel-id"},{path:"/Selby/Subscriptions/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(30)]).then(n.bind(null,850)))},name:"Selby-Subscriptions-id"},{path:"/Setting/editManager/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(33)]).then(n.bind(null,851)))},name:"Setting-editManager-id"},{path:"/Subscription/EditBooster/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(38)]).then(n.bind(null,852)))},name:"Subscription-EditBooster-id"},{path:"/Subscription/Editsubscription/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(39)]).then(n.bind(null,853)))},name:"Subscription-Editsubscription-id"},{path:"/Subscription/View/:id?",component:function(){return Object(_.m)(Promise.all([n.e(0),n.e(1),n.e(2),n.e(42)]).then(n.bind(null,854)))},name:"Subscription-View-id"},{path:"/",component:function(){return Object(_.m)(n.e(67).then(n.bind(null,855)))},name:"index"}],fallback:!1};function I(e,t){var base=t._app&&t._app.basePath||O.base,n=new y.a(S(S({},O),{},{base:base})),r=n.push;n.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=arguments.length>2?arguments[2]:void 0;return r.call(this,e,t,n)};var o=n.resolve.bind(n);return n.resolve=function(e,t,n){return"string"==typeof e&&(e=Object(w.c)(e)),o(e,t,n)},n}var x={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props,o=n.$createElement;data.nuxtChild=!0;for(var c=n,l=n.$nuxt.nuxt.transitions,h=n.$nuxt.nuxt.defaultTransition,d=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&d++,n=n.$parent;data.nuxtChildDepth=d;var f=l[d]||h,m={};C.forEach((function(e){void 0!==f[e]&&(m[e]=f[e])}));var v={};k.forEach((function(e){"function"==typeof f[e]&&(v[e]=f[e].bind(c))}));var y=v.beforeEnter;if(v.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),y)return y.call(c,e)},!1===f.css){var w=v.leave;(!w||w.length<2)&&(v.leave=function(e,t){w&&w.call(c,e),c.$nextTick(t)})}var _=o("routerView",data);return r.keepAlive&&(_=o("keep-alive",{props:r.keepAliveProps},[_])),o("transition",{props:m,on:v},[_])}},C=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],k=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],D=n(53),R=n(31),A=(n(61),n(62),{name:"Nuxt",components:{NuxtChild:x,NuxtError:D.a},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(_.c)(this.$route.matched[0].path)(this.$route.params);var e=Object(R.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var n=t.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occurred while showing the error page"),e("p","Unfortunately an error occurred and while showing the error page another error occurred"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(D.a,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),N=(n(23),n(44),n(45),n(43),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(e){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100||e.percent<=0)&&(e.skipTimerCount=1,e.reversed=!e.reversed))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),j=(n(322),n(7)),P=Object(j.a)(N,undefined,undefined,!1,null,null,null).exports,M=(n(323),n(324),n(241)),L=n(242),U=n(243),F=Object(j.a)({},(function(){return(0,this._self._c)("Nuxt")}),[],!1,null,null,null).exports;function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var $={_AuthLayout:Object(_.s)(M.a),_DashboardLayout:Object(_.s)(L.a),_TeacherLayout:Object(_.s)(U.a),_default:Object(_.s)(F)},H={render:function(e,t){var n=e("NuxtLoading",{ref:"loading"}),r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$loading=e.$refs.loading;case 1:case"end":return t.stop()}}),t)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0},isPreview:function(){return Boolean(this.$options.previewData)}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=Object(_.h)(e.$route)).length){t.next=3;break}return t.abrupt("return");case 3:return e.$loading.start(),r=n.map((function(t){var p=[];if(t.$options.fetch&&t.$options.fetch.length&&p.push(Object(_.q)(t.$options.fetch,e.context)),t.$fetch)p.push(t.$fetch());else{var n,r=V(Object(_.e)(t.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(e){r.e(e)}finally{r.f()}}return t.$options.asyncData&&p.push(Object(_.q)(t.$options.asyncData,e.context).then((function(e){for(var n in e)c.default.set(t.$data,n,e[n])}))),Promise.all(p)})),t.prev=5,t.next=8,Promise.all(r);case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(5),e.$loading.fail(t.t0),Object(_.k)(t.t0),e.error(t.t0);case 15:e.$loading.finish();case 16:case"end":return t.stop()}}),t,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var e=(D.a.options||D.a).layout;"function"==typeof e&&(e=e(this.context)),this.setLayout(e)}},setLayout:function(e){return e&&$["_"+e]||(e="default"),this.layoutName=e,this.layout=$["_"+e],this.layout},loadLayout:function(e){return e&&$["_"+e]||(e="default"),Promise.resolve($["_"+e])}},components:{NuxtLoading:P}};c.default.use(l.a);var z={};(z=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),function(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return n}})}return e}(e,t)}(n(332),"store/index.js")).modules=z.modules||{};var W=z instanceof Function?z:function(){return new l.a.Store(Object.assign({strict:!1},z))};var G=n(151),Y=n.n(G),K=n(29);n(127);function X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Q(e,t,n){return e.find((function(e){return n?e[t]===n:e[t]}))}var meta=n(230),J=function(e){!function(e,t){if("function"!=typeof e)for(var n in t){var r=t[n];if(Array.isArray(r)){e[n]=e[n]||[];var o,c=X(r);try{for(c.s();!(o=c.n()).done;){var l=o.value;l.hid&&Q(e[n],"hid",l.hid)||l.name&&Q(e[n],"name",l.name)||e[n].push(l)}}catch(e){c.e(e)}finally{c.f()}}else if("object"===Object(K.a)(r))for(var h in e[n]=e[n]||{},r)e[n][h]=r[h];else void 0===e[n]&&(e[n]=r)}else console.warn("Cannot merge meta. Avoid using head as a function!")}(e.app.head,meta)},ee=function(e,t){return te.apply(this,arguments)};function te(){return(te=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={"64x64":"/_nuxt/icons/icon_64x64.8c839a.png","120x120":"/_nuxt/icons/icon_120x120.8c839a.png","144x144":"/_nuxt/icons/icon_144x144.8c839a.png","152x152":"/_nuxt/icons/icon_152x152.8c839a.png","192x192":"/_nuxt/icons/icon_192x192.8c839a.png","384x384":"/_nuxt/icons/icon_384x384.8c839a.png","512x512":"/_nuxt/icons/icon_512x512.8c839a.png",ipad_1536x2048:"/_nuxt/icons/splash_ipad_1536x2048.8c839a.png",ipadpro9_1536x2048:"/_nuxt/icons/splash_ipadpro9_1536x2048.8c839a.png",ipadpro10_1668x2224:"/_nuxt/icons/splash_ipadpro10_1668x2224.8c839a.png",ipadpro12_2048x2732:"/_nuxt/icons/splash_ipadpro12_2048x2732.8c839a.png",iphonese_640x1136:"/_nuxt/icons/splash_iphonese_640x1136.8c839a.png",iphone6_50x1334:"/_nuxt/icons/splash_iphone6_50x1334.8c839a.png",iphoneplus_1080x1920:"/_nuxt/icons/splash_iphoneplus_1080x1920.8c839a.png",iphonex_1125x2436:"/_nuxt/icons/splash_iphonex_1125x2436.8c839a.png",iphonexr_828x1792:"/_nuxt/icons/splash_iphonexr_828x1792.8c839a.png",iphonexsmax_1242x2688:"/_nuxt/icons/splash_iphonexsmax_1242x2688.8c839a.png"},n("icon",(function(e){return r[e+"x"+e]||""}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=n(85),re=n.n(ne);function ie(e){return null!==e&&"object"===Object(K.a)(e)}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3?arguments[3]:void 0;if(!ie(t))return oe(e,{},n,r);var o=Object.assign({},t);for(var c in e)if("__proto__"!==c&&"constructor"!==c){var l=e[c];null!=l&&(r&&r(o,c,l,n)||(Array.isArray(l)&&Array.isArray(o[c])?o[c]=o[c].concat(l):ie(l)&&ie(o[c])?o[c]=oe(l,o[c],(n?"".concat(n,"."):"")+c.toString(),r):o[c]=l))}return o}function se(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(p,t){return oe(p,t,"",e)}),{})}}var ae=se();function ue(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ce(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ue(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ue(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}ae.fn=se((function(e,t,n,r){if(void 0!==e[t]&&"function"==typeof n)return e[t]=n(e[t]),!0})),ae.arrayFn=se((function(e,t,n,r){if(Array.isArray(e[t])&&"function"==typeof n)return e[t]=n(e[t]),!0})),ae.extend=se;for(var de={setBaseURL:function(e){this.defaults.baseURL=e},setHeader:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",o=le(Array.isArray(r)?r:[r]);try{for(o.s();!(n=o.n()).done;){var c=n.value;t?this.defaults.headers[c][e]=t:delete this.defaults.headers[c][e]}}catch(e){o.e(e)}finally{o.f()}},setToken:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",r=e?(t?t+" ":"")+e:null;this.setHeader("Authorization",r,n)},onRequest:function(e){this.interceptors.request.use((function(t){return e(t)||t}))},onResponse:function(e){this.interceptors.response.use((function(t){return e(t)||t}))},onRequestError:function(e){this.interceptors.request.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onResponseError:function(e){this.interceptors.response.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onError:function(e){this.onRequestError(e),this.onResponseError(e)},create:function(e){return ge(ae(e,this.defaults))}},fe=function(){var e=me[pe];de["$"+e]=function(){return this[e].apply(this,arguments).then((function(e){return e&&e.data}))}},pe=0,me=["request","delete","get","head","options","post","put","patch"];pe<me.length;pe++)fe();var ge=function(e){var t=re.a.create(e);return t.CancelToken=re.a.CancelToken,t.isCancel=re.a.isCancel,function(e){for(var t in de)e[t]=de[t].bind(e)}(t),t.onRequest((function(e){e.headers=ce(ce({},t.defaults.headers.common),e.headers)})),ve(t),t},ve=function(e){var t={finish:function(){},start:function(){},fail:function(){},set:function(){}},n=function(){var e="undefined"!=typeof window&&window.$nuxt;return e&&e.$loading&&e.$loading.set?e.$loading:t},r=0;e.onRequest((function(e){e&&!1===e.progress||r++})),e.onResponse((function(e){e&&e.config&&!1===e.config.progress||--r<=0&&(r=0,n().finish())})),e.onError((function(e){e&&e.config&&!1===e.config.progress||(r--,re.a.isCancel(e)?r<=0&&(r=0,n().finish()):(n().fail(),n().finish()))}));var o=function(e){if(r&&e.total){var progress=100*e.loaded/(e.total*r);n().set(Math.min(100,progress))}};e.defaults.onUploadProgress=o,e.defaults.onDownloadProgress=o},ye=function(e,t){var n=e.$config&&e.$config.axios||{},r=n.browserBaseURL||n.browserBaseUrl||n.baseURL||n.baseUrl||"http://localhost:3000/";var o=ge({baseURL:r,headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}});e.$axios=o,t("axios",o)},be=n(160),we=n(161),_e=n(153),Ee=n(154),Se=n(68),Te=n(155),Oe=n(156),Ie=n(158),xe=n(159);function Ce(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ke(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ce(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ce(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}c.default.component(f.a.name,f.a),c.default.component(v.a.name,ke(ke({},v.a),{},{render:function(e,t){return v.a._warned||(v.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),v.a.render(e,t)}})),c.default.component(x.name,x),c.default.component("NChild",x),c.default.component(A.name,A),Object.defineProperty(c.default.prototype,"$nuxt",{get:function(){var e=this.$root.$options.$nuxt;return e||"undefined"==typeof window?e:window.$nuxt},configurable:!0}),c.default.use(h.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var De={name:"page",mode:"out-in",appear:!0,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};l.a.Store.prototype.registerModule;function Re(e){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,o,l,h,d,f,path,m,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject('".concat(e,"', value) has no value provided"));h[e="$"+e]=t,h.context[e]||(h.context[e]=t),l[e]=h[e];var n="__nuxt_"+e+"_installed__";c.default[n]||(c.default[n]=!0,c.default.use((function(){Object.prototype.hasOwnProperty.call(c.default.prototype,e)||Object.defineProperty(c.default.prototype,e,{get:function(){return this.$root.$options[e]}})})))},n=v.length>1&&void 0!==v[1]?v[1]:{},e.next=4,I(0,n);case 4:return o=e.sent,(l=W(t)).$router=o,h=ke({head:{title:"Selby",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"Selby",name:"Selby",content:"Selby"}],link:[{rel:"icon",type:"image/png",href:"icon.png"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700"},{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"},{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.6.3/css/all.css",integrity:"sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/",crossorigin:"anonymous"}],script:[{src:"https://cdn.jsdelivr.net/npm/flatpickr",type:"text/javascript"},{src:"https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",type:"text/javascript"},{hid:"rzpay",src:"https://checkout.razorpay.com/v1/checkout.js",defer:!0}],style:[]},store:l,router:o,nuxt:{defaultTransition:De,transitions:[De],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},De,{name:e}):Object.assign({},De,e):De})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,h.context._errored=Boolean(e),e=e?Object(_.p)(e):null;var n=h.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},H),l.app=h,d=t?t.next:function(e){return h.router.push(e)},t?f=o.resolve(t.url).route:(path=Object(_.f)(o.options.base,o.options.mode),f=o.resolve(path).route),e.next=13,Object(_.t)(h,{store:l,route:f,next:d,error:h.nuxt.error.bind(h),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 13:if(m("config",n),window.__NUXT__&&window.__NUXT__.state&&l.replaceState(window.__NUXT__.state),h.context.enablePreview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.previewData=Object.assign({},e),m("preview",e)},"function"!=typeof Y.a){e.next=19;break}return e.next=19,Y()(h.context,m);case 19:return e.next=22,J(h.context);case 22:return e.next=25,ee(h.context,m);case 25:return e.next=28,ye(h.context,m);case 28:if("function"!=typeof be.default){e.next=31;break}return e.next=31,Object(be.default)(h.context,m);case 31:if("function"!=typeof we.default){e.next=34;break}return e.next=34,Object(we.default)(h.context,m);case 34:if("function"!=typeof _e.default){e.next=37;break}return e.next=37,Object(_e.default)(h.context,m);case 37:if("function"!=typeof Ee.default){e.next=40;break}return e.next=40,Object(Ee.default)(h.context,m);case 40:if("function"!=typeof Se.default){e.next=43;break}return e.next=43,Object(Se.default)(h.context,m);case 43:if("function"!=typeof Te.a){e.next=46;break}return e.next=46,Object(Te.a)(h.context,m);case 46:if("function"!=typeof Oe.default){e.next=49;break}return e.next=49,Object(Oe.default)(h.context,m);case 49:if("function"!=typeof Ie.default){e.next=52;break}return e.next=52,Object(Ie.default)(h.context,m);case 52:if("function"!=typeof xe.default){e.next=55;break}return e.next=55,Object(xe.default)(h.context,m);case 55:return h.context.enablePreview=function(){console.warn("You cannot call enablePreview() outside a plugin.")},e.next=58,new Promise((function(e,t){if(!o.resolve(h.context.route.fullPath).route.matched.length)return e();o.replace(h.context.route.fullPath,e,(function(n){if(!n._isRouter)return t(n);if(2!==n.type)return e();var c=o.afterEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(_.j)(n);case 3:h.context.route=t.sent,h.context.params=n.params||{},h.context.query=n.query||{},c(),e();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}));case 58:return e.abrupt("return",{store:l,app:h,router:o});case 59:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return de})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return D}));var r=n(5),o=function(){return o=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},o.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{d(r.next(e))}catch(e){c(e)}}function h(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,h)}d((r=r.apply(e,t||[])).next())}))}function l(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function h(){for(var s=0,i=0,e=arguments.length;i<e;i++)s+=arguments[i].length;var t=Array(s),n=0;for(i=0;i<e;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)t[n]=a[r];return t}function d(e){return e!=e}function f(e){return null==e}var m=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)};function v(e){return""!==e&&!f(e)}function y(e){return"function"==typeof e}function w(e){return y(e)&&!!e.__locatorRef}function _(e,t){var n=Array.isArray(e)?e:S(e);if(y(n.findIndex))return n.findIndex(t);for(var i=0;i<n.length;i++)if(t(n[i],i))return i;return-1}function E(e,t){return-1!==e.indexOf(t)}function S(e){return y(Array.from)?Array.from(e):function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}(e)}function T(e){return y(Object.values)?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function O(e,source){return Object.keys(source).forEach((function(t){if(m(source[t]))return e[t]||(e[t]={}),void O(e[t],source[t]);e[t]=source[t]})),e}function I(e,t,n){return void 0===t&&(t=0),void 0===n&&(n={cancelled:!1}),0===t?e:function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var l=function(){r=void 0,n.cancelled||e.apply(void 0,o)};clearTimeout(r),r=setTimeout(l,t)};var r}function x(template,e){return template.replace(/{([^}]+)}/g,(function(t,p){return p in e?e[p]:"{"+p+"}"}))}var C={};var k=function(){function e(){}return e.extend=function(e,t){var n=function(e){var t;return(null===(t=e.params)||void 0===t?void 0:t.length)&&(e.params=e.params.map((function(param){return"string"==typeof param?{name:param}:param}))),e}(t);C[e]?C[e]=O(C[e],t):C[e]=o({lazy:!1,computesRequired:!1},n)},e.isLazy=function(e){var t;return!!(null===(t=C[e])||void 0===t?void 0:t.lazy)},e.isRequireRule=function(e){var t;return!!(null===(t=C[e])||void 0===t?void 0:t.computesRequired)},e.getRuleDefinition=function(e){return C[e]},e}();function D(e,t){!function(e,t){if(y(t))return;if(y(t.validate))return;if(k.getRuleDefinition(e))return;throw new Error("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.")}(e,t),"object"!=typeof t?k.extend(e,{validate:t}):k.extend(e,t)}var R=o({},{defaultMessage:"{_field_} is not valid.",skipOptional:!0,classes:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"},bails:!0,mode:"aggressive",useConstraintAttrs:!0}),A=function(){return R},N=function(e){R=o(o({},R),e)},j=function(e){N(e)};function P(e){var t,n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?m(e)&&e._$$isNormalized?e:m(e)?Object.keys(e).reduce((function(t,n){var r=[];return r=!0===e[n]?[]:Array.isArray(e[n])||m(e[n])?e[n]:[e[n]],!1!==e[n]&&(t[n]=M(n,r)),t}),n):"string"!=typeof e?(t="rules must be either a string or an object.",console.warn("[vee-validate] "+t),n):e.split("|").reduce((function(e,t){var n=L(t);return n.name?(e[n.name]=M(n.name,n.params),e):e}),n):n}function M(e,t){var n=k.getRuleDefinition(e);if(!n)return t;var r,o,c={};if(!n.params&&!Array.isArray(t))throw new Error("You provided an object params to a rule that has no defined schema.");if(Array.isArray(t)&&!n.params)return t;!n.params||n.params.length<t.length&&Array.isArray(t)?r=t.map((function(e,t){var r,param=null===(r=n.params)||void 0===r?void 0:r[t];return o=param||o,param||(param=o),param})):r=n.params;for(var i=0;i<r.length;i++){var l=r[i],h=l.default;Array.isArray(t)?i in t&&(h=t[i]):l.name in t?h=t[l.name]:1===r.length&&(h=t),l.isTarget&&(h=U(h,l.cast)),"string"==typeof h&&"@"===h[0]&&(h=U(h.slice(1),l.cast)),!w(h)&&l.cast&&(h=l.cast(h)),c[l.name]?(c[l.name]=Array.isArray(c[l.name])?c[l.name]:[c[l.name]],c[l.name].push(h)):c[l.name]=h}return c}var L=function(e){var t=[],n=e.split(":")[0];return E(e,":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function U(e,t){var n=function(n){var r=n[e];return t?t(r):r};return n.__locatorRef=e,n}function F(e,t,n){return void 0===n&&(n={}),c(this,void 0,void 0,(function(){var r,o,c,h,d,f;return l(this,(function(l){switch(l.label){case 0:return r=null==n?void 0:n.bails,o=null==n?void 0:n.skipIfEmpty,[4,V({name:(null==n?void 0:n.name)||"{field}",rules:P(t),bails:null==r||r,skipIfEmpty:null==o||o,forceRequired:!1,crossTable:(null==n?void 0:n.values)||{},names:(null==n?void 0:n.names)||{},customMessages:(null==n?void 0:n.customMessages)||{}},e,n)];case 1:return c=l.sent(),h=[],d={},f={},c.errors.forEach((function(e){var t=e.msg();h.push(t),d[e.rule]=t,f[e.rule]=e.msg})),[2,{valid:c.valid,required:c.required,errors:h,failedRules:d,regenerateMap:f}]}}))}))}function V(e,t,n){var r=(void 0===n?{}:n).isInitial,o=void 0!==r&&r;return c(this,void 0,void 0,(function(){var n,r,c,h,d,f,i,m,v;return l(this,(function(l){switch(l.label){case 0:return[4,B(e,t)];case 1:if(n=l.sent(),r=n.shouldSkip,c=n.required,h=n.errors,r)return[2,{valid:!h.length,required:c,errors:h}];d=Object.keys(e.rules).filter((function(e){return!k.isRequireRule(e)})),f=d.length,i=0,l.label=2;case 2:return i<f?o&&k.isLazy(d[i])?[3,4]:(m=d[i],[4,$(e,t,{name:m,params:e.rules[m]})]):[3,5];case 3:if(!(v=l.sent()).valid&&v.error&&(h.push(v.error),e.bails))return[2,{valid:!1,required:c,errors:h}];l.label=4;case 4:return i++,[3,2];case 5:return[2,{valid:!h.length,required:c,errors:h}]}}))}))}function B(e,t){return c(this,void 0,void 0,(function(){var n,r,o,c,h,d,i,v,y;return l(this,(function(l){switch(l.label){case 0:n=Object.keys(e.rules).filter(k.isRequireRule),r=n.length,o=[],c=f(t)||""===t||(w=t,Array.isArray(w)&&0===w.length),h=c&&e.skipIfEmpty,i=0,l.label=1;case 1:return i<r?(v=n[i],[4,$(e,t,{name:v,params:e.rules[v]})]):[3,4];case 2:if(y=l.sent(),!m(y))throw new Error("Require rules has to return an object (see docs)");if(void 0!==y.required&&(d=y.required),!y.valid&&y.error&&(o.push(y.error),e.bails))return[2,{shouldSkip:!0,required:y.required,errors:o}];l.label=3;case 3:return i++,[3,1];case 4:return(!c||d||e.skipIfEmpty)&&(e.bails||h)?[2,{shouldSkip:!d&&c,required:d,errors:o}]:[2,{shouldSkip:!1,required:d,errors:o}]}var w}))}))}function $(e,t,n){return c(this,void 0,void 0,(function(){var r,c,h,d,f;return l(this,(function(l){switch(l.label){case 0:if(!(r=k.getRuleDefinition(n.name))||!r.validate)throw new Error("No such validator '"+n.name+"' exists.");return c=r.castValue?r.castValue(t):t,h=function(e,t){if(Array.isArray(e))return e.map((function(param){var e="string"==typeof param&&"@"===param[0]?param.slice(1):param;return e in t?t[e]:param}));var n={},r=function(e){return w(e)?e(t):e};return Object.keys(e).forEach((function(param){n[param]=r(e[param])})),n}(n.params,e.crossTable),[4,r.validate(c,h)];case 1:return"string"==typeof(d=l.sent())?(f=o(o({},h||{}),{_field_:e.name,_value_:t,_rule_:n.name}),[2,{valid:!1,error:{rule:n.name,msg:function(){return x(d,f)}}}]):(m(d)||(d={valid:d}),[2,{valid:d.valid,required:d.required,error:d.valid?void 0:H(e,t,r,n.name,h)}])}}))}))}function H(e,t,n,r,c){var l,h=null!==(l=e.customMessages[r])&&void 0!==l?l:n.message,d=function(e,t,n){var r=t.params;if(!r)return{};var o=r.filter((function(param){return param.isTarget})).length;if(o<=0)return{};var c={},l=e.rules[n];!Array.isArray(l)&&m(l)&&(l=r.map((function(param){return l[param.name]})));for(var h=0;h<r.length;h++){var param=r[h],d=l[h];if(w(d)){d=d.__locatorRef;var f=e.names[d]||d;c[param.name]=f,c["_"+param.name+"_"]=e.crossTable[d]}}return c}(e,n,r),f=function(e,t,n,r){var o={},c=e.rules[n],l=t.params||[];if(!c)return{};return Object.keys(c).forEach((function(t,n){var r=c[t];if(!w(r))return{};var param=l[n];if(!param)return{};var h=r.__locatorRef;o[param.name]=e.names[h]||h,o["_"+param.name+"_"]=e.crossTable[h]})),{userTargets:o,userMessage:r}}(e,n,r,h),v=f.userTargets,y=f.userMessage,_=o(o(o(o({},c||{}),{_field_:e.name,_value_:t,_rule_:r}),d),v);return{msg:function(){return function(template,e,t){if("function"==typeof template)return template(e,t);return x(template,o(o({},t),{_field_:e}))}(y||A().defaultMessage,e.name,_)},rule:r}}var z={aggressive:function(){return{on:["input","blur"]}},eager:function(e){return e.errors.length?{on:["input","change"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change","blur"]}}},W=new r.default;!function(){function e(e,t){this.container={},this.locale=e,this.merge(t)}e.prototype.resolve=function(e,t,n){return this.format(this.locale,e,t,n)},e.prototype.format=function(e,t,n,r){var c,l,h,d,f,m,v,w,_,E=null===(h=null===(l=null===(c=this.container[e])||void 0===c?void 0:c.fields)||void 0===l?void 0:l[t])||void 0===h?void 0:h[n],S=null===(f=null===(d=this.container[e])||void 0===d?void 0:d.messages)||void 0===f?void 0:f[n];return(_=E||S||"")||(_="{_field_} is not valid"),t=null!==(w=null===(v=null===(m=this.container[e])||void 0===m?void 0:m.names)||void 0===v?void 0:v[t])&&void 0!==w?w:t,y(_)?_(t,r):x(_,o(o({},r),{_field_:t}))},e.prototype.merge=function(e){O(this.container,e)},e.prototype.hasRule=function(e){var t,n;return!!(null===(n=null===(t=this.container[this.locale])||void 0===t?void 0:t.messages)||void 0===n?void 0:n[e])}}();var G=function e(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var t,i,n;if(Array.isArray(a)){if((t=a.length)!=b.length)return!1;for(i=t;0!=i--;)if(!e(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((t=(n=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,n[i]))return!1;for(i=t;0!=i--;){var r=n[i];if(!e(a[r],b[r]))return!1}return!0}return a!=a&&b!=b};function Y(e){var t,n,r;if(!(r=e)||!("undefined"!=typeof Event&&y(Event)&&r instanceof Event||r&&r.srcElement))return e;var input=e.target;if("file"===input.type&&input.files)return S(input.files);if(null===(t=input._vModifiers)||void 0===t?void 0:t.number){var o=parseFloat(input.value);return d(o)?input.value:o}return(null===(n=input._vModifiers)||void 0===n?void 0:n.trim)&&"string"==typeof input.value?input.value.trim():input.value}var K=function(e){var t,n=(null===(t=e.data)||void 0===t?void 0:t.attrs)||e.elm;return!("input"!==e.tag||n&&n.type)||("textarea"===e.tag||E(["text","password","search","email","tel","url","number"],null==n?void 0:n.type))};function X(e){if(e.data){var t,n,r,o,c=e.data;if("model"in c)return c.model;if(e.data.directives)return t=e.data.directives,n=function(e){return"model"===e.name},r=Array.isArray(t)?t:S(t),-1===(o=_(r,n))?void 0:r[o]}}function Z(e){var t,n,r=X(e);if(r)return{value:r.value};var o=J(e),c=(null==o?void 0:o.prop)||"value";return(null===(t=e.componentOptions)||void 0===t?void 0:t.propsData)&&c in e.componentOptions.propsData?{value:e.componentOptions.propsData[c]}:(null===(n=e.data)||void 0===n?void 0:n.domProps)&&"value"in e.data.domProps?{value:e.data.domProps.value}:void 0}function Q(e){if(!Array.isArray(e)&&void 0!==Z(e))return[e];var t=function(e){return Array.isArray(e)?e:Array.isArray(e.children)?e.children:e.componentOptions&&Array.isArray(e.componentOptions.children)?e.componentOptions.children:[]}(e);return t.reduce((function(e,t){var n=Q(t);return n.length&&e.push.apply(e,n),e}),[])}function J(e){return e.componentOptions?e.componentOptions.Ctor.options.model:null}function ee(e,t,n){if(f(e[t]))e[t]=[n];else{if(y(e[t])&&e[t].fns){var r=e[t];return r.fns=Array.isArray(r.fns)?r.fns:[r.fns],void(E(r.fns,n)||r.fns.push(n))}if(y(e[t])){var o=e[t];e[t]=[o]}Array.isArray(e[t])&&!E(e[t],n)&&e[t].push(n)}}function te(e,t,n){e.componentOptions?function(e,t,n){e.componentOptions&&(e.componentOptions.listeners||(e.componentOptions.listeners={}),ee(e.componentOptions.listeners,t,n))}(e,t,n):function(e,t,n){e.data||(e.data={}),f(e.data.on)&&(e.data.on={}),ee(e.data.on,t,n)}(e,t,n)}function ne(e,t){var n;return e.componentOptions?(J(e)||{event:"input"}).event:(null===(n=null==t?void 0:t.modifiers)||void 0===n?void 0:n.lazy)?"change":K(e)?"input":"change"}function re(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.attrs;if(!E(["input","select","textarea"],e.tag)||!n)return{};var r={};return"required"in n&&!1!==n.required&&k.getRuleDefinition("required")&&(r.required="checkbox"!==n.type||[!0]),K(e)?P(o(o({},r),function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.attrs,r={};return n?("email"===n.type&&k.getRuleDefinition("email")&&(r.email=["multiple"in n]),n.pattern&&k.getRuleDefinition("regex")&&(r.regex=n.pattern),n.maxlength>=0&&k.getRuleDefinition("max")&&(r.max=n.maxlength),n.minlength>=0&&k.getRuleDefinition("min")&&(r.min=n.minlength),"number"===n.type&&(v(n.min)&&k.getRuleDefinition("min_value")&&(r.min_value=Number(n.min)),v(n.max)&&k.getRuleDefinition("max_value")&&(r.max_value=Number(n.max))),r):r}(e))):P(r)}function ie(e,t){return e.$scopedSlots.default?e.$scopedSlots.default(t)||[]:e.$slots.default||[]}function oe(e,t){return!(e._ignoreImmediate||!e.immediate)||(n=e.value,r=t,!(d(n)&&d(r)||n===r||!e.normalizedEvents.length)||(!!e._needsValidation||!e.initialized&&void 0===t));var n,r}function se(e){return o(o({},e.flags),{errors:e.errors,classes:e.classes,failedRules:e.failedRules,reset:function(){return e.reset()},validate:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.validate.apply(e,t)},ariaInput:{"aria-invalid":e.flags.invalid?"true":"false","aria-required":e.isRequired?"true":"false","aria-errormessage":"vee_"+e.id},ariaMsg:{id:"vee_"+e.id,"aria-live":e.errors.length?"assertive":"off"}})}function ae(e,t){e.initialized||(e.initialValue=t);var n=oe(e,t);if(e._needsValidation=!1,e.value=t,e._ignoreImmediate=!0,n){var r=function(){if(e.immediate||e.flags.validated)return ce(e);e.validateSilent()};e.initialized?r():e.$once("hook:mounted",(function(){return r()}))}}function ue(e){return(y(e.mode)?e.mode:z[e.mode])(e)}function ce(e){var t=e.validateSilent();return e._pendingValidation=t,t.then((function(n){return t===e._pendingValidation&&(e.applyResult(n),e._pendingValidation=void 0),n}))}function le(e){e.$veeOnInput||(e.$veeOnInput=function(t){e.syncValue(t),e.setFlags({dirty:!0,pristine:!1})});var t=e.$veeOnInput;e.$veeOnBlur||(e.$veeOnBlur=function(){e.setFlags({touched:!0,untouched:!1})});var n=e.$veeOnBlur,r=e.$veeHandler,o=ue(e);return r&&e.$veeDebounce===e.debounce||(r=I((function(){e.$nextTick((function(){e._pendingReset||ce(e),e._pendingReset=!1}))}),o.debounce||e.debounce),e.$veeHandler=r,e.$veeDebounce=e.debounce),{onInput:t,onBlur:n,onValidate:r}}var he=0;var de=r.default.extend({name:"ValidationProvider",inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},observe:function(e){this.refs[e.id]=e},unobserve:function(e){delete this.refs[e]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:String,default:""},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return A().mode}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return A().bails}},skipIfEmpty:{type:Boolean,default:function(){return A().skipOptional}},debounce:{type:Number,default:0},tag:{type:String,default:"span"},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},customMessages:{type:Object,default:function(){return{}}},detectInput:{type:Boolean,default:!0}},watch:{rules:{deep:!0,handler:function(e,t){this._needsValidation=!G(e,t)}}},data:function(){return{errors:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1},failedRules:{},isActive:!0,fieldName:"",id:""}},computed:{fieldDeps:function(){var e=this;return Object.keys(this.normalizedRules).reduce((function(t,n){var r,o=(r=e.normalizedRules[n],Array.isArray(r)?r.filter((function(param){return w(param)||"string"==typeof param&&"@"===param[0]})):Object.keys(r).filter((function(e){return w(r[e])})).map((function(e){return r[e]}))).map((function(e){return w(e)?e.__locatorRef:e.slice(1)}));return t.push.apply(t,o),o.forEach((function(t){fe(e,t)})),t}),[])},normalizedEvents:function(){var e=this;return(ue(this).on||[]).map((function(t){return"input"===t?e._inputEventName:t}))},isRequired:function(){var e=o(o({},this._resolvedRules),this.normalizedRules),t=Object.keys(e).some(k.isRequireRule);return this.flags.required=!!t,t},classes:function(){return function(e,t){for(var n={},r=Object.keys(t),o=r.length,c=function(i){var o=r[i],c=e&&e[o]||o,l=t[o];return f(l)?"continue":"valid"!==o&&"invalid"!==o||t.validated?void("string"==typeof c?n[c]=l:Array.isArray(c)&&c.forEach((function(e){n[e]=l}))):"continue"},i=0;i<o;i++)c(i);return n}(A().classes,this.flags)},normalizedRules:function(){return P(this.rules)}},mounted:function(){var e=this,t=function(){if(e.flags.validated){var t=e._regenerateMap;if(t){var n=[],r={};return Object.keys(t).forEach((function(e){var o=t[e]();n.push(o),r[e]=o})),void e.applyResult({errors:n,failedRules:r,regenerateMap:t})}e.validate()}};W.$on("change:locale",t),this.$on("hook:beforeDestroy",(function(){W.$off("change:locale",t)}))},render:function(e){var t=this;this.registerField();var n=ie(this,se(this));if(this.detectInput){var r=Q(n);r.length&&r.forEach((function(input,e){var n,r,o,c,l,h;if(E(["checkbox","radio"],null===(r=null===(n=input.data)||void 0===n?void 0:n.attrs)||void 0===r?void 0:r.type)||!(e>0)){var d=A().useConstraintAttrs?re(input):{};G(t._resolvedRules,d)||(t._needsValidation=!0),E(["input","select","textarea"],input.tag)&&(t.fieldName=(null===(c=null===(o=input.data)||void 0===o?void 0:o.attrs)||void 0===c?void 0:c.name)||(null===(h=null===(l=input.data)||void 0===l?void 0:l.attrs)||void 0===h?void 0:h.id)),t._resolvedRules=d,function(e,t){var n=Z(t);e._inputEventName=e._inputEventName||ne(t,X(t)),ae(e,null==n?void 0:n.value);var r=le(e),o=r.onInput,c=r.onBlur,l=r.onValidate;te(t,e._inputEventName,o),te(t,"blur",c),e.normalizedEvents.forEach((function(e){te(t,e,l)})),e.initialized=!0}(t,input)}}))}return this.slim&&n.length<=1?n[0]:e(this.tag,n)},beforeDestroy:function(){this.$_veeObserver.unobserve(this.id)},activated:function(){this.isActive=!0},deactivated:function(){this.isActive=!1},methods:{setFlags:function(e){var t=this;Object.keys(e).forEach((function(n){t.flags[n]=e[n]}))},syncValue:function(e){var t=Y(e);this.value=t,this.flags.changed=!G(this.initialValue,t)},reset:function(){var e=this;this.errors=[],this.initialValue=this.value;var t={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1};t.required=this.isRequired,this.setFlags(t),this.failedRules={},this.validateSilent(),this._pendingValidation=void 0,this._pendingReset=!0,setTimeout((function(){e._pendingReset=!1}),this.debounce)},validate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(this,void 0,void 0,(function(){return l(this,(function(t){return e.length>0&&this.syncValue(e[0]),[2,ce(this)]}))}))},validateSilent:function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return this.setFlags({pending:!0}),e=o(o({},this._resolvedRules),this.normalizedRules),Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),[4,F(this.value,e,o(o({name:this.name||this.fieldName},(r=this,c=r.$_veeObserver.refs,{names:{},values:{}},r.fieldDeps.reduce((function(e,t){return c[t]?(e.values[t]=c[t].value,e.names[t]=c[t].name,e):e}),{names:{},values:{}}))),{bails:this.bails,skipIfEmpty:this.skipIfEmpty,isInitial:!this.initialized,customMessages:this.customMessages}))];case 1:return t=n.sent(),this.setFlags({pending:!1,valid:t.valid,invalid:!t.valid}),void 0!==t.required&&this.setFlags({required:t.required}),[2,t]}var r,c}))}))},setErrors:function(e){this.applyResult({errors:e,failedRules:{}})},applyResult:function(e){var t=e.errors,n=e.failedRules,r=e.regenerateMap;this.errors=t,this._regenerateMap=r,this.failedRules=o({},n||{}),this.setFlags({valid:!t.length,passed:!t.length,invalid:!!t.length,failed:!!t.length,validated:!0,changed:!G(this.value,this.initialValue)})},registerField:function(){!function(e){var t=function(e){if(e.vid)return e.vid;if(e.name)return e.name;if(e.id)return e.id;if(e.fieldName)return e.fieldName;return"_vee_"+ ++he}(e),n=e.id;if(!e.isActive||n===t&&e.$_veeObserver.refs[n])return;n!==t&&e.$_veeObserver.refs[n]===e&&e.$_veeObserver.unobserve(n);e.id=t,e.$_veeObserver.observe(e)}(this)},checkComputesRequiredState:function(){var e=o(o({},this._resolvedRules),this.normalizedRules);return Object.keys(e).some(k.isRequireRule)}}});function fe(e,t,n){void 0===n&&(n=!0);var r=e.$_veeObserver.refs;if(e._veeWatchers||(e._veeWatchers={}),!r[t]&&n)return e.$once("hook:mounted",(function(){fe(e,t,!1)}));!y(e._veeWatchers[t])&&r[t]&&(e._veeWatchers[t]=r[t].$watch("value",(function(){var t=e.checkComputesRequiredState();e.flags.validated&&(e._needsValidation=!0,e.validate()),t&&!e.flags.validated&&e.validateSilent()})))}var pe=[["pristine","every"],["dirty","some"],["touched","some"],["untouched","every"],["valid","every"],["invalid","some"],["pending","some"],["validated","every"],["changed","some"],["passed","every"],["failed","some"]],me=0;var ge=r.default.extend({name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"},vid:{type:String,default:function(){return"obs_"+me++}},slim:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{id:"",refs:{},observers:[],errors:{},flags:be(),fields:{}}},created:function(){var e=this;this.id=this.vid,ye(this);var t=I((function(t){var n=t.errors,r=t.flags,o=t.fields;e.errors=n,e.flags=r,e.fields=o}),16);this.$watch(we,t)},activated:function(){ye(this)},deactivated:function(){ve(this)},beforeDestroy:function(){ve(this)},render:function(e){var t,n=ie(this,o(o({},(t=this).flags),{errors:t.errors,fields:t.fields,validate:t.validate,validateWithInfo:t.validateWithInfo,passes:t.handleSubmit,handleSubmit:t.handleSubmit,reset:t.reset}));return this.slim&&n.length<=1?n[0]:e(this.tag,{on:this.$listeners},n)},methods:{observe:function(e,t){var n;void 0===t&&(t="provider"),"observer"!==t?this.refs=o(o({},this.refs),((n={})[e.id]=e,n)):this.observers.push(e)},unobserve:function(e,t){if(void 0===t&&(t="provider"),"provider"!==t){var n=_(this.observers,(function(t){return t.id===e}));-1!==n&&this.observers.splice(n,1)}else{if(!this.refs[e])return;this.$delete(this.refs,e)}},validateWithInfo:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return c(this,void 0,void 0,(function(){var e,t,r,o,c,d;return l(this,(function(l){switch(l.label){case 0:return[4,Promise.all(h(T(this.refs).filter((function(e){return!e.disabled})).map((function(e){return e[n?"validateSilent":"validate"]().then((function(e){return e.valid}))})),this.observers.filter((function(e){return!e.disabled})).map((function(e){return e.validate({silent:n})}))))];case 1:return e=l.sent(),t=e.every((function(e){return e})),r=we.call(this),o=r.errors,c=r.flags,d=r.fields,this.errors=o,this.flags=c,this.fields=d,[2,{errors:o,flags:c,fields:d,isValid:t}]}}))}))},validate:function(e){var t=(void 0===e?{}:e).silent,n=void 0!==t&&t;return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.validateWithInfo({silent:n})];case 1:return[2,e.sent().isValid]}}))}))},handleSubmit:function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.validate()];case 1:return t.sent()&&e?[2,e()]:[2]}}))}))},reset:function(){return h(T(this.refs),this.observers).forEach((function(e){return e.reset()}))},setErrors:function(e){var t=this;Object.keys(e).forEach((function(n){var r=t.refs[n];if(r){var o=e[n]||[];o="string"==typeof o?[o]:o,r.setErrors(o)}})),this.observers.forEach((function(t){t.setErrors(e)}))}}});function ve(e){e.$_veeObserver&&e.$_veeObserver.unobserve(e.id,"observer")}function ye(e){e.$_veeObserver&&e.$_veeObserver.observe(e,"observer")}function be(){return o(o({},{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1,passed:!1,failed:!1}),{valid:!0,invalid:!1})}function we(){for(var e=h(T(this.refs),this.observers.filter((function(e){return!e.disabled}))),t={},n=be(),r={},c=e.length,i=0;i<c;i++){var l=e[i];Array.isArray(l.errors)?(t[l.id]=l.errors,r[l.id]=o({id:l.id,name:l.name,failedRules:l.failedRules},l.flags)):(t=o(o({},t),l.errors),r=o(o({},r),l.fields))}return pe.forEach((function(t){var r=t[0],o=t[1];n[r]=e[o]((function(e){return e.flags[r]}))})),{errors:t,flags:n,fields:r}}},,,,,,,,,,,,function(e,t,n){var r=n(376),o=n(377),c=36e5,l=6e4,h=/[T ]/,d=/:/,f=/^(\d{2})$/,m=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],v=/^(\d{4})/,y=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],w=/^-(\d{2})$/,_=/^-?(\d{3})$/,E=/^-?(\d{2})-?(\d{2})$/,S=/^-?W(\d{2})$/,T=/^-?W(\d{2})-?(\d{1})$/,O=/^(\d{2}([.,]\d*)?)$/,I=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,C=/([Z+-].*)$/,k=/^(Z)$/,D=/^([+-])(\d{2})$/,R=/^([+-])(\d{2}):?(\d{2})$/;function A(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}e.exports=function(e,t){if(o(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var N=function(e){var t,n={},r=e.split(h);d.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]);if(t){var o=C.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e),j=function(e,t){var n,r=m[t],o=y[t];if(n=v.exec(e)||o.exec(e)){var c=n[1];return{year:parseInt(c,10),restDateString:e.slice(c.length)}}if(n=f.exec(e)||r.exec(e)){var l=n[1];return{year:100*parseInt(l,10),restDateString:e.slice(l.length)}}return{year:null}}(N.date,n),P=j.year,M=function(e,t){if(null===t)return null;var n,r,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=w.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=_.exec(e)){r=new Date(0);var c=parseInt(n[1],10);return r.setUTCFullYear(t,0,c),r}if(n=E.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return r.setUTCFullYear(t,o,l),r}if(n=S.exec(e))return A(t,parseInt(n[1],10)-1);if(n=T.exec(e)){return A(t,parseInt(n[1],10)-1,parseInt(n[2],10)-1)}return null}(j.restDateString,P);if(M){var L,U=M.getTime(),time=0;if(N.time&&(time=function(e){var t,n,r;if(t=O.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*c;if(t=I.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*c+r*l;if(t=x.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*c+r*l+1e3*o}return null}(N.time)),N.timezone)L=function(e){var t,n;if(t=k.exec(e))return 0;if(t=D.exec(e))return n=60*parseInt(t[2],10),"+"===t[1]?-n:n;if(t=R.exec(e))return n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n;return 0}(N.timezone)*l;else{var F=U+time,V=new Date(F);L=r(V);var B=new Date(F);B.setDate(V.getDate()+1);var $=r(B)-r(V);$>0&&(L+=$)}return new Date(U+time+L)}return new Date(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(369);var r=n(0),o=n(1),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=Object(r.qb)(),t}return Object(o.b)(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,o=this.context,c=[],l=Object(r.Nb)(o.options);return e&&c.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),c.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Object(r.lb)(r.K,{viewSpec:o.viewSpec},(function(e,t){return Object(r.lb)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(r.lb)(r.F,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:c}))}))},t.prototype.renderHScrollLayout=function(e,t,n,o){var c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");var l=this.props,h=this.context,d=!l.forPrint&&Object(r.Nb)(h.options),f=!l.forPrint&&Object(r.Mb)(h.options),m=[];return e&&m.push({type:"header",key:"header",isSticky:d,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),f&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:r.qc}]}),Object(r.lb)(r.K,{viewSpec:h.viewSpec},(function(e,t){return Object(r.lb)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(r.lb)(c,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:n,minWidth:o}]}],sections:m}))}))},t}(r.i);function l(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var r=0,o=e;r<o.length;r++){var c=o[r];n[c.row].push(c)}return n}function h(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var r=0,o=e;r<o.length;r++){var c=o[r];n[c.firstCol].push(c)}return n}function d(e,t){var n=[];if(e){for(i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var c=o[r];n[c.row].segs.push(c)}}else for(var i=0;i<t;i+=1)n[i]=null;return n}var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=Object(r.bb)(this.context,e.date);return Object(r.lb)(r.k,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:m},(function(n,c){return(c||e.forceDayTop)&&Object(r.lb)("div",{className:"fc-daygrid-day-top",ref:n},Object(r.lb)("a",Object(o.a)({id:e.dayNumberId,className:"fc-daygrid-day-number"},t),c||Object(r.lb)(r.v,null," ")))}))},t}(r.b);function m(e){return e.dayNumberText}var v=Object(r.ob)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function y(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props;return Object(r.lb)(r.I,Object(o.a)({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:v,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(r.b),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||v,c=Object(r.cb)(e.seg,n,t,!0,e.defaultDisplayEventEnd);return Object(r.lb)(r.u,{seg:e.seg,timeText:c,defaultContent:E,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(n,c,l,h){return Object(r.lb)("a",Object(o.a)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(c).join(" "),ref:n},Object(r.Kb)(e.seg,t)),h)}))},t}(r.b);function E(e){return Object(r.lb)(r.v,null,Object(r.lb)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Object(r.lb)("div",{className:"fc-event-time"},e.timeText),Object(r.lb)("div",{className:"fc-event-title"},e.event.title||Object(r.lb)(r.v,null," ")))}var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileSegs=Object(r.dc)(T),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,c=t.invisibleSegs;return Object(r.lb)(r.x,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:c,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Object(r.lb)(r.v,null,n.map((function(n){var c=n.eventRange.instance.instanceId;return Object(r.lb)("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:t[c]?"hidden":""}},y(n)?Object(r.lb)(_,Object(o.a)({seg:n,isDragging:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},Object(r.Lb)(n,e.todayRange))):Object(r.lb)(w,Object(o.a)({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},Object(r.Lb)(n,e.todayRange))))})))}},(function(e,t,n,c,l,title,h,d){return Object(r.lb)("a",Object(o.a)({ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),title:title,"aria-expanded":h,"aria-controls":d},Object(r.jb)(l)),c)}))},t}(r.b);function T(e){for(var t=[],n=[],r=0,o=e;r<o.length;r++){var c=o[r];t.push(c.seg),c.isVisible||n.push(c.seg)}return{allSegs:t,invisibleSegs:n}}var O=Object(r.ob)({week:"narrow"}),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(r.qb)(),t.state={dayNumberId:Object(r.Ob)()},t.handleRootEl=function(e){Object(r.rc)(t.rootElRef,e),Object(r.rc)(t.props.elRef,e)},t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=e.context,n=e.props,c=e.state,l=e.rootElRef,h=n.date,d=n.dateProfile,m=Object(r.bb)(t,h,"week");return Object(r.lb)(r.l,{date:h,dateProfile:d,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,elRef:this.handleRootEl},(function(e,t,v,y){return Object(r.lb)("td",Object(o.a)({ref:e,role:"gridcell",className:["fc-daygrid-day"].concat(t,n.extraClassNames||[]).join(" ")},v,n.extraDataAttrs,n.showDayNumber?{"aria-labelledby":c.dayNumberId}:{}),Object(r.lb)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:n.innerElRef},n.showWeekNumber&&Object(r.lb)(r.L,{date:h,defaultFormat:O},(function(e,t,n,c){return Object(r.lb)("a",Object(o.a)({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},m),c)})),!y&&Object(r.lb)(f,{date:h,dateProfile:d,showDayNumber:n.showDayNumber,dayNumberId:c.dayNumberId,forceDayTop:n.forceDayTop,todayRange:n.todayRange,extraHookProps:n.extraHookProps}),Object(r.lb)("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,Object(r.lb)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},Object(r.lb)(S,{allDayDate:h,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:l,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),Object(r.lb)("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}))},t}(r.i);function x(e,t,n,r,o,c,l){var h=new k;h.allowReslicing=!0,h.strictOrder=r,!0===t||!0===n?(h.maxCoord=c,h.hiddenConsumes=!0):"number"==typeof t?h.maxStackCnt=t:"number"==typeof n&&(h.maxStackCnt=n,h.hiddenConsumes=!0);for(var d=[],f=[],i=0;i<e.length;i+=1){var m=o[(A=e[i]).eventRange.instance.instanceId];null!=m?d.push({index:i,thickness:m,span:{start:A.firstCol,end:A.lastCol+1}}):f.push(A)}for(var v=h.addSegs(d),y=function(e,t,n){for(var r=function(e,t){for(var n=[],col=0;col<t;col+=1)n.push([]);for(var r=0,o=e;r<o.length;r++){var rect=o[r];for(col=rect.span.start;col<rect.span.end;col+=1)n[col].push(rect)}return n}(e,n.length),o=[],c=[],l=[],col=0;col<n.length;col+=1){for(var h=r[col],d=[],f=0,m=0,v=0,y=h;v<y.length;v++){var w=t[(rect=y[v]).index];d.push({seg:C(w,col,col+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:rect.levelCoord,marginTop:rect.levelCoord-f}),f=rect.levelCoord+rect.thickness}var _=[];f=0,m=0;for(var E=0,S=h;E<S.length;E++){w=t[(rect=S[E]).index];var rect,T=rect.span.end-rect.span.start>1,O=rect.span.start===col;m+=rect.levelCoord-f,f=rect.levelCoord+rect.thickness,T?(m+=rect.thickness,O&&_.push({seg:C(w,rect.span.start,rect.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:rect.levelCoord,marginTop:0})):O&&(_.push({seg:C(w,rect.span.start,rect.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:rect.levelCoord,marginTop:m}),m=0)}o.push(d),c.push(_),l.push(m)}return{singleColPlacements:o,multiColPlacements:c,leftoverMargins:l}}(h.toRects(),e,l),w=y.singleColPlacements,_=y.multiColPlacements,E=y.leftoverMargins,S=[],T=[],O=0,I=f;O<I.length;O++){_[(A=I[O]).firstCol].push({seg:A,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var col=A.firstCol;col<=A.lastCol;col+=1)w[col].push({seg:C(A,col,col+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(col=0;col<l.length;col+=1)S.push(0);for(var x=0,D=v;x<D.length;x++){var R=D[x],A=e[R.index],N=R.span;_[N.start].push({seg:C(A,N.start,N.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(col=N.start;col<N.end;col+=1)S[col]+=1,w[col].push({seg:C(A,col,col+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(col=0;col<l.length;col+=1)T.push(E[col]);return{singleColPlacements:w,multiColPlacements:_,moreCnts:S,moreMarginTops:T}}function C(e,t,n,c){if(e.firstCol===t&&e.lastCol===n-1)return e;var l=e.eventRange,h=l.range,d=Object(r.Ub)(h,{start:c[t].date,end:Object(r.N)(c[n-1].date,1)});return Object(o.a)(Object(o.a)({},e),{firstCol:t,lastCol:n-1,eventRange:{def:l.def,ui:Object(o.a)(Object(o.a)({},l.ui),{durationEditable:!1}),instance:l.instance,range:d},isStart:e.isStart&&d.start.valueOf()===h.start.valueOf(),isEnd:e.isEnd&&d.end.valueOf()===h.end.valueOf()})}var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return Object(o.b)(t,e),t.prototype.addSegs=function(t){for(var n=this,o=e.prototype.addSegs.call(this,t),c=this.entriesByLevel,l=function(e){return!n.forceHidden[Object(r.X)(e)]},h=0;h<c.length;h+=1)c[h]=c[h].filter(l);return o},t.prototype.handleInvalidInsertion=function(t,n,c){var l=this.entriesByLevel,h=this.forceHidden,d=t.touchingEntry,f=t.touchingLevel,m=t.touchingLateral;if(this.hiddenConsumes&&d){var v=Object(r.X)(d);if(!h[v])if(this.allowReslicing){var y=Object(o.a)(Object(o.a)({},d),{span:Object(r.Wb)(d.span,n.span)});h[Object(r.X)(y)]=!0,l[f][m]=y,this.splitEntry(d,n,c)}else h[v]=!0,c.push(d)}return e.prototype.handleInvalidInsertion.call(this,t,n,c)},t}(r.E),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new r.B,t.frameElRefs=new r.B,t.fgElRefs=new r.B,t.segHarnessRefs=new r.B,t.rootElRef=Object(r.qb)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,o=t.state,c=t.context.options,l=n.cells.length,d=h(n.businessHourSegs,l),f=h(n.bgEventSegs,l),m=h(this.getHighlightSegs(),l),v=h(this.getMirrorSegs(),l),y=x(Object(r.sc)(n.fgEventSegs,c.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,c.eventOrderStrict,o.eventInstanceHeights,o.maxContentHeight,n.cells),w=y.singleColPlacements,_=y.multiColPlacements,E=y.moreCnts,S=y.moreMarginTops,T=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return Object(r.lb)("tr",{ref:this.rootElRef,role:"row"},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,col){var o=e.renderFgSegs(col,n.forPrint?w[col]:_[col],n.todayRange,T),c=e.renderFgSegs(col,function(e,t){if(!e.length)return[];var n=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var o=0,c=r[n];o<c.length;o++){var l=c[o];t[l.seg.eventRange.instance.instanceId]=l.absoluteTop}return t}(t);return e.map((function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}}))}(v[col],_),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return Object(r.lb)(I,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&0===col,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:E[col],moreMarginTop:S[col],singlePlacements:w[col],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:Object(r.lb)(r.v,null,Object(r.lb)(r.v,null,o),Object(r.lb)(r.v,null,c)),bgContent:Object(r.lb)(r.v,null,e.renderFillSegs(m[col],"highlight"),e.renderFillSegs(d[col],"non-business"),e.renderFillSegs(f[col],"bg-event"))})})))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!Object(r.bc)(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(col,e,t,n,c,l,h){var d=this.context,f=this.props.eventSelection,m=this.state.framePositions,v=1===this.props.cells.length,E=c||l||h,S=[];if(m)for(var T=0,O=e;T<O.length;T++){var I=O[T],x=I.seg,C=x.eventRange.instance.instanceId,k=C+":"+col,D=I.isVisible&&!n[C],R=I.isAbsolute,A="",N="";R&&(d.isRtl?(N=0,A=m.lefts[x.lastCol]-m.lefts[x.firstCol]):(A=0,N=m.rights[x.firstCol]-m.rights[x.lastCol])),S.push(Object(r.lb)("div",{className:"fc-daygrid-event-harness"+(R?" fc-daygrid-event-harness-abs":""),key:k,ref:E?null:this.segHarnessRefs.createRef(k),style:{visibility:D?"":"hidden",marginTop:R?"":I.marginTop,top:R?I.absoluteTop:"",left:A,right:N}},y(x)?Object(r.lb)(_,Object(o.a)({seg:x,isDragging:c,isSelected:C===f,defaultDisplayEventEnd:v},Object(r.Lb)(x,t))):Object(r.lb)(w,Object(o.a)({seg:x,isDragging:c,isResizing:l,isDateSelecting:h,isSelected:C===f,defaultDisplayEventEnd:v},Object(r.Lb)(x,t)))))}return S},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,c=this.props.todayRange,l=this.state.framePositions,h=[];if(l)for(var d=0,f=e;d<f.length;d++){var m=f[d],v=n?{right:0,left:l.lefts[m.lastCol]-l.lefts[m.firstCol]}:{left:0,right:l.rights[m.firstCol]-l.rights[m.lastCol]};h.push(Object(r.lb)("div",{key:Object(r.Z)(m.eventRange),className:"fc-daygrid-bg-harness",style:v},"bg-event"===t?Object(r.lb)(r.c,Object(o.a)({seg:m},Object(r.Lb)(m,c))):Object(r.pc)(t)))}return r.lb.apply(void 0,Object(o.d)([r.v,{}],h))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(!t.forPrint&&null!==t.clientWidth){if(e){var c=t.cells.map((function(e){return n.currentMap[e.key]}));if(c.length){var l=this.rootElRef.current;this.setState({framePositions:new r.A(l,c,!0,!1)})}}var h=this.state.eventInstanceHeights,d=this.queryEventInstanceHeights(),f=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({eventInstanceHeights:Object(o.a)(Object(o.a)({},h),d),maxContentHeight:f?this.computeMaxContentHeight():null})}},t.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var r=Math.round(e[n].getBoundingClientRect().height),o=n.split(":")[0];t[o]=Math.max(t[o]||0,r)}return t},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},t}(r.i);D.addStateEquality({eventInstanceHeights:r.bc});var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=Object(r.dc)(l),t.splitBgEventSegs=Object(r.dc)(l),t.splitFgEventSegs=Object(r.dc)(l),t.splitDateSelectionSegs=Object(r.dc)(l),t.splitEventDrag=Object(r.dc)(d),t.splitEventResize=Object(r.dc)(d),t.rowRefs=new r.B,t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,o=t.dayMaxEventRows,c=t.dayMaxEvents,l=t.expandRows,h=t.cells.length,d=this.splitBusinessHourSegs(t.businessHourSegs,h),f=this.splitBgEventSegs(t.bgEventSegs,h),m=this.splitFgEventSegs(t.fgEventSegs,h),v=this.splitDateSelectionSegs(t.dateSelectionSegs,h),y=this.splitEventDrag(t.eventDrag,h),w=this.splitEventResize(t.eventResize,h),_=!0===c||!0===o;_&&!l&&(_=!1,o=null,c=null);var E=["fc-daygrid-body",_?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"];return Object(r.lb)("div",{className:E.join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(r.lb)(r.z,{unit:"day"},(function(_,E){return Object(r.lb)(r.v,null,Object(r.lb)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:l?t.clientHeight:""}},t.colGroupNode,Object(r.lb)("tbody",{role:"presentation"},t.cells.map((function(l,_){return Object(r.lb)(D,{ref:e.rowRefs.createRef(_),key:l.length?l[0].date.toISOString():_,showDayNumbers:h>1,showWeekNumbers:t.showWeekNumbers,todayRange:E,dateProfile:n,cells:l,renderIntro:t.renderRowIntro,businessHourSegs:d[_],eventSelection:t.eventSelection,bgEventSegs:f[_].filter(A),fgEventSegs:m[_],dateSelectionSegs:v[_],eventDrag:y[_],eventResize:w[_],dayMaxEvents:c,dayMaxEventRows:o,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})})))))})))},t.prototype.prepareHits=function(){this.rowPositions=new r.A(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new r.A(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.queryHit=function(e,t){var n=this.colPositions,r=this.rowPositions,col=n.leftToIndex(e),c=r.topToIndex(t);if(null!=c&&null!=col){var l=this.props.cells[c][col];return{dateProfile:this.props.dateProfile,dateSpan:Object(o.a)({range:this.getCellRange(c,col),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(c,col),rect:{left:n.lefts[col],right:n.rights[col],top:r.tops[c],bottom:r.bottoms[c]},layer:0}}return null},t.prototype.getCellEl=function(e,col){return this.rowRefs.currentMap[e].getCellEls()[col]},t.prototype.getCellRange=function(e,col){var t=this.props.cells[e][col].date;return{start:t,end:Object(r.N)(t,1)}},t}(r.i);function A(e){return e.eventRange.def.allDay}var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return Object(o.b)(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(r.G),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new N,t.tableRef=Object(r.qb)(),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return Object(r.lb)(R,Object(o.a)({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t}(r.i),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=Object(r.dc)(M),t.headerRef=Object(r.qb)(),t.tableRef=Object(r.qb)(),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateProfileGenerator,c=this.props,l=this.buildDayTableModel(c.dateProfile,o),h=n.dayHeaders&&Object(r.lb)(r.m,{ref:this.headerRef,dateProfile:c.dateProfile,dates:l.headerDates,datesRepDistinctDays:1===l.rowCnt}),d=function(t){return Object(r.lb)(j,{ref:e.tableRef,dateProfile:c.dateProfile,dayTableModel:l,businessHours:c.businessHours,dateSelection:c.dateSelection,eventStore:c.eventStore,eventUiBases:c.eventUiBases,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!c.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:c.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(h,d,l.colCnt,n.dayMinWidth):this.renderSimpleLayout(h,d)},t}(c);function M(e,t){var n=new r.n(e.renderRange,t);return new r.o(n,/year|month|week/.test(e.currentRangeUnit))}var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.buildRenderRange=function(t,n,o){var c,l=this.props.dateEnv,h=e.prototype.buildRenderRange.call(this,t,n,o),d=h.start,f=h.end;if(/^(year|month)$/.test(n)&&(d=l.startOfWeek(d),(c=l.startOfWeek(f)).valueOf()!==f.valueOf()&&(f=Object(r.P)(c,1))),this.props.monthMode&&this.props.fixedWeekCount){var m=Math.ceil(Object(r.ub)(d,f));f=Object(r.P)(f,6-m)}return{start:d,end:f}},t}(r.j),main=Object(r.pb)({initialView:"dayGridMonth",views:{dayGrid:{component:P,dateProfileGeneratorClass:L},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});t.b=main},function(e,t,n){"use strict";var r=n(30);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","9.9.4","app-compat")},function(e,t,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},,,,function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=function(){},t.hasOwn=function(e,t){return d.call(e,t)},t.toObject=function(e){for(var t={},i=0;i<e.length;i++)e[i]&&f(t,e[i]);return t},t.getPropByPath=function(e,path,t){for(var n=e,r=(path=(path=path.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,o=r.length;i<o-1&&(n||t);++i){var c=r[i];if(!(c in n)){if(t)throw new Error("please transfer a valid prop path to form item!");break}n=n[c]}return{o:n,k:r[i],v:n?n[r[i]]:null}},t.rafThrottle=function(e){var t=!1;return function(){for(var n=this,r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,o),t=!1})))}},t.objToArray=function(e){if(Array.isArray(e))return e;return w(e)?[]:[e]};var o,c=n(5),l=(o=c)&&o.__esModule?o:{default:o},h=n(206);var d=Object.prototype.hasOwnProperty;function f(e,t){for(var n in t)e[n]=t[n];return e}t.getValueByPath=function(object,e){for(var t=(e=e||"").split("."),n=object,r=null,i=0,o=t.length;i<o;i++){var path=t[i];if(!n)break;if(i===o-1){r=n[path];break}n=n[path]}return r};t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(a,b){if(a===b)return!0;if(!(a instanceof Array))return!1;if(!(b instanceof Array))return!1;if(a.length!==b.length)return!1;for(var i=0;i!==a.length;++i)if(a[i]!==b[i])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var m=t.arrayFindIndex=function(e,t){for(var i=0;i!==e.length;++i)if(t(e[i]))return i;return-1},v=(t.arrayFind=function(e,t){var n=m(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!l.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!l.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!l.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(style){if("object"!==(void 0===style?"undefined":r(style)))return style;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(t){var n=style[t];t&&n&&e.forEach((function(e){style[e+t]=n}))})),style},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,h.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(a,b){var e=(0,h.isObject)(a),t=(0,h.isObject)(b);return e&&t?JSON.stringify(a)===JSON.stringify(b):!e&&!t&&String(a)===String(b)}),y=t.arrayEquals=function(e,t){if(t=t||[],(e=e||[]).length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!v(e[i],t[i]))return!1;return!0},w=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?y(e,t):v(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1})},,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=w,t.addClass=function(e,t){if(!e)return;for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var c=r[i];c&&(e.classList?e.classList.add(c):w(e,c)||(n+=" "+c))}e.classList||e.setAttribute("class",n)},t.removeClass=function(e,t){if(!e||!t)return;for(var n=t.split(" "),r=" "+e.className+" ",i=0,o=n.length;i<o;i++){var c=n[i];c&&(e.classList?e.classList.remove(c):w(e,c)&&(r=r.replace(" "+c+" "," ")))}e.classList||e.setAttribute("class",(r||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))},t.setStyle=function e(element,t,n){if(!element||!t)return;if("object"===(void 0===t?"undefined":r(t)))for(var o in t)t.hasOwnProperty(o)&&e(element,o,t[o]);else"opacity"===(t=m(t))&&f<9?element.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":element.style[t]=n};var o,c=n(5);var l=((o=c)&&o.__esModule?o:{default:o}).default.prototype.$isServer,h=/([\:\-\_]+(.))/g,d=/^moz([A-Z])/,f=l?0:Number(document.documentMode),m=function(e){return e.replace(h,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(d,"Moz$1")},v=t.on=!l&&document.addEventListener?function(element,e,t){element&&e&&t&&element.addEventListener(e,t,!1)}:function(element,e,t){element&&e&&t&&element.attachEvent("on"+e,t)},y=t.off=!l&&document.removeEventListener?function(element,e,t){element&&e&&element.removeEventListener(e,t,!1)}:function(element,e,t){element&&e&&element.detachEvent("on"+e,t)};t.once=function(e,t,n){v(e,t,(function r(){n&&n.apply(this,arguments),y(e,t,r)}))};function w(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}var _=t.getStyle=f<9?function(element,e){if(!l){if(!element||!e)return null;"float"===(e=m(e))&&(e="styleFloat");try{if("opacity"===e)try{return element.filters.item("alpha").opacity/100}catch(e){return 1}return element.style[e]||element.currentStyle?element.currentStyle[e]:null}catch(t){return element.style[e]}}}:function(element,e){if(!l){if(!element||!e)return null;"float"===(e=m(e))&&(e="cssFloat");try{var t=document.defaultView.getComputedStyle(element,"");return element.style[e]||t?t[e]:null}catch(t){return element.style[e]}}};var E=t.isScroll=function(e,t){if(!l)return _(e,null!=t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto|overlay)/)};t.getScrollContainer=function(e,t){if(!l){for(var n=e;n;){if([window,document,document.documentElement].includes(n))return window;if(E(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(l||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(370);var r=n(0),o=n(1),c=n(65),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?Object(r.Qb)(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(r.H),h=Object(r.ob)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function d(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Object(r.lb)(r.J.Consumer,null,(function(n){if(!e.isLabeled)return Object(r.lb)("td",{className:t.join(" "),"data-time":e.isoTimeStr});var o=n.dateEnv,c=n.options,l=n.viewApi,d=null==c.slotLabelFormat?h:Array.isArray(c.slotLabelFormat)?Object(r.ob)(c.slotLabelFormat[0]):Object(r.ob)(c.slotLabelFormat),m={level:0,time:e.time,date:o.toDate(e.date),view:l,text:o.format(e.date,d)};return Object(r.lb)(r.C,{hookProps:m,classNames:c.slotLabelClassNames,content:c.slotLabelContent,defaultContent:f,didMount:c.slotLabelDidMount,willUnmount:c.slotLabelWillUnmount},(function(n,o,c,l){return Object(r.lb)("td",{ref:n,className:t.concat(o).join(" "),"data-time":e.isoTimeStr},Object(r.lb)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Object(r.lb)("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:c},l)))}))}))}function f(e){return e.text}var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return Object(r.lb)("tr",{key:e.key},Object(r.lb)(d,Object(o.a)({},e)))}))},t}(r.b),v=Object(r.ob)({week:"short"}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new l,t.headerElRef=Object(r.qb)(),t.rootElRef=Object(r.qb)(),t.scrollerElRef=Object(r.qb)(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e,n){void 0===n&&(n="");var c=t.context.options,l=t.props.dateProfile.renderRange,h=1===Object(r.sb)(l.start,l.end)?Object(r.bb)(t.context,l.start,"week"):{};return c.weekNumbers&&"day"===e?Object(r.lb)(r.L,{date:l.start,defaultFormat:v},(function(e,t,c,l){return Object(r.lb)("th",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},Object(r.lb)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},Object(r.lb)("a",Object(o.a)({ref:c,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},h),l)))})):Object(r.lb)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Object(r.lb)("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},t.renderTableRowAxis=function(e){var n=t.context,o=n.options,c=n.viewApi,l={text:o.allDayText,view:c};return Object(r.lb)(r.C,{hookProps:l,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:w,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},(function(t,n,o,c){return Object(r.lb)("td",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},Object(r.lb)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},Object(r.lb)("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:o},c)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return Object(o.b)(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var o=this.context,c=this.props,l=[],h=Object(r.Nb)(o.options);return e&&l.push({type:"header",key:"header",isSticky:h,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(l.push({type:"body",key:"all-day",chunk:{content:t}}),l.push({type:"body",key:"all-day-divider",outerContent:Object(r.lb)("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(r.lb)("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),Object(r.lb)(r.K,{viewSpec:o.viewSpec,elRef:this.rootElRef},(function(e,t){return Object(r.lb)("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},Object(r.lb)(r.F,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,cols:[{width:"shrink"}],sections:l}))}))},t.prototype.renderHScrollLayout=function(e,t,n,o,c,l,h){var d=this,f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var v=this.context,y=this.props,w=!y.forPrint&&Object(r.Nb)(v.options),_=!y.forPrint&&Object(r.Mb)(v.options),E=[];e&&E.push({type:"header",key:"header",isSticky:w,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return Object(r.lb)("tr",{role:"presentation"},d.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(E.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return Object(r.lb)("tr",{role:"presentation"},d.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),E.push({key:"all-day-divider",type:"body",outerContent:Object(r.lb)("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(r.lb)("td",{colSpan:2,className:"fc-timegrid-divider "+v.theme.getClass("tableCellShaded")}))}));var S=v.options.nowIndicator;return E.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(v.options.expandRows),chunks:[{key:"axis",content:function(e){return Object(r.lb)("div",{className:"fc-timegrid-axis-chunk"},Object(r.lb)("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,Object(r.lb)("tbody",null,Object(r.lb)(m,{slatMetas:l}))),Object(r.lb)("div",{className:"fc-timegrid-now-indicator-container"},Object(r.lb)(r.z,{unit:S?"minute":"day"},(function(e){var t=S&&h&&h.safeComputeTop(e);return"number"==typeof t?Object(r.lb)(r.y,{isAxis:!0,date:e},(function(e,n,o,c){return Object(r.lb)("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},c)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),_&&E.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:r.qc},{key:"cols",content:r.qc}]}),Object(r.lb)(r.K,{viewSpec:v.viewSpec,elRef:this.rootElRef},(function(e,t){return Object(r.lb)("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},Object(r.lb)(f,{liquid:!y.isHeightAuto&&!y.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:c}]}],sections:E}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},t}(r.i);function w(e){return e.text}var _=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(Object(r.kc)(t.currentRange,e)){var n=Object(r.tc)(e),o=e.valueOf()-n.valueOf();if(o>=Object(r.V)(t.slotMinTime)&&o<Object(r.V)(t.slotMaxTime))return this.computeTimeTop(Object(r.kb)(o))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=Object(r.tc)(e)),this.computeTimeTop(Object(r.kb)(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,o=this.positions,c=this.dateProfile,l=o.els.length,h=(e.milliseconds-Object(r.V)(c.slotMinTime))/Object(r.V)(this.slotDuration);return h=Math.max(0,h),h=Math.min(l,h),t=Math.floor(h),n=h-(t=Math.min(t,l-1)),o.tops[t]+o.getHeight(t)*n},e}(),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,c=e.slatElRefs;return Object(r.lb)("tbody",null,e.slatMetas.map((function(l,i){var h={time:l.time,date:t.dateEnv.toDate(l.date),view:t.viewApi},f=["fc-timegrid-slot","fc-timegrid-slot-lane",l.isLabeled?"":"fc-timegrid-slot-minor"];return Object(r.lb)("tr",{key:l.key,ref:c.createRef(l.key)},e.axis&&Object(r.lb)(d,Object(o.a)({},l)),Object(r.lb)(r.C,{hookProps:h,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,o){return Object(r.lb)("td",{ref:e,className:f.concat(t).join(" "),"data-time":l.isoTimeStr},o)})))})))},t}(r.b),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(r.qb)(),t.slatElRefs=new r.B,t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return Object(r.lb)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Object(r.lb)("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,Object(r.lb)(E,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e,t=this.context,n=this.props;n.onCoords&&null!==n.clientWidth&&(this.rootElRef.current.offsetHeight&&n.onCoords(new _(new r.A(this.rootElRef.current,(e=this.slatElRefs.currentMap,n.slatMetas.map((function(t){return e[t.key]}))),!1,!0),this.props.dateProfile,t.options.slotDuration)))},t}(r.b);function T(e,t){var i,n=[];for(i=0;i<t;i+=1)n.push([]);if(e)for(i=0;i<e.length;i+=1)n[e[i].col].push(e[i]);return n}function O(e,t){var n=[];if(e){for(i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var c=o[r];n[c.col].segs.push(c)}}else for(var i=0;i<t;i+=1)n[i]=null;return n}var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(r.qb)(),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.props;return Object(r.lb)(r.x,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:x,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return U(t.hiddenSegs,t)}},(function(n,o,c,l,h,title,d,f){return Object(r.lb)("a",{ref:function(t){Object(r.rc)(n,t),Object(r.rc)(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(o).join(" "),style:{top:t.top,bottom:t.bottom},onClick:h,title:title,"aria-expanded":d,"aria-controls":f},Object(r.lb)("div",{ref:c,className:"fc-timegrid-more-link-inner fc-sticky"},l))}))},t}(r.b);function x(e){return e.shortText}function C(e,t,n){var c=new r.E;null!=t&&(c.strictOrder=t),null!=n&&(c.maxStackCnt=n);var l,h,d,f=c.addSegs(e),m=Object(r.Pb)(f),v=function(e){var t=e.entriesByLevel,n=A((function(e,t){return e+":"+t}),(function(c,l){var h=function(e,t,n){for(var o=e.levelCoords,c=e.entriesByLevel,l=c[t][n],h=o[t]+l.thickness,d=o.length,f=t;f<d&&o[f]<h;f+=1);for(;f<d;f+=1){for(var m=c[f],v=void 0,y=Object(r.W)(m,l.span.start,r.Gb),w=y[0]+y[1],_=w;(v=m[_])&&v.span.start<l.span.end;)_+=1;if(w<_)return{level:f,lateralStart:w,lateralEnd:_}}return null}(e,c,l),d=k(h,n),f=t[c][l];return[Object(o.a)(Object(o.a)({},f),{nextLevelNodes:d[0]}),f.thickness+d[1]]}));return k(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(c);return l=v,h=1,d=A((function(e,t,n){return Object(r.X)(e)}),(function(e,t,n){var r,c=e.nextLevelNodes,l=e.thickness,f=l+n,m=l/f,v=[];if(c.length)for(var y=0,w=c;y<w.length;y++){var _=w[y];if(void 0===r)r=(E=d(_,t,f))[0],v.push(E[1]);else{var E=d(_,r,0);v.push(E[1])}}else r=h;var S=(r-t)*m;return[r-S,Object(o.a)(Object(o.a)({},e),{thickness:S,nextLevelNodes:v})]})),{segRects:function(e){var t=[],n=A((function(e,t,n){return Object(r.X)(e)}),(function(e,n,r){var rect=Object(o.a)(Object(o.a)({},e),{levelCoord:n,stackDepth:r,stackForward:0});return t.push(rect),rect.stackForward=c(e.nextLevelNodes,n+e.thickness,r+1)+1}));function c(e,t,r){for(var o=0,c=0,l=e;c<l.length;c++){var h=l[c];o=Math.max(n(h,t,r),o)}return o}return c(e,0,0),t}(v=l.map((function(e){return d(e,0,0)[1]}))),hiddenGroups:m}}function k(e,t){if(!e)return[[],0];for(var n=e.level,r=e.lateralStart,o=e.lateralEnd,c=r,l=[];c<o;)l.push(t(n,c)),c+=1;return l.sort(D),[l.map(R),l[0][1]]}function D(a,b){return b[1]-a[1]}function R(a){return a[0]}function A(e,t){var n={};return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var c=e.apply(void 0,r);return c in n?n[c]:n[c]=t.apply(void 0,r)}}function N(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=0);var o=[];if(n)for(var i=0;i<e.length;i+=1){var c=e[i],l=n.computeDateTop(c.start,t),h=Math.max(l+(r||0),n.computeDateTop(c.end,t));o.push({start:Math.round(l),end:Math.round(h)})}return o}var j=Object(r.ob)({hour:"numeric",minute:"2-digit",meridiem:!1}),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),Object(r.lb)(r.I,Object(o.a)({},this.props,{defaultTimeFormat:j,extraClassNames:e}))},t}(r.b),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props;return Object(r.lb)(r.k,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&Object(r.lb)("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(r.b),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortEventSegs=Object(r.dc)(r.sc),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,c=n.options.selectMirror,l=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||c&&t.dateSelectionSegs||[],h=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},d=this.sortEventSegs(t.fgEventSegs,n.options.eventOrder);return Object(r.lb)(r.l,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(n,f,m){return Object(r.lb)("td",Object(o.a)({ref:n,role:"gridcell",className:["fc-timegrid-col"].concat(f,t.extraClassNames||[]).join(" ")},m,t.extraDataAttrs),Object(r.lb)("div",{className:"fc-timegrid-col-frame"},Object(r.lb)("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),Object(r.lb)("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(d,h,!1,!1,!1)),Object(r.lb)("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(l,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(c))),Object(r.lb)("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),Object(r.lb)(M,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,r,o){var c=this.props;return c.forPrint?U(e,c):this.renderPositionedFgSegs(e,t,n,r,o)},t.prototype.renderPositionedFgSegs=function(e,t,n,c,l){var h=this,d=this.context.options,f=d.eventMaxStack,m=d.eventShortHeight,v=d.eventOrderStrict,y=d.eventMinHeight,w=this.props,_=w.date,E=w.slatCoords,S=w.eventSelection,T=w.todayRange,O=w.nowDate,I=n||c||l,x=function(e,t,n,r){for(var o=[],c=[],i=0;i<e.length;i+=1){var l=t[i];l?o.push({index:i,thickness:1,span:l}):c.push(e[i])}for(var h=C(o,n,r),d=h.segRects,f=h.hiddenGroups,m=[],v=0,y=d;v<y.length;v++){var w=y[v];m.push({seg:e[w.index],rect:w})}for(var _=0,E=c;_<E.length;_++){var S=E[_];m.push({seg:S,rect:null})}return{segPlacements:m,hiddenGroups:f}}(e,N(e,_,E,y),v,f),k=x.segPlacements,D=x.hiddenGroups;return Object(r.lb)(r.v,null,this.renderHiddenGroups(D,e),k.map((function(e){var d=e.seg,rect=e.rect,f=d.eventRange.instance.instanceId,v=I||Boolean(!t[f]&&rect),y=F(rect&&rect.span),w=!I&&rect?h.computeSegHStyle(rect):{left:0,right:0},_=Boolean(rect)&&rect.stackForward>0,E=Boolean(rect)&&rect.span.end-rect.span.start<m;return Object(r.lb)("div",{className:"fc-timegrid-event-harness"+(_?" fc-timegrid-event-harness-inset":""),key:f,style:Object(o.a)(Object(o.a)({visibility:v?"":"hidden"},y),w)},Object(r.lb)(P,Object(o.a)({seg:d,isDragging:n,isResizing:c,isDateSelecting:l,isSelected:f===S,isShort:E},Object(r.Lb)(d,T,O))))})))},t.prototype.renderHiddenGroups=function(e,t){var n=this.props,o=n.extraDateSpan,c=n.dateProfile,l=n.todayRange,h=n.nowDate,d=n.eventSelection,f=n.eventDrag,m=n.eventResize;return Object(r.lb)(r.v,null,e.map((function(e){var n,v,y=F(e.span),w=(n=e.entries,v=t,n.map((function(e){return v[e.index]})));return Object(r.lb)(I,{key:Object(r.ab)(Object(r.eb)(w)),hiddenSegs:w,top:y.top,bottom:y.bottom,extraDateSpan:o,dateProfile:c,todayRange:l,nowDate:h,eventSelection:d,eventDrag:f,eventResize:m})})))},t.prototype.renderFillSegs=function(e,t){var n=this.props,c=this.context,l=N(e,n.date,n.slatCoords,c.options.eventMinHeight).map((function(c,i){var l=e[i];return Object(r.lb)("div",{key:Object(r.Z)(l.eventRange),className:"fc-timegrid-bg-harness",style:F(c)},"bg-event"===t?Object(r.lb)(r.c,Object(o.a)({seg:l},Object(r.Lb)(l,n.todayRange,n.nowDate))):Object(r.pc)(t))}));return Object(r.lb)(r.v,null,l)},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,o=t.date;return n?e.map((function(e,i){return Object(r.lb)(r.y,{isAxis:!1,date:o,key:i},(function(t,c,l,h){return Object(r.lb)("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(c).join(" "),style:{top:n.computeDateTop(e.start,o)}},h)}))})):null},t.prototype.computeSegHStyle=function(e){var t,n,r=this.context,o=r.isRtl,c=r.options.slotEventOverlap,l=e.levelCoord,h=e.levelCoord+e.thickness;c&&(h=Math.min(1,l+2*(h-l))),o?(t=1-h,n=l):(t=l,n=1-h);var d={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return c&&!e.stackForward&&(d[o?"marginLeft":"marginRight"]=20),d},t}(r.b);function U(e,t){var n=t.todayRange,c=t.nowDate,l=t.eventSelection,h=t.eventDrag,d=t.eventResize,f=(h?h.affectedInstances:null)||(d?d.affectedInstances:null)||{};return Object(r.lb)(r.v,null,e.map((function(e){var t=e.eventRange.instance.instanceId;return Object(r.lb)("div",{key:t,style:{visibility:f[t]?"hidden":""}},Object(r.lb)(P,Object(o.a)({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===l,isShort:!1},Object(r.Lb)(e,n,c))))})))}function F(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=Object(r.dc)(T),t.splitBgEventSegs=Object(r.dc)(T),t.splitBusinessHourSegs=Object(r.dc)(T),t.splitNowIndicatorSegs=Object(r.dc)(T),t.splitDateSelectionSegs=Object(r.dc)(T),t.splitEventDrag=Object(r.dc)(O),t.splitEventResize=Object(r.dc)(O),t.rootElRef=Object(r.qb)(),t.cellElRefs=new r.B,t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),o=t.cells.length,c=this.splitFgEventSegs(t.fgEventSegs,o),l=this.splitBgEventSegs(t.bgEventSegs,o),h=this.splitBusinessHourSegs(t.businessHourSegs,o),d=this.splitNowIndicatorSegs(t.nowIndicatorSegs,o),f=this.splitDateSelectionSegs(t.dateSelectionSegs,o),m=this.splitEventDrag(t.eventDrag,o),v=this.splitEventResize(t.eventResize,o);return Object(r.lb)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Object(r.lb)("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,Object(r.lb)("tbody",{role:"presentation"},Object(r.lb)("tr",{role:"row"},t.axis&&Object(r.lb)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Object(r.lb)("div",{className:"fc-timegrid-col-frame"},Object(r.lb)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&Object(r.lb)(r.y,{isAxis:!0,date:t.nowDate},(function(e,t,o,c){return Object(r.lb)("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},c)}))))),t.cells.map((function(n,i){return Object(r.lb)(L,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:c[i],bgEventSegs:l[i],businessHourSegs:h[i],nowIndicatorSegs:d[i],dateSelectionSegs:f[i],eventDrag:m[i],eventResize:v[i],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e,t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new r.A(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((function(t){return e[t.key]}))),!0,!1))},t}(r.b);var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=Object(r.dc)($),t.state={slatCoords:null},t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,r=t.state.slatCoords;if(n&&r){if(e.time){var o=r.computeTimeTop(e.time);(o=Math.ceil(o))&&(o+=1),n(o)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return Object(r.lb)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Object(r.lb)(S,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Object(r.lb)(V,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.queryHit=function(e,t){var n=this.context,c=n.dateEnv,l=n.options,h=this.colCoords,d=this.props.dateProfile,f=this.state.slatCoords,m=this.processSlotOptions(this.props.slotDuration,l.snapDuration),v=m.snapDuration,y=m.snapsPerSlot,w=h.leftToIndex(e),_=f.positions.topToIndex(t);if(null!=w&&null!=_){var E=this.props.cells[w],S=f.positions.tops[_],T=f.positions.getHeight(_),O=(t-S)/T,I=_*y+Math.floor(O*y),x=this.props.cells[w].date,time=Object(r.O)(d.slotMinTime,Object(r.ec)(v,I)),C=c.add(x,time),k=c.add(C,v);return{dateProfile:d,dateSpan:Object(o.a)({range:{start:C,end:k},allDay:!1},E.extraDateSpan),dayEl:h.els[w],rect:{left:h.lefts[w],right:h.rights[w],top:S,bottom:S+T},layer:0}}return null},t}(r.i);function $(e,t){var n=t||e,o=Object(r.xc)(e,n);return null===o&&(n=e,o=1),{snapDuration:n,snapsPerSlot:o}}var H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],col=0;col<t.length;col+=1){var o=Object(r.Ub)(e,t[col]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:col})}return n},t}(r.G),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=Object(r.dc)(W),t.slicer=new H,t.timeColsRef=Object(r.qb)(),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,c=t.dateProfile,l=t.dayTableModel,h=n.options.nowIndicator,d=this.buildDayRanges(l,c,n.dateEnv);return Object(r.lb)(r.z,{unit:h?"minute":"day"},(function(f,m){return Object(r.lb)(B,Object(o.a)({ref:e.timeColsRef},e.slicer.sliceProps(t,c,null,n,d),{forPrint:t.forPrint,axis:t.axis,dateProfile:c,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:l.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:f,nowIndicatorSegs:h&&e.slicer.sliceNowDate(f,n,d),todayRange:m,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},t}(r.i);function W(e,t,n){for(var r=[],o=0,c=e.headerDates;o<c.length;o++){var l=c[o];r.push({start:n.add(l,t.slotMinTime),end:n.add(l,t.slotMaxTime)})}return r}var G=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Y(e,t,n,o,c){for(var l=new Date(0),h=e,d=Object(r.kb)(0),f=n||function(e){var i,t,n;for(i=G.length-1;i>=0;i-=1)if(t=Object(r.kb)(G[i]),null!==(n=Object(r.xc)(t,e))&&n>1)return t;return e}(o),m=[];Object(r.V)(h)<Object(r.V)(t);){var v=c.add(l,h),y=null!==Object(r.xc)(d,f);m.push({date:v,time:h,key:v.toISOString(),isoTimeStr:Object(r.Bb)(v),isLabeled:y}),h=Object(r.O)(h,o),d=Object(r.O)(d,o)}return m}var K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=Object(r.dc)(X),t.buildSlatMetas=Object(r.dc)(Y),t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,l=t.dateEnv,h=t.dateProfileGenerator,d=this.props,f=d.dateProfile,m=this.buildTimeColsModel(f,h),v=this.allDaySplitter.splitProps(d),y=this.buildSlatMetas(f.slotMinTime,f.slotMaxTime,n.slotLabelInterval,n.slotDuration,l),w=n.dayMinWidth,_=!w,E=w,S=n.dayHeaders&&Object(r.lb)(r.m,{dates:m.headerDates,dateProfile:f,datesRepDistinctDays:!0,renderIntro:_?this.renderHeadAxis:null}),T=!1!==n.allDaySlot&&function(t){return Object(r.lb)(c.a,Object(o.a)({},v.allDay,{dateProfile:f,dayTableModel:m,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:_?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:d.forPrint},e.getAllDayMaxEventProps()))},O=function(t){return Object(r.lb)(z,Object(o.a)({},v.timed,{dayTableModel:m,dateProfile:f,axis:_,slotDuration:n.slotDuration,slatMetas:y,forPrint:d.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return E?this.renderHScrollLayout(S,T,O,m.colCnt,w,y,this.state.slatCoords):this.renderSimpleLayout(S,T,O)},t}(y);function X(e,t){var n=new r.n(e.renderRange,t);return new r.o(n,!1)}var Z={allDaySlot:Boolean},main=Object(r.pb)({initialView:"timeGridWeek",optionRefiners:Z,views:{timeGrid:{component:K,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});t.a=main},function(e,t,n){"use strict";var r=n(0),o=n(1);r.hb.touchMouseIgnoreWait=500;var c=0,l=0,h=!1,d=function(){function e(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!t.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&t.tryStart(e)){var n=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var r=e.target;t.shouldIgnoreMove||r.addEventListener("touchmove",t.handleTouchMove),r.addEventListener("touchend",t.handleTouchEnd),r.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,c+=1,setTimeout((function(){c-=1}),r.hb.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,r=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:r,deltaX:n-t.origPageX,deltaY:r-t.origPageY})}},this.containerEl=e,this.emitter=new r.s,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(l+=1)&&window.addEventListener("touchmove",f,{passive:!1})}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(l-=1)||window.removeEventListener("touchmove",f,{passive:!1})},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Object(r.wb)(n,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)},e.prototype.cleanup=function(){h=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?Object(r.wb)(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return c||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(h=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}},e.prototype.createEventFromTouch=function(e,t){var n,r,o=e.touches,c=0,l=0;return o&&o.length?(n=o[0].pageX,r=o[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(c=n-this.origPageX,l=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:c,deltaY:l}},e}();function f(e){h&&e.preventDefault()}var m=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,r=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,o=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Object(r.T)(n,{left:o.left,top:o.top}),Object(r.wc)(n,(function(){n.style.transition="",e()}))},e.prototype.cleanup=function(){this.mirrorEl&&(Object(r.nc)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Object(r.T)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),Object(r.T)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),v=function(e){function t(t,n){var r=e.call(this)||this;return r.handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=t,r.doesListening=n,r.scrollTop=r.origScrollTop=t.getScrollTop(),r.scrollLeft=r.origScrollLeft=t.getScrollLeft(),r.scrollWidth=t.getScrollWidth(),r.scrollHeight=t.getScrollHeight(),r.clientWidth=t.getClientWidth(),r.clientHeight=t.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return Object(o.b)(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(r.D),y=function(e){function t(t,n){return e.call(this,new r.r(t),n)||this}return Object(o.b)(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return Object(r.fb)(this.scrollController.el)},t}(v),w=function(e){function t(t){return e.call(this,new r.M,t)||this}return Object(o.b)(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(v),_="function"==typeof performance?performance.now:Date.now,E=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=_();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,r=t-window.pageYOffset,o=null===this.pointerScreenY?0:r-this.pointerScreenY,c=null===this.pointerScreenX?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++){t[e].destroy()}this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,r=this.edgeThreshold,o=r-e.distance,c=o*o/(r*r)*this.maxVelocity*t,l=1;switch(e.name){case"left":l=-1;case"right":n.setScrollLeft(n.getScrollLeft()+c*l);break;case"top":l=-1;case"bottom":n.setScrollTop(n.getScrollTop()+c*l)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,r=null,o=0,c=this.scrollCaches;o<c.length;o++){var l=c[o],rect=l.clientRect,h=e-rect.left,d=rect.right-e,f=t-rect.top,m=rect.bottom-t;h>=0&&d>=0&&f>=0&&m>=0&&(f<=n&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>f)&&(r={scrollCache:l,name:"top",distance:f}),m<=n&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>m)&&(r={scrollCache:l,name:"bottom",distance:m}),h<=n&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>h)&&(r={scrollCache:l,name:"left",distance:h}),d<=n&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:l,name:"right",distance:d}))}return r},e.prototype.buildCaches=function(e){return this.queryScrollEls(e).map((function(e){return e===window?new w(!1):new y(e,!1)}))},e.prototype.queryScrollEls=function(e){for(var t=[],n=0,o=this.scrollQuery;n<o.length;n++){var c=o[n];"object"==typeof c?t.push(c):t.push.apply(t,Array.prototype.slice.call(Object(r.Eb)(e).querySelectorAll(c)))}return t},e}(),S=function(e){function t(t,n){var o=e.call(this,t)||this;o.containerEl=t,o.delay=null,o.minDistance=0,o.touchScrollAllowed=!0,o.mirrorNeedsRevert=!1,o.isInteracting=!1,o.isDragging=!1,o.isDelayEnded=!1,o.isDistanceSurpassed=!1,o.delayTimeoutId=null,o.onPointerDown=function(e){o.isDragging||(o.isInteracting=!0,o.isDelayEnded=!1,o.isDistanceSurpassed=!1,Object(r.jc)(document.body),Object(r.ic)(document.body),e.isTouch||e.origEvent.preventDefault(),o.emitter.trigger("pointerdown",e),o.isInteracting&&!o.pointer.shouldIgnoreMove&&(o.mirror.setIsVisible(!1),o.mirror.start(e.subjectEl,e.pageX,e.pageY),o.startDelay(e),o.minDistance||o.handleDistanceSurpassed(e)))},o.onPointerMove=function(e){if(o.isInteracting){if(o.emitter.trigger("pointermove",e),!o.isDistanceSurpassed){var t=o.minDistance,n=e.deltaX,r=e.deltaY;n*n+r*r>=t*t&&o.handleDistanceSurpassed(e)}o.isDragging&&("scroll"!==e.origEvent.type&&(o.mirror.handleMove(e.pageX,e.pageY),o.autoScroller.handleMove(e.pageX,e.pageY)),o.emitter.trigger("dragmove",e))}},o.onPointerUp=function(e){o.isInteracting&&(o.isInteracting=!1,Object(r.R)(document.body),Object(r.Q)(document.body),o.emitter.trigger("pointerup",e),o.isDragging&&(o.autoScroller.stop(),o.tryStopDrag(e)),o.delayTimeoutId&&(clearTimeout(o.delayTimeoutId),o.delayTimeoutId=null))};var c=o.pointer=new d(t);return c.emitter.on("pointerdown",o.onPointerDown),c.emitter.on("pointermove",o.onPointerMove),c.emitter.on("pointerup",o.onPointerUp),n&&(c.selector=n),o.mirror=new m,o.autoScroller=new E,o}return Object(o.b)(t,e),t.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},t.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){t.delayTimeoutId=null,t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(r.q),T=function(){function e(e){this.origRect=Object(r.gb)(e),this.scrollCaches=Object(r.Cb)(e).map((function(e){return new y(e,!0)}))}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++){t[e].destroy()}},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollLeft-r.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollTop-r.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n,o,c={left:e,top:t},l=0,h=this.scrollCaches;l<h.length;l++){var d=h[l];if(n=d.getEventTarget(),o=void 0,"HTML"!==(o=n.tagName)&&"BODY"!==o&&!Object(r.hc)(c,d.clientRect))return!1}return!0},e}();var O=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new r.s}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},o=n,c=e.subjectEl;c instanceof HTMLElement&&(t=Object(r.gb)(c),o=Object(r.ib)(o,t));var l=this.initialHit=this.queryHitForOffset(o.left,o.top);if(l){if(this.useSubjectCenter&&t){var h=Object(r.Vb)(t,l.rect);h&&(o=Object(r.Ib)(h))}this.coordAdjust=Object(r.tb)(o,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&I(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=Object(r.cc)(this.droppableStore,(function(e){return e.component.prepareHits(),new T(e.el)}))},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this.droppableStore,o=this.offsetTrackers,c=null;for(var l in n){var component=n[l].component,h=o[l];if(h&&h.isWithinClipping(e,t)){var d=h.computeLeft(),f=h.computeTop(),m=e-d,v=t-f,y=h.origRect,w=y.right-y.left,_=y.bottom-y.top;if(m>=0&&m<w&&v>=0&&v<_){var E=component.queryHit(m,v,w,_);E&&Object(r.lc)(E.dateProfile.activeRange,E.dateSpan.range)&&(!c||E.layer>c.layer)&&(E.componentId=l,E.context=component.context,E.rect.left+=d,E.rect.right+=d,E.rect.top+=f,E.rect.bottom+=f,c=E)}}}return c},e}();function I(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&Object(r.Zb)(e.dateSpan,t.dateSpan)}function x(e,t){for(var span,n,r={},c=0,l=t.pluginHooks.datePointTransforms;c<l.length;c++){var h=l[c];Object(o.a)(r,h(e,t))}return Object(o.a)(r,(span=e,{date:(n=t.dateEnv).toDate(span.range.start),dateStr:n.formatIso(span.range.start,{omitTime:span.allDay}),allDay:span.allDay})),r}var C=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging,r=e.origEvent.target;t.setIgnoreMove(!n.component.isValidDateDownEl(r))},n.handleDragEnd=function(e){var component=n.component;if(!n.dragging.pointer.wasTouchScroll){var t=n.hitDragging,r=t.initialHit,c=t.finalHit;if(r&&c&&I(r,c)){var l=component.context,h=Object(o.a)(Object(o.a)({},x(r.dateSpan,l)),{dayEl:r.dayEl,jsEvent:e.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",h)}}},n.dragging=new S(t.el),n.dragging.autoScroller.isEnabled=!1;var c=n.hitDragging=new O(n.dragging,Object(r.Tb)(t));return c.emitter.on("pointerdown",n.handlePointerDown),c.emitter.on("dragend",n.handleDragEnd),n}return Object(o.b)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(r.w),k=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t=n,component=t.component,r=t.dragging,o=component.context.options.selectable&&component.isValidDateDownEl(e.origEvent.target);r.setIgnoreMove(!o),r.delay=e.isTouch?function(component){var e=component.context.options,t=e.selectLongPressDelay;null==t&&(t=e.longPressDelay);return t}(component):null},n.handleDragStart=function(e){n.component.context.calendarApi.unselect(e)},n.handleHitUpdate=function(e,t){var c=n.component.context,l=null,h=!1;if(e){var d=n.hitDragging.initialHit;e.componentId===d.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(d,e)||(l=function(e,t,n){var c=e.dateSpan,l=t.dateSpan,h=[c.range.start,c.range.end,l.range.start,l.range.end];h.sort(r.db);for(var d={},f=0,m=n;f<m.length;f++){var v=(0,m[f])(e,t);if(!1===v)return null;v&&Object(o.a)(d,v)}return d.range={start:h[0],end:h[3]},d.allDay=c.allDay,d}(d,e,c.pluginHooks.dateSelectionTransformers)),l&&Object(r.Yb)(l,e.dateProfile,c)||(h=!0,l=null)}l?c.dispatch({type:"SELECT_DATES",selection:l}):t||c.dispatch({type:"UNSELECT_DATES"}),h?Object(r.vb)():Object(r.yb)(),t||(n.dragSelection=l)},n.handlePointerUp=function(e){n.dragSelection&&(Object(r.uc)(n.dragSelection,e,n.component.context),n.dragSelection=null)};var c=t.component.context.options,l=n.dragging=new S(t.el);l.touchScrollAllowed=!1,l.minDistance=c.selectMinDistance||0,l.autoScroller.isEnabled=c.dragScroll;var h=n.hitDragging=new O(n.dragging,Object(r.Tb)(t));return h.emitter.on("pointerdown",n.handlePointerDown),h.emitter.on("dragstart",n.handleDragStart),h.emitter.on("hitupdate",n.handleHitUpdate),h.emitter.on("pointerup",n.handlePointerUp),n}return Object(o.b)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(r.w);var D=function(e){function t(n){var c=e.call(this,n)||this;c.subjectEl=null,c.subjectSeg=null,c.isDragging=!1,c.eventRange=null,c.relevantEvents=null,c.receivingContext=null,c.validMutation=null,c.mutatedRelevantEvents=null,c.handlePointerDown=function(e){var t=e.origEvent.target,n=c,component=n.component,o=n.dragging,l=o.mirror,h=component.context.options,d=component.context;c.subjectEl=e.subjectEl;var f=c.subjectSeg=Object(r.Fb)(e.subjectEl),m=(c.eventRange=f.eventRange).instance.instanceId;c.relevantEvents=Object(r.Jb)(d.getCurrentData().eventStore,m),o.minDistance=e.isTouch?0:h.eventDragMinDistance,o.delay=e.isTouch&&m!==component.props.eventSelection?function(component){var e=component.context.options,t=e.eventLongPressDelay;null==t&&(t=e.longPressDelay);return t}(component):null,h.fixedMirrorParent?l.parentNode=h.fixedMirrorParent:l.parentNode=Object(r.wb)(t,".fc"),l.revertDuration=h.dragRevertDuration;var v=component.isValidSegDownEl(t)&&!Object(r.wb)(t,".fc-event-resizer");o.setIgnoreMove(!v),c.isDragging=v&&e.subjectEl.classList.contains("fc-event-draggable")},c.handleDragStart=function(e){var t=c.component.context,n=c.eventRange,o=n.instance.instanceId;e.isTouch?o!==c.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:o}):t.dispatch({type:"UNSELECT_EVENT"}),c.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:c.subjectEl,event:new r.t(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},c.handleHitUpdate=function(e,t){if(c.isDragging){var n=c.relevantEvents,o=c.hitDragging.initialHit,l=c.component.context,h=null,d=null,f=null,m=!1,v={affectedEvents:n,mutatedEvents:Object(r.mb)(),isEvent:!0};if(e){var y=(h=e.context).options;l===h||y.editable&&y.droppable?(d=function(e,t,n){var o=e.dateSpan,c=t.dateSpan,l=o.range.start,h=c.range.start,d={};o.allDay!==c.allDay&&(d.allDay=c.allDay,d.hasEnd=t.context.options.allDayMaintainDuration,c.allDay&&(l=Object(r.tc)(l)));var f=Object(r.rb)(l,h,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);f.milliseconds&&(d.allDay=!1);for(var m={datesDelta:f,standardProps:d},v=0,y=n;v<y.length;v++){(0,y[v])(m,e,t)}return m}(o,e,h.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(f=Object(r.S)(n,h.getCurrentData().eventUiBases,d,h),v.mutatedEvents=f,Object(r.ac)(v,e.dateProfile,h)||(m=!0,d=null,f=null,v.mutatedEvents=Object(r.mb)())):h=null}c.displayDrag(h,v),m?Object(r.vb)():Object(r.yb)(),t||(l===h&&I(o,e)&&(d=null),c.dragging.setMirrorNeedsRevert(!d),c.dragging.setMirrorIsVisible(!e||!Object(r.Eb)(c.subjectEl).querySelector(".fc-event-mirror")),c.receivingContext=h,c.validMutation=d,c.mutatedRelevantEvents=f)}},c.handlePointerUp=function(){c.isDragging||c.cleanup()},c.handleDragEnd=function(e){if(c.isDragging){var t=c.component.context,n=t.viewApi,l=c,h=l.receivingContext,d=l.validMutation,f=c.eventRange.def,m=c.eventRange.instance,v=new r.t(t,f,m),y=c.relevantEvents,w=c.mutatedRelevantEvents,_=c.hitDragging.finalHit;if(c.clearDrag(),t.emitter.trigger("eventDragStop",{el:c.subjectEl,event:v,jsEvent:e.origEvent,view:n}),d){if(h===t){var E=new r.t(t,w.defs[f.defId],m?w.instances[m.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:w});for(var S={oldEvent:v,event:E,relatedEvents:Object(r.Y)(w,t,m),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:y})}},T={},O=0,I=t.getCurrentData().pluginHooks.eventDropTransformers;O<I.length;O++){var C=I[O];Object(o.a)(T,C(d,t))}t.emitter.trigger("eventDrop",Object(o.a)(Object(o.a)(Object(o.a)({},S),T),{el:e.subjectEl,delta:d.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",S)}else if(h){var k={event:v,relatedEvents:Object(r.Y)(y,t,m),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:y})}};t.emitter.trigger("eventLeave",Object(o.a)(Object(o.a)({},k),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:y}),t.emitter.trigger("eventRemove",k);var D=w.defs[f.defId],R=w.instances[m.instanceId],A=new r.t(h,D,R);h.dispatch({type:"MERGE_EVENTS",eventStore:w});var N={event:A,relatedEvents:Object(r.Y)(w,h,R),revert:function(){h.dispatch({type:"REMOVE_EVENTS",eventStore:w})}};h.emitter.trigger("eventAdd",N),e.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),h.emitter.trigger("drop",Object(o.a)(Object(o.a)({},x(_.dateSpan,h)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:_.context.viewApi})),h.emitter.trigger("eventReceive",Object(o.a)(Object(o.a)({},N),{draggedEl:e.subjectEl,view:_.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}c.cleanup()};var l=c.component.context.options,h=c.dragging=new S(n.el);h.pointer.selector=t.SELECTOR,h.touchScrollAllowed=!1,h.autoScroller.isEnabled=l.dragScroll;var d=c.hitDragging=new O(c.dragging,r.Sb);return d.useSubjectCenter=n.useEventCenter,d.emitter.on("pointerdown",c.handlePointerDown),d.emitter.on("dragstart",c.handleDragStart),d.emitter.on("hitupdate",c.handleHitUpdate),d.emitter.on("pointerup",c.handlePointerUp),d.emitter.on("dragend",c.handleDragEnd),c}return Object(o.b)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.component.context,o=this.receivingContext;o&&o!==e&&(o===n?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Object(r.mb)(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t}(r.w);var R=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var component=n.component,t=n.querySegEl(e),o=Object(r.Fb)(t),c=n.eventRange=o.eventRange;n.dragging.minDistance=component.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==c.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,o=n.eventRange;n.relevantEvents=Object(r.Jb)(t.getCurrentData().eventStore,n.eventRange.instance.instanceId);var c=n.querySegEl(e);n.draggingSegEl=c,n.draggingSeg=Object(r.Fb)(c),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:c,event:new r.t(t,o.def,o.instance),jsEvent:e.origEvent,view:t.viewApi})},n.handleHitUpdate=function(e,t,o){var c=n.component.context,l=n.relevantEvents,h=n.hitDragging.initialHit,d=n.eventRange.instance,f=null,m=null,v=!1,y={affectedEvents:l,mutatedEvents:Object(r.mb)(),isEvent:!0};e&&(e.componentId===h.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(h,e)||(f=function(e,t,n,o){var c=e.context.dateEnv,l=e.dateSpan.range.start,h=t.dateSpan.range.start,d=Object(r.rb)(l,h,c,e.largeUnit);if(n){if(c.add(o.start,d)<o.end)return{startDelta:d}}else if(c.add(o.end,d)>o.start)return{endDelta:d};return null}(h,e,o.subjectEl.classList.contains("fc-event-resizer-start"),d.range)));f&&(m=Object(r.S)(l,c.getCurrentData().eventUiBases,f,c),y.mutatedEvents=m,Object(r.ac)(y,e.dateProfile,c)||(v=!0,f=null,m=null,y.mutatedEvents=null)),m?c.dispatch({type:"SET_EVENT_RESIZE",state:y}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),v?Object(r.vb)():Object(r.yb)(),t||(f&&I(h,e)&&(f=null),n.validMutation=f,n.mutatedRelevantEvents=m)},n.handleDragEnd=function(e){var t=n.component.context,c=n.eventRange.def,l=n.eventRange.instance,h=new r.t(t,c,l),d=n.relevantEvents,f=n.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:h,jsEvent:e.origEvent,view:t.viewApi}),n.validMutation){var m=new r.t(t,f.defs[c.defId],l?f.instances[l.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:f});var v={oldEvent:h,event:m,relatedEvents:Object(r.Y)(f,t,l),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}};t.emitter.trigger("eventResize",Object(o.a)(Object(o.a)({},v),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||Object(r.kb)(0),endDelta:n.validMutation.endDelta||Object(r.kb)(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",v)}else t.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var component=t.component,c=n.dragging=new S(t.el);c.pointer.selector=".fc-event-resizer",c.touchScrollAllowed=!1,c.autoScroller.isEnabled=component.context.options.dragScroll;var l=n.hitDragging=new O(n.dragging,Object(r.Tb)(t));return l.emitter.on("pointerdown",n.handlePointerDown),l.emitter.on("dragstart",n.handleDragStart),l.emitter.on("hitupdate",n.handleHitUpdate),l.emitter.on("dragend",n.handleDragEnd),n}return Object(o.b)(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySegEl=function(e){return Object(r.wb)(e.subjectEl,".fc-event")},t}(r.w);var A=function(){function e(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var n=t.context.options.unselectCancel,o=Object(r.Hb)(e.origEvent);t.matchesCancel=!!Object(r.wb)(o,n),t.matchesEvent=!!Object(r.wb)(o,D.SELECTOR)},this.onDocumentPointerUp=function(e){var n=t.context,r=t.documentPointer,o=n.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!t.isRecentPointerDateSelect){var c=n.options.unselectAuto;!c||c&&t.matchesCancel||n.calendarApi.unselect(e)}o.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var n=this.documentPointer=new d(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return e.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},e}(),N={fixedMirrorParent:r.Rb},j={dateClick:r.Rb,eventDragStart:r.Rb,eventDragStop:r.Rb,eventDrop:r.Rb,eventResizeStart:r.Rb,eventResizeStop:r.Rb,eventResize:r.Rb,drop:r.Rb,eventReceive:r.Rb,eventLeave:r.Rb},P=function(){function e(e,t){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,c){var l=n.hitDragging.dragging,h=null,d=null,f=!1,m={affectedEvents:Object(r.mb)(),mutatedEvents:Object(r.mb)(),isEvent:n.dragMeta.create};e&&(h=e.context,n.canDropElOnCalendar(c.subjectEl,h)&&(d=function(e,t,n){for(var c=Object(o.a)({},t.leftoverProps),l=0,h=n.pluginHooks.externalDefTransforms;l<h.length;l++){var d=h[l];Object(o.a)(c,d(e,t))}var f=Object(r.mc)(c,n),m=f.refined,v=f.extra,y=Object(r.gc)(m,v,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),w=e.range.start;e.allDay&&t.startTime&&(w=n.dateEnv.add(w,t.startTime));var _=t.duration?n.dateEnv.add(w,t.duration):Object(r.Db)(e.allDay,w,n),E=Object(r.nb)(y.defId,{start:w,end:_});return{def:y,instance:E}}(e.dateSpan,n.dragMeta,h),m.mutatedEvents=Object(r.zb)(d),(f=!Object(r.ac)(m,e.dateProfile,h))&&(m.mutatedEvents=Object(r.mb)(),d=null))),n.displayDrag(h,m),l.setMirrorIsVisible(t||!d||!document.querySelector(".fc-event-mirror")),f?Object(r.vb)():Object(r.yb)(),t||(l.setMirrorNeedsRevert(!d),n.receivingContext=h,n.droppableEvent=d)},this.handleDragEnd=function(e){var t=n,c=t.receivingContext,l=t.droppableEvent;if(n.clearDrag(),c&&l){var h=n.hitDragging.finalHit,d=h.context.viewApi,f=n.dragMeta;if(c.emitter.trigger("drop",Object(o.a)(Object(o.a)({},x(h.dateSpan,c)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:d})),f.create){var m=Object(r.zb)(l);c.dispatch({type:"MERGE_EVENTS",eventStore:m}),e.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:l.instance.instanceId}),c.emitter.trigger("eventReceive",{event:new r.t(c,l.def,l.instance),relatedEvents:[],revert:function(){c.dispatch({type:"REMOVE_EVENTS",eventStore:m})},draggedEl:e.subjectEl,view:d})}}n.receivingContext=null,n.droppableEvent=null};var c=this.hitDragging=new O(e,r.Sb);c.requireInitial=!1,c.emitter.on("dragstart",this.handleDragStart),c.emitter.on("hitupdate",this.handleHitUpdate),c.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?Object(r.fc)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?Object(r.fc)(this.suppliedDragMeta(e)):(t=function(e,t){var n=r.hb.dataAttrPrefix,o=(n?n+"-":"")+t;return e.getAttribute("data-"+o)||""}(e,"event"),n=t?JSON.parse(t):{create:!1},Object(r.fc)(n));var t,n},e.prototype.displayDrag=function(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.options.dropAccept;return"function"==typeof n?n.call(t.calendarApi,e):"string"!=typeof n||!n||Boolean(Object(r.xb)(e,n))},e}();r.hb.dataAttrPrefix="";!function(){function e(e,t){var n=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=n.dragging,o=n.settings,c=o.minDistance,l=o.longPressDelay;t.minDistance=null!=c?c:e.isTouch?0:r.a.eventDragMinDistance,t.delay=e.isTouch?null!=l?l:r.a.longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&n.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;var o=this.dragging=new S(e);o.touchScrollAllowed=!1,null!=t.itemSelector&&(o.pointer.selector=t.itemSelector),null!=t.appendTo&&(o.mirror.parentNode=t.appendTo),o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),new P(o,t.eventData)}e.prototype.destroy=function(){this.dragging.destroy()}}();var M=function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var r=n.pointer=new d(t);return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("pointermove",n.handlePointerMove),r.emitter.on("pointerup",n.handlePointerUp),n}return Object(o.b)(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},t}(r.q),main=(function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var r=this.dragging=new M(n);"string"==typeof t.itemSelector?r.pointer.selector=t.itemSelector:n===document&&(r.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(r.mirrorSelector=t.mirrorSelector),new P(r,t.eventData)}e.prototype.destroy=function(){this.dragging.destroy()}}(),Object(r.pb)({componentInteractions:[C,k,D,R],calendarInteractions:[A],elementDraggingImpl:S,optionRefiners:N,listenerRefiners:j}));t.a=main},function(e,t,n){"use strict";var r,o,c,l,h,d,f=n(1),m=n(5),v={},y=[],w=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(e,t){for(var u in t)e[u]=t[u];return e}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,u,i){var t,n,o,c={};for(o in u)"key"==o?t=u[o]:"ref"==o?n=u[o]:c[o]=u[o];if(arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===c[o]&&(c[o]=e.defaultProps[o]);return E(e,c,t,n,null)}function E(e,i,t,n,r){var l={type:e,props:i,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++c:r};return null==r&&null!=o.vnode&&o.vnode(l),l}function S(){return{current:null}}function p(e){return e.children}function T(e,t){this.props=e,this.context=t}function O(e,t){if(null==t)return e.__?O(e.__,e.__.__k.indexOf(e)+1):null;for(var u;t<e.__k.length;t++)if(null!=(u=e.__k[t])&&null!=u.__e)return u.__e;return"function"==typeof e.type?O(e):null}function I(e){var t,u;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(u=e.__k[t])&&null!=u.__e){e.__e=e.__c.base=u.__e;break}return I(e)}}function b(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!g.__r++||h!==o.debounceRendering)&&((h=o.debounceRendering)||setTimeout)(g)}function g(){for(var e;g.__r=l.length;)e=l.sort((function(e,t){return e.__v.__b-t.__v.__b})),l=[],e.some((function(e){var t,u,i,n,r,o;e.__d&&(r=(n=(t=e).__v).__e,(o=t.__P)&&(u=[],(i=s({},n)).__v=n.__v+1,P(o,n,i,t.__n,void 0!==o.ownerSVGElement,null!=n.__h?[r]:null,u,null==r?O(n):r,n.__h),M(u,n),n.__e!=r&&I(n)))}))}function x(e,t,u,i,n,r,o,c,s,a){var l,h,d,f,b,g,m,w=i&&i.__k||y,_=w.length;for(u.__k=[],l=0;l<t.length;l++)if(null!=(f=u.__k[l]=null==(f=t[l])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?E(null,f,null,null,f):Array.isArray(f)?E(p,{children:f},null,null,null):f.__b>0?E(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=u,f.__b=u.__b+1,null===(d=w[l])||d&&f.key==d.key&&f.type===d.type)w[l]=void 0;else for(h=0;h<_;h++){if((d=w[h])&&f.key==d.key&&f.type===d.type){w[h]=void 0;break}d=null}P(e,f,d=d||v,n,r,o,c,s,a),b=f.__e,(h=f.ref)&&d.ref!=h&&(m||(m=[]),d.ref&&m.push(d.ref,null,f),m.push(h,f.__c||b,f)),null!=b?(null==g&&(g=b),"function"==typeof f.type&&f.__k===d.__k?f.__d=s=C(f,s,e):s=D(e,f,d,w,b,s),"function"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=e&&(s=O(d))}for(u.__e=g,l=_;l--;)null!=w[l]&&("function"==typeof u.type&&null!=w[l].__e&&w[l].__e==u.__d&&(u.__d=O(i,l+1)),F(w[l],w[l]));if(m)for(l=0;l<m.length;l++)U(m[l],m[++l],m[++l])}function C(e,t,u){for(var i,n=e.__k,r=0;n&&r<n.length;r++)(i=n[r])&&(i.__=e,t="function"==typeof i.type?C(i,t,u):D(u,i,i,n,i.__e,t));return t}function k(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){k(e,t)})):t.push(e)),t}function D(e,t,u,i,n,r){var o,c,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==u||n!=r||null==n.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(n),o=null;else{for(c=r,l=0;(c=c.nextSibling)&&l<i.length;l+=2)if(c==n)break e;e.insertBefore(n,r),o=r}return void 0!==o?o:n.nextSibling}function R(e,t,u){"-"===t[0]?e.setProperty(t,u):e[t]=null==u?"":"number"!=typeof u||w.test(t)?u:u+"px"}function A(e,t,u,i,n){var r;e:if("style"===t)if("string"==typeof u)e.style.cssText=u;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)u&&t in u||R(e.style,t,"");if(u)for(t in u)i&&u[t]===i[t]||R(e.style,t,u[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=u,u?i||e.addEventListener(t,r?j:N,r):e.removeEventListener(t,r?j:N,r);else if("dangerouslySetInnerHTML"!==t){if(n)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==u?"":u;break e}catch(e){}"function"==typeof u||(null!=u&&(!1!==u||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,u):e.removeAttribute(t))}}function N(e){this.l[e.type+!1](o.event?o.event(e):e)}function j(e){this.l[e.type+!0](o.event?o.event(e):e)}function P(e,u,i,t,n,r,c,l,h){var a,d,f,m,v,y,b,g,w,_,E,S,O,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(h=i.__h,l=u.__e=i.__e,u.__h=null,r=[l]),(a=o.__b)&&a(u);try{e:if("function"==typeof I){if(g=u.props,w=(a=I.contextType)&&t[a.__c],_=a?w?w.props.value:a.__:t,i.__c?b=(d=u.__c=i.__c).__=d.__E:("prototype"in I&&I.prototype.render?u.__c=d=new I(g,_):(u.__c=d=new T(g,_),d.constructor=I,d.render=V),w&&w.sub(d),d.props=g,d.state||(d.state={}),d.context=_,d.__n=t,f=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=I.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=s({},d.__s)),s(d.__s,I.getDerivedStateFromProps(g,d.__s))),m=d.props,v=d.state,f)null==I.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==I.getDerivedStateFromProps&&g!==m&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,_),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,_)||u.__v===i.__v){d.props=g,d.state=d.__s,u.__v!==i.__v&&(d.__d=!1),d.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach((function(e){e&&(e.__=u)})),d.__h.length&&c.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,_),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(m,v,y)}))}if(d.context=_,d.props=g,d.__v=u,d.__P=e,E=o.__r,S=0,"prototype"in I&&I.prototype.render)d.state=d.__s,d.__d=!1,E&&E(u),a=d.render(d.props,d.state,d.context);else do{d.__d=!1,E&&E(u),a=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(t=s(s({},t),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(y=d.getSnapshotBeforeUpdate(m,v)),O=null!=a&&a.type===p&&null==a.key?a.props.children:a,x(e,Array.isArray(O)?O:[O],u,i,t,n,r,c,l,h),d.base=u.__e,u.__h=null,d.__h.length&&c.push(d),b&&(d.__E=d.__=null),d.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,n,r,c,h);(a=o.diffed)&&a(u)}catch(e){u.__v=null,(h||null!=r)&&(u.__e=l,u.__h=!!h,r[r.indexOf(l)]=null),o.__e(e,u,i)}}function M(e,u){o.__c&&o.__c(u,e),e.some((function(u){try{e=u.__h,u.__h=[],e.some((function(e){e.call(u)}))}catch(e){o.__e(e,u.__v)}}))}function L(e,u,i,t,n,o,c,l){var s,h,d,f=i.props,p=u.props,m=u.type,y=0;if("svg"===m&&(n=!0),null!=o)for(;y<o.length;y++)if((s=o[y])&&"setAttribute"in s==!!m&&(m?s.localName===m:3===s.nodeType)){e=s,o[y]=null;break}if(null==e){if(null===m)return document.createTextNode(p);e=n?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,p.is&&p),o=null,l=!1}if(null===m)f===p||l&&e.data===p||(e.data=p);else{if(o=o&&r.call(e.childNodes),h=(f=i.props||v).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!l){if(null!=o)for(f={},y=0;y<e.attributes.length;y++)f[e.attributes[y].name]=e.attributes[y].value;(d||h)&&(d&&(h&&d.__html==h.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,u,i,n){var r;for(r in u)"children"===r||"key"===r||r in t||A(e,r,null,u[r],i);for(r in t)n&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===t[r]||A(e,r,t[r],u[r],i)}(e,p,f,n,l),d)u.__k=[];else if(y=u.props.children,x(e,Array.isArray(y)?y:[y],u,i,t,n&&"foreignObject"!==m,o,c,o?o[0]:i.__k&&O(i,0),l),null!=o)for(y=o.length;y--;)null!=o[y]&&a(o[y]);l||("value"in p&&void 0!==(y=p.value)&&(y!==e.value||"progress"===m&&!y||"option"===m&&y!==f.value)&&A(e,"value",y,f.value,!1),"checked"in p&&void 0!==(y=p.checked)&&y!==e.checked&&A(e,"checked",y,f.checked,!1))}return e}function U(e,u,i){try{"function"==typeof e?e(u):e.current=u}catch(e){o.__e(e,i)}}function F(e,u,i){var t,n;if(o.unmount&&o.unmount(e),(t=e.ref)&&(t.current&&t.current!==e.__e||U(t,null,u)),null!=(t=e.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(e){o.__e(e,u)}t.base=t.__P=null,e.__c=void 0}if(t=e.__k)for(n=0;n<t.length;n++)t[n]&&F(t[n],u,"function"!=typeof e.type);i||null==e.__e||a(e.__e),e.__=e.__e=e.__d=void 0}function V(e,t,u){return this.constructor(e,u)}function B(u,i,e){var t,n,c;o.__&&o.__(u,i),n=(t="function"==typeof e)?null:e&&e.__k||i.__k,c=[],P(i,u=(!t&&e||i).__k=_(p,null,[u]),n||v,v,void 0!==i.ownerSVGElement,!t&&e?[e]:n?null:i.firstChild?r.call(i.childNodes):null,c,!t&&e?e:n?n.__e:i.firstChild,t),M(c,u)}function $(e,t){var u={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var u,i;return this.getChildContext||(u=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&u.some(b)},this.sub=function(e){u.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){u.splice(u.indexOf(e),1),t&&t.call(e)}}),e.children}};return u.Provider.__=u.Consumer.contextType=u}r=y.slice,o={__e:function(e,t,u,i){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,i||{}),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},c=0,T.prototype.setState=function(e,t){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof e&&(e=e(s({},u),this.props)),e&&s(u,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},T.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},T.prototype.render=p,l=[],g.__r=0,d=0;var H,z,W,G=[],Y=[],K=o.__b,X=o.__r,Z=o.diffed,Q=o.__c,J=o.unmount;function ee(){for(var e;e=G.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(re),e.__H.__h.forEach(ie),e.__H.__h=[]}catch(t){e.__H.__h=[],o.__e(t,e.__v)}}o.__b=function(e){"function"!=typeof e.type||e.o||e.type===p?e.o||(e.o=e.__&&e.__.o?e.__.o:""):e.o=(e.__&&e.__.o?e.__.o:"")+(e.__&&e.__.__k?e.__.__k.indexOf(e):0),H=null,K&&K(e)},o.__r=function(e){X&&X(e),0;var t=(H=e.__c).__H;t&&(z===H?(t.__h=[],H.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Y,e.__N=e.i=void 0}))):(t.__h.forEach(re),t.__h.forEach(ie),t.__h=[])),z=H},o.diffed=function(e){Z&&Z(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==G.push(t)&&W===o.requestAnimationFrame||((W=o.requestAnimationFrame)||ne)(ee)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Y&&(e.__=e.__V),e.i=void 0,e.__V=Y}))),z=H=null},o.__c=function(e,t){t.some((function(e){try{e.__h.forEach(re),e.__h=e.__h.filter((function(e){return!e.__||ie(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.__e(n,e.__v)}})),Q&&Q(e,t)},o.unmount=function(e){J&&J(e);var t,u=e.__c;u&&u.__H&&(u.__H.__.forEach((function(e){try{re(e)}catch(e){t=e}})),u.__H=void 0,t&&o.__e(t,u.__v))};var te="function"==typeof requestAnimationFrame;function ne(e){var t,n=function(){clearTimeout(u),te&&cancelAnimationFrame(t),setTimeout(e)},u=setTimeout(n,100);te&&(t=requestAnimationFrame(n))}function re(e){var t=H,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),H=t}function ie(e){var t=H;e.__c=e.__(),H=t}function oe(e,t){for(var n in t)e[n]=t[n];return e}function se(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function ae(e){this.props=e}(ae.prototype=new T).isPureReactComponent=!0,ae.prototype.shouldComponentUpdate=function(e,t){return se(this.props,e)||se(this.state,t)};var ue=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ue&&ue(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ce=o.__e;o.__e=function(e,t,n,r){if(e.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),u.__c(e,t);ce(e,t,n,r)};var le=o.unmount;function he(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=oe({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return he(e,t,n)}))),e}function de(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return de(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function fe(){this.__u=0,this.t=null,this.__b=null}function pe(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function me(){this.u=null,this.o=null}o.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),le&&le(e)},(fe.prototype=new T).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var u=pe(r.__v),o=!1,i=function(){o||(o=!0,n.__R=null,u?u(c):c())};n.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=de(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},fe.prototype.componentWillUnmount=function(){this.t=[]},fe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=he(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&_(p,null,e.fallback);return i&&(i.__h=null),[_(p,null,t.__a?null:e.children),i]};var ge=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function ve(e){return this.getChildContext=function(){return e.context},e.children}function ye(e){var t=this,n=e.i;t.componentWillUnmount=function(){B(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),B(_(ve,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function be(e,t){var n=_(ye,{__v:e,i:t});return n.containerInfo=t,n}(me.prototype=new T).__a=function(e){var t=this,n=pe(t.__v),r=t.o.get(e);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),ge(t,e,r)):u()};n?n(o):o()}},me.prototype.render=function(e){this.u=null,this.o=new Map;var t=k(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},me.prototype.componentDidUpdate=me.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){ge(e,n,t)}))};var we="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ee="undefined"!=typeof document,Se=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};T.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(T.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Te=o.event;function Oe(){}function Ie(){return this.cancelBubble}function xe(){return this.defaultPrevented}o.event=function(e){return Te&&(e=Te(e)),e.persist=Oe,e.isPropagationStopped=Ie,e.isDefaultPrevented=xe,e.nativeEvent=e};var Ce={configurable:!0,get:function(){return this.class}},ke=o.vnode;o.vnode=function(e){var t=e.type,n=e.props,u=n;if("string"==typeof t){var r=-1===t.indexOf("-");for(var i in u={},n){var o=n[i];Ee&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==o||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===o?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Se(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():r&&_e.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===o&&(o=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i="oninputCapture")),u[i]=o)}"select"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=k(n.children).forEach((function(e){e.props.selected=-1!=u.value.indexOf(e.props.value)}))),"select"==t&&null!=u.defaultValue&&(u.value=k(n.children).forEach((function(e){e.props.selected=u.multiple?-1!=u.defaultValue.indexOf(e.props.value):u.defaultValue==e.props.value}))),e.props=u,n.class!=n.className&&(Ce.enumerable="className"in n,null!=n.className&&(u.class=n.className),Object.defineProperty(u,"className",Ce))}e.$$typeof=we,ke&&ke(e)};var De=o.__r;o.__r=function(e){De&&De(e),e.__c};var Re="undefined"!=typeof globalThis?globalThis:window;Re.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):Re.FullCalendarVDom={Component:T,createElement:_,render:B,createRef:S,Fragment:p,createContext:function(e){var t=$(e),n=t.Provider;return t.Provider=function(){var e=this,t=!this.getChildContext,r=n.apply(this,arguments);if(t){var o=[];this.shouldComponentUpdate=function(t){e.props.value!==t.value&&o.forEach((function(e){e.context=t.value,e.forceUpdate()}))},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}}return r},t},createPortal:be,flushToDom:function(){var e=o.debounceRendering,t=[];function n(e){t.push(e)}o.debounceRendering=n,B(_(Ae,{}),document.createElement("div"));for(;t.length;)t.shift()();o.debounceRendering=e},unmountComponentAtNode:function(e){B(null,e)}};var Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.b)(t,e),t.prototype.render=function(){return _("div",{})},t.prototype.componentDidMount=function(){this.setState({})},t}(T);var main=n(0),Ne=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.isRendering=!1,r.isRendered=!1,r.currentClassNames=[],r.customContentRenderId=0,r.handleAction=function(e){switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":r.renderRunner.tryDrain()}},r.handleData=function(data){r.currentData=data,r.renderRunner.request(data.calendarOptions.rerenderDelay)},r.handleRenderRequest=function(){if(r.isRendering){r.isRendered=!0;var e=r.currentData;Object(main.oc)(Object(main.lb)(main.g,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(function(t,n,o,c){return r.setClassNames(t),r.setHeight(n),Object(main.lb)(main.h.Provider,{value:r.customContentRenderId},Object(main.lb)(main.e,Object(f.a)({isHeightAuto:o,forPrint:c},e)))})),r.el)}else r.isRendered&&(r.isRendered=!1,Object(main.vc)(r.el),r.setClassNames([]),r.setHeight(""));Object(main.Ab)()},r.el=t,r.renderRunner=new main.p(r.handleRenderRequest),new main.f({optionOverrides:n,calendarApi:r,onAction:r.handleAction,onData:r.handleData}),r}return Object(f.b)(t,e),Object.defineProperty(t.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()},t.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},t.prototype.updateSize=function(){e.prototype.updateSize.call(this),Object(main.Ab)()},t.prototype.batchRendering=function(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")},t.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},t.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},t.prototype.resetOptions=function(e,t){this.currentDataManager.resetOptions(e,t)},t.prototype.setClassNames=function(e){if(!Object(main.Xb)(e,this.currentClassNames)){for(var t=this.el.classList,n=0,r=this.currentClassNames;n<r.length;n++){var o=r[n];t.remove(o)}for(var c=0,l=e;c<l.length;c++){o=l[c];t.add(o)}this.currentClassNames=e}},t.prototype.setHeight=function(e){Object(main.U)(this.el,"height",e)},t}(main.d),je={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};function Pe(e){return function(t){return{vue:e(t)}}}function Me(e){return Object(main.pb)({contentTypeHandlers:{vue:function(){return function(e){var t,n;function r(r,o){if(t!==r&&(t&&n&&n.$destroy(),t=r),n)n.content=o;else{n=function(e,t){return new m.default({parent:t,data:{content:e},render:function(e){var content=this.content;return 1===content.length?content[0]:e("span",{},content)}})}(o,e);var c=document.createElement("span");r.appendChild(c),n.$mount(c)}}function o(){n&&n.$destroy()}return{render:r,destroy:o}}(e)}}})}var Le,Ue=m.default.extend({props:{options:Object},data:function(){return{renderId:0}},render:function(e){return e("div",{attrs:{"data-fc-render-id":this.renderId}})},mounted:function(){var e=this.$options;e.scopedSlotOptions=function(input,e){var output={};for(var t in input)input.hasOwnProperty(t)&&(output[t]=e(input[t],t));return output}(this.$scopedSlots,Pe);var t=new Ne(this.$el,this.buildOptions(this.options,this));e.calendar=t,t.render()},methods:{getApi:function(){return this.$options.calendar},buildOptions:function(e,t){var n=this.$options;return e=e||{},Object(f.a)(Object(f.a)(Object(f.a)({},n.scopedSlotOptions),e),{plugins:(e.plugins||[]).concat([Me(t)])})}},beforeUpdate:function(){this.getApi().resumeRendering()},beforeDestroy:function(){this.getApi().destroy()},watch:function(){var e={options:{deep:!0,handler:function(e){var t=this.getApi();t.pauseRendering(),t.resetOptions(this.buildOptions(e,this)),this.renderId++}}},t=function(t){e["options."+t]={deep:!0,handler:function(e){var n;if(void 0!==e){var r=this.getApi();r.pauseRendering(),r.resetOptions(((n={})[t]=function(e){return"object"==typeof e&&(Array.isArray(e)?e=Array.prototype.slice.call(e):e&&(e=Object(f.a)({},e))),e}(e),n),!0),this.renderId++}}}};for(var n in je)t(n);return e}()}),Fe=!1;(Le="undefined"!=typeof globalThis?globalThis.Vue:window.Vue)&&Le.use({install:function(e){Fe||(Fe=!0,e.component("FullCalendar",Ue))}});t.a=Ue},,,function(e,t,n){"use strict";function r(element){return getComputedStyle(element)}function o(element,e){for(var t in e){var n=e[t];"number"==typeof n&&(n+="px"),element.style[t]=n}return element}function div(e){var div=document.createElement("div");return div.className=e,div}var c="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function l(element,e){if(!c)throw new Error("No element matching method supported");return c.call(element,e)}function h(element){element.remove?element.remove():element.parentNode&&element.parentNode.removeChild(element)}function d(element,e){return Array.prototype.filter.call(element.children,(function(t){return l(t,e)}))}var f="ps",m="ps__rtl",v={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},y={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},w={x:null,y:null};function _(i,e){var t=i.element.classList,n=y.scrolling(e);t.contains(n)?clearTimeout(w[e]):t.add(n)}function E(i,e){w[e]=setTimeout((function(){return i.isAlive&&i.element.classList.remove(y.scrolling(e))}),i.settings.scrollingThreshold)}var S=function(element){this.element=element,this.handlers={}},T={isEmpty:{configurable:!0}};S.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},S.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},S.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},T.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(S.prototype,T);var O=function(){this.eventElements=[]};function I(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function x(i,e,t,n,r){var o;if(void 0===n&&(n=!0),void 0===r&&(r=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(i,e,t,n,r){var o=t[0],c=t[1],l=t[2],h=t[3],d=t[4],f=t[5];void 0===n&&(n=!0);void 0===r&&(r=!1);var element=i.element;i.reach[h]=null,element[l]<1&&(i.reach[h]="start");element[l]>i[o]-i[c]-1&&(i.reach[h]="end");e&&(element.dispatchEvent(I("ps-scroll-"+h)),e<0?element.dispatchEvent(I("ps-scroll-"+d)):e>0&&element.dispatchEvent(I("ps-scroll-"+f)),n&&function(i,e){_(i,e),E(i,e)}(i,h));i.reach[h]&&(e||r)&&element.dispatchEvent(I("ps-"+h+"-reach-"+i.reach[h]))}(i,t,o,n,r)}function C(e){return parseInt(e,10)||0}O.prototype.eventElement=function(element){var e=this.eventElements.filter((function(e){return e.element===element}))[0];return e||(e=new S(element),this.eventElements.push(e)),e},O.prototype.bind=function(element,e,t){this.eventElement(element).bind(e,t)},O.prototype.unbind=function(element,e,t){var n=this.eventElement(element);n.unbind(e,t),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},O.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},O.prototype.once=function(element,e,t){var n=this.eventElement(element),r=function(o){n.unbind(e,r),t(o)};n.bind(e,r)};var k={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function D(i){var element=i.element,e=Math.floor(element.scrollTop),rect=element.getBoundingClientRect();i.containerWidth=Math.round(rect.width),i.containerHeight=Math.round(rect.height),i.contentWidth=element.scrollWidth,i.contentHeight=element.scrollHeight,element.contains(i.scrollbarXRail)||(d(element,v.rail("x")).forEach((function(e){return h(e)})),element.appendChild(i.scrollbarXRail)),element.contains(i.scrollbarYRail)||(d(element,v.rail("y")).forEach((function(e){return h(e)})),element.appendChild(i.scrollbarYRail)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=R(i,C(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=C((i.negativeScrollAdjustment+element.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=R(i,C(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=C(e*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(element,i){var e={width:i.railXWidth},t=Math.floor(element.scrollTop);i.isRtl?e.left=i.negativeScrollAdjustment+element.scrollLeft+i.containerWidth-i.contentWidth:e.left=element.scrollLeft;i.isScrollbarXUsingBottom?e.bottom=i.scrollbarXBottom-t:e.top=i.scrollbarXTop+t;o(i.scrollbarXRail,e);var n={top:t,height:i.railYHeight};i.isScrollbarYUsingRight?i.isRtl?n.right=i.contentWidth-(i.negativeScrollAdjustment+element.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:n.right=i.scrollbarYRight-element.scrollLeft:i.isRtl?n.left=i.negativeScrollAdjustment+element.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:n.left=i.scrollbarYLeft+element.scrollLeft;o(i.scrollbarYRail,n),o(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),o(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}(element,i),i.scrollbarXActive?element.classList.add(y.active("x")):(element.classList.remove(y.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,element.scrollLeft=!0===i.isRtl?i.contentWidth:0),i.scrollbarYActive?element.classList.add(y.active("y")):(element.classList.remove(y.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,element.scrollTop=0)}function R(i,e){return i.settings.minScrollbarLength&&(e=Math.max(e,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(e=Math.min(e,i.settings.maxScrollbarLength)),e}function A(i,e){var t=e[0],n=e[1],r=e[2],o=e[3],c=e[4],l=e[5],h=e[6],d=e[7],f=e[8],element=i.element,m=null,v=null,w=null;function S(e){e.touches&&e.touches[0]&&(e[r]=e.touches[0].pageY),element[h]=m+w*(e[r]-v),_(i,d),D(i),e.stopPropagation(),e.preventDefault()}function T(){E(i,d),i[f].classList.remove(y.clicking),i.event.unbind(i.ownerDocument,"mousemove",S)}function O(e,c){m=element[h],c&&e.touches&&(e[r]=e.touches[0].pageY),v=e[r],w=(i[n]-i[t])/(i[o]-i[l]),c?i.event.bind(i.ownerDocument,"touchmove",S):(i.event.bind(i.ownerDocument,"mousemove",S),i.event.once(i.ownerDocument,"mouseup",T),e.preventDefault()),i[f].classList.add(y.clicking),e.stopPropagation()}i.event.bind(i[c],"mousedown",(function(e){O(e)})),i.event.bind(i[c],"touchstart",(function(e){O(e,!0)}))}var N={"click-rail":function(i){i.element,i.event.bind(i.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),i.event.bind(i.scrollbarYRail,"mousedown",(function(e){var t=e.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=t*i.containerHeight,D(i),e.stopPropagation()})),i.event.bind(i.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),i.event.bind(i.scrollbarXRail,"mousedown",(function(e){var t=e.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=t*i.containerWidth,D(i),e.stopPropagation()}))},"drag-thumb":function(i){A(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),A(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(i){var element=i.element;i.event.bind(i.ownerDocument,"keydown",(function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(l(element,":hover")||l(i.scrollbarX,":focus")||l(i.scrollbarY,":focus"))){var t,n=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(l(t=n,"input,[contenteditable]")||l(t,"select,[contenteditable]")||l(t,"textarea,[contenteditable]")||l(t,"button,[contenteditable]"))return}var r=0,o=0;switch(e.which){case 37:r=e.metaKey?-i.contentWidth:e.altKey?-i.containerWidth:-30;break;case 38:o=e.metaKey?i.contentHeight:e.altKey?i.containerHeight:30;break;case 39:r=e.metaKey?i.contentWidth:e.altKey?i.containerWidth:30;break;case 40:o=e.metaKey?-i.contentHeight:e.altKey?-i.containerHeight:-30;break;case 32:o=e.shiftKey?i.containerHeight:-i.containerHeight;break;case 33:o=i.containerHeight;break;case 34:o=-i.containerHeight;break;case 36:o=i.contentHeight;break;case 35:o=-i.contentHeight;break;default:return}i.settings.suppressScrollX&&0!==r||i.settings.suppressScrollY&&0!==o||(element.scrollTop-=o,element.scrollLeft+=r,D(i),function(e,t){var n=Math.floor(element.scrollTop);if(0===e){if(!i.scrollbarYActive)return!1;if(0===n&&t>0||n>=i.contentHeight-i.containerHeight&&t<0)return!i.settings.wheelPropagation}var r=element.scrollLeft;if(0===t){if(!i.scrollbarXActive)return!1;if(0===r&&e<0||r>=i.contentWidth-i.containerWidth&&e>0)return!i.settings.wheelPropagation}return!0}(r,o)&&e.preventDefault())}}))},wheel:function(i){var element=i.element;function e(e){var t=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(e),n=t[0],o=t[1];if(!function(e,t,n){if(!k.isWebKit&&element.querySelector("select:focus"))return!0;if(!element.contains(e))return!1;for(var cursor=e;cursor&&cursor!==element;){if(cursor.classList.contains(v.consuming))return!0;var style=r(cursor);if(n&&style.overflowY.match(/(scroll|auto)/)){var o=cursor.scrollHeight-cursor.clientHeight;if(o>0&&(cursor.scrollTop>0&&n<0||cursor.scrollTop<o&&n>0))return!0}if(t&&style.overflowX.match(/(scroll|auto)/)){var c=cursor.scrollWidth-cursor.clientWidth;if(c>0&&(cursor.scrollLeft>0&&t<0||cursor.scrollLeft<c&&t>0))return!0}cursor=cursor.parentNode}return!1}(e.target,n,o)){var c=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(o?element.scrollTop-=o*i.settings.wheelSpeed:element.scrollTop+=n*i.settings.wheelSpeed,c=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(n?element.scrollLeft+=n*i.settings.wheelSpeed:element.scrollLeft-=o*i.settings.wheelSpeed,c=!0):(element.scrollTop-=o*i.settings.wheelSpeed,element.scrollLeft+=n*i.settings.wheelSpeed),D(i),c=c||function(e,t){var n=Math.floor(element.scrollTop),r=0===element.scrollTop,o=n+element.offsetHeight===element.scrollHeight,c=0===element.scrollLeft,l=element.scrollLeft+element.offsetWidth===element.scrollWidth;return!(Math.abs(t)>Math.abs(e)?r||o:c||l)||!i.settings.wheelPropagation}(n,o),c&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}void 0!==window.onwheel?i.event.bind(element,"wheel",e):void 0!==window.onmousewheel&&i.event.bind(element,"mousewheel",e)},touch:function(i){if(k.supportsTouch||k.supportsIePointer){var element=i.element,e={},t=0,n={},o=null;k.supportsTouch?(i.event.bind(element,"touchstart",d),i.event.bind(element,"touchmove",f),i.event.bind(element,"touchend",m)):k.supportsIePointer&&(window.PointerEvent?(i.event.bind(element,"pointerdown",d),i.event.bind(element,"pointermove",f),i.event.bind(element,"pointerup",m)):window.MSPointerEvent&&(i.event.bind(element,"MSPointerDown",d),i.event.bind(element,"MSPointerMove",f),i.event.bind(element,"MSPointerUp",m)))}function c(e,t){element.scrollTop-=t,element.scrollLeft-=e,D(i)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function d(n){if(h(n)){var r=l(n);e.pageX=r.pageX,e.pageY=r.pageY,t=(new Date).getTime(),null!==o&&clearInterval(o)}}function f(o){if(h(o)){var d=l(o),f={pageX:d.pageX,pageY:d.pageY},m=f.pageX-e.pageX,y=f.pageY-e.pageY;if(function(e,t,n){if(!element.contains(e))return!1;for(var cursor=e;cursor&&cursor!==element;){if(cursor.classList.contains(v.consuming))return!0;var style=r(cursor);if(n&&style.overflowY.match(/(scroll|auto)/)){var o=cursor.scrollHeight-cursor.clientHeight;if(o>0&&(cursor.scrollTop>0&&n<0||cursor.scrollTop<o&&n>0))return!0}if(t&&style.overflowX.match(/(scroll|auto)/)){var c=cursor.scrollWidth-cursor.clientWidth;if(c>0&&(cursor.scrollLeft>0&&t<0||cursor.scrollLeft<c&&t>0))return!0}cursor=cursor.parentNode}return!1}(o.target,m,y))return;c(m,y),e=f;var w=(new Date).getTime(),_=w-t;_>0&&(n.x=m/_,n.y=y/_,t=w),function(e,t){var n=Math.floor(element.scrollTop),r=element.scrollLeft,o=Math.abs(e),c=Math.abs(t);if(c>o){if(t<0&&n===i.contentHeight-i.containerHeight||t>0&&0===n)return 0===window.scrollY&&t>0&&k.isChrome}else if(o>c&&(e<0&&r===i.contentWidth-i.containerWidth||e>0&&0===r))return!0;return!0}(m,y)&&o.preventDefault()}}function m(){i.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){i.isInitialized?clearInterval(o):n.x||n.y?Math.abs(n.x)<.01&&Math.abs(n.y)<.01?clearInterval(o):i.element?(c(30*n.x,30*n.y),n.x*=.8,n.y*=.8):clearInterval(o):clearInterval(o)}),10))}}},j=function(element,e){var t=this;if(void 0===e&&(e={}),"string"==typeof element&&(element=document.querySelector(element)),!element||!element.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var n in this.element=element,element.classList.add(f),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[n]=e[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var c,l,h=function(){return element.classList.add(y.focus)},d=function(){return element.classList.remove(y.focus)};this.isRtl="rtl"===r(element).direction,!0===this.isRtl&&element.classList.add(m),this.isNegativeScroll=(l=element.scrollLeft,element.scrollLeft=-1,c=element.scrollLeft<0,element.scrollLeft=l,c),this.negativeScrollAdjustment=this.isNegativeScroll?element.scrollWidth-element.clientWidth:0,this.event=new O,this.ownerDocument=element.ownerDocument||document,this.scrollbarXRail=div(v.rail("x")),element.appendChild(this.scrollbarXRail),this.scrollbarX=div(v.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",h),this.event.bind(this.scrollbarX,"blur",d),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var w=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(w.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=C(w.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=C(w.borderLeftWidth)+C(w.borderRightWidth),o(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=C(w.marginLeft)+C(w.marginRight),o(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=div(v.rail("y")),element.appendChild(this.scrollbarYRail),this.scrollbarY=div(v.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",h),this.event.bind(this.scrollbarY,"blur",d),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var _=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(_.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=C(_.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(element){var e=r(element);return C(e.width)+C(e.paddingLeft)+C(e.paddingRight)+C(e.borderLeftWidth)+C(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=C(_.borderTopWidth)+C(_.borderBottomWidth),o(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=C(_.marginTop)+C(_.marginBottom),o(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:element.scrollLeft<=0?"start":element.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:element.scrollTop<=0?"start":element.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return N[e](t)})),this.lastScrollTop=Math.floor(element.scrollTop),this.lastScrollLeft=element.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return t.onScroll(e)})),D(this)};j.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,o(this.scrollbarXRail,{display:"block"}),o(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=C(r(this.scrollbarXRail).marginLeft)+C(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=C(r(this.scrollbarYRail).marginTop)+C(r(this.scrollbarYRail).marginBottom),o(this.scrollbarXRail,{display:"none"}),o(this.scrollbarYRail,{display:"none"}),D(this),x(this,"top",0,!1,!0),x(this,"left",0,!1,!0),o(this.scrollbarXRail,{display:""}),o(this.scrollbarYRail,{display:""}))},j.prototype.onScroll=function(e){this.isAlive&&(D(this),x(this,"top",this.element.scrollTop-this.lastScrollTop),x(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},j.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),h(this.scrollbarX),h(this.scrollbarY),h(this.scrollbarXRail),h(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},j.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")},t.a=j},,,,function(e,t,n){"use strict";n(88),n(70),n(46),n(26),n(19),n(23),n(11),n(21),n(44),n(45),n(43);var r=n(5);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){h=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var l=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},h=window.cancelIdleCallback||function(e){clearTimeout(e)},d=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||!link.__prefetch||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:r.default.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=l(this.observe,{timeout:2e3}))},beforeDestroy:function(){h(this.handleId),this.__observed&&(d.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){d&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),d.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){d.unobserve(this.$el);var e,t=o(this.getPrefetchComponents());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(e){t.e(e)}finally{t.f()}}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},n.p="/dist/",n(n.s=73)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,c,l,h){var d,f="function"==typeof e?e.options:e;if(t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),c&&(f._scopeId="data-v-"+c),l?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},f._ssrRegister=d):o&&(d=h?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(f.functional){f._injectStyles=d;var m=f.render;f.render=function(e,t){return d.call(t),m(e,t)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,d):[d]}return{exports:e,options:f}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n(250)},21:function(e,t){e.exports=n(254)},4:function(e,t){e.exports=n(245)},73:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};r._withStripped=!0;var o=n(4),c=n.n(o),l=n(11),h=n.n(l),d=void 0,f="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",m=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function v(e){var style=window.getComputedStyle(e),t=style.getPropertyValue("box-sizing"),n=parseFloat(style.getPropertyValue("padding-bottom"))+parseFloat(style.getPropertyValue("padding-top")),r=parseFloat(style.getPropertyValue("border-bottom-width"))+parseFloat(style.getPropertyValue("border-top-width"));return{contextStyle:m.map((function(e){return e+":"+style.getPropertyValue(e)})).join(";"),paddingSize:n,borderSize:r,boxSizing:t}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d||(d=document.createElement("textarea"),document.body.appendChild(d));var r=v(e),o=r.paddingSize,c=r.borderSize,l=r.boxSizing,h=r.contextStyle;d.setAttribute("style",h+";"+f),d.value=e.value||e.placeholder||"";var m=d.scrollHeight,y={};"border-box"===l?m+=c:"content-box"===l&&(m-=o),d.value="";var w=d.scrollHeight-o;if(null!==t){var _=w*t;"border-box"===l&&(_=_+o+c),m=Math.max(_,m),y.minHeight=_+"px"}if(null!==n){var E=w*n;"border-box"===l&&(E=E+o+c),m=Math.min(E,m)}return y.height=m+"px",d.parentNode&&d.parentNode.removeChild(d),d=null,y}var w=n(9),_=n.n(w),E=n(21),S={name:"ElInput",componentName:"ElInput",mixins:[c.a,h.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return _()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type)if(e){var t=e.minRows,n=e.maxRows;this.textareaCalcStyle=y(this.$refs.textarea,t,n)}else this.textareaCalcStyle={minHeight:y(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var input=this.getInput();input&&input.value!==this.nativeInputValue&&(input.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var text=e.target.value,t=text[text.length-1]||"";this.isComposing=!Object(E.isKorean)(t)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,i=0;i<t.length;i++)if(t[i].parentNode===this.$el){n=t[i];break}if(n){var r={suffix:"append",prefix:"prepend"}[e];this.$slots[r]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var e=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){e.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},T=S,O=n(0),component=Object(O.a)(T,r,[],!1,null,null,null);component.options.__file="packages/input/src/input.vue";var input=component.exports;input.install=function(e){e.component(input.name,input)};t.default=input},9:function(e,t){e.exports=n(167)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return Pr}));var r={value:()=>{}};function o(){for(var e,i=0,t=arguments.length,n={};i<t;++i){if(!(e=arguments[i]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new c(n)}function c(e){this._=e}function l(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function h(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function d(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}c.prototype=o.prototype={constructor:c,on:function(e,t){var n,r=this._,o=l(e+"",r),i=-1,c=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<c;)if(n=(e=o[i]).type)r[n]=d(r[n],e.name,t);else if(null==t)for(n in r)r[n]=d(r[n],e.name,null);return this}for(;++i<c;)if((n=(e=o[i]).type)&&(n=h(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new c(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var f=o;function m(){}var v=function(e){return null==e?m:function(){return this.querySelector(e)}};function y(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function w(){return[]}var _=function(e){return null==e?w:function(){return this.querySelectorAll(e)}};var E=function(e){return function(){return this.matches(e)}};function S(e){return function(t){return t.matches(e)}}var T=Array.prototype.find;function O(){return this.firstElementChild}var I=Array.prototype.filter;function x(){return Array.from(this.children)}var C=function(e){return new Array(e.length)};function k(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}k.prototype={constructor:k,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var D=function(e){return function(){return e}};function R(e,t,n,r,o,data){for(var c,i=0,l=t.length,h=data.length;i<h;++i)(c=t[i])?(c.__data__=data[i],r[i]=c):n[i]=new k(e,data[i]);for(;i<l;++i)(c=t[i])&&(o[i]=c)}function A(e,t,n,r,o,data,c){var i,l,h,d=new Map,f=t.length,m=data.length,v=new Array(f);for(i=0;i<f;++i)(l=t[i])&&(v[i]=h=c.call(l,l.__data__,i,t)+"",d.has(h)?o[i]=l:d.set(h,l));for(i=0;i<m;++i)h=c.call(e,data[i],i,data)+"",(l=d.get(h))?(r[i]=l,l.__data__=data[i],d.delete(h)):n[i]=new k(e,data[i]);for(i=0;i<f;++i)(l=t[i])&&d.get(v[i])===l&&(o[i]=l)}function N(e){return e.__data__}function j(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function P(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var M="http://www.w3.org/1999/xhtml",L={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U=function(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),L.hasOwnProperty(t)?{space:L[t],local:e}:e};function F(e){return function(){this.removeAttribute(e)}}function V(e){return function(){this.removeAttributeNS(e.space,e.local)}}function B(e,t){return function(){this.setAttribute(e,t)}}function $(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function H(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function z(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var W=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function G(e){return function(){this.style.removeProperty(e)}}function Y(e,t,n){return function(){this.style.setProperty(e,t,n)}}function K(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function X(e,t){return e.style.getPropertyValue(t)||W(e).getComputedStyle(e,null).getPropertyValue(t)}function Z(e){return function(){delete this[e]}}function Q(e,t){return function(){this[e]=t}}function J(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ee(e){return e.trim().split(/^|\s+/)}function te(e){return e.classList||new ne(e)}function ne(e){this._node=e,this._names=ee(e.getAttribute("class")||"")}function re(e,t){for(var n=te(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function ie(e,t){for(var n=te(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function oe(e){return function(){re(this,e)}}function se(e){return function(){ie(this,e)}}function ae(e,t){return function(){(t.apply(this,arguments)?re:ie)(this,e)}}ne.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ue(){this.textContent=""}function ce(e){return function(){this.textContent=e}}function le(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function he(){this.innerHTML=""}function de(e){return function(){this.innerHTML=e}}function fe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function pe(){this.nextSibling&&this.parentNode.appendChild(this)}function me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ge(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===M&&t.documentElement.namespaceURI===M?t.createElement(e):t.createElementNS(n,e)}}function ve(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var ye=function(e){var t=U(e);return(t.local?ve:ge)(t)};function be(){return null}function we(){var e=this.parentNode;e&&e.removeChild(this)}function _e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ee(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Se(e){return e.trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}}))}function Te(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Oe(e,t,n){return function(){var r,o=this.__on,c=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var l=0,h=o.length;l<h;++l)if((r=o[l]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=c,r.options=n),void(r.value=t);this.addEventListener(e.type,c,n),r={type:e.type,name:e.name,value:t,listener:c,options:n},o?o.push(r):this.__on=[r]}}function Ie(e,t,n){var r=W(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function xe(e,t){return function(){return Ie(this,e,t)}}function Ce(e,t){return function(){return Ie(this,e,t.apply(this,arguments))}}var ke=[null];function De(e,t){this._groups=e,this._parents=t}function Re(){return new De([[document.documentElement]],ke)}De.prototype=Re.prototype={constructor:De,select:function(select){"function"!=typeof select&&(select=v(select));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var o,c,l=e[r],h=l.length,d=n[r]=new Array(h),i=0;i<h;++i)(o=l[i])&&(c=select.call(o,o.__data__,i,l))&&("__data__"in o&&(c.__data__=o.__data__),d[i]=c);return new De(n,this._parents)},selectAll:function(select){select="function"==typeof select?function(select){return function(){return y(select.apply(this,arguments))}}(select):_(select);for(var e=this._groups,t=e.length,n=[],r=[],o=0;o<t;++o)for(var c,l=e[o],h=l.length,i=0;i<h;++i)(c=l[i])&&(n.push(select.call(c,c.__data__,i,l)),r.push(c));return new De(n,r)},selectChild:function(e){return this.select(null==e?O:function(e){return function(){return T.call(this.children,e)}}("function"==typeof e?e:S(e)))},selectChildren:function(e){return this.selectAll(null==e?x:function(e){return function(){return I.call(this.children,e)}}("function"==typeof e?e:S(e)))},filter:function(e){"function"!=typeof e&&(e=E(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var c,l=t[o],h=l.length,d=r[o]=[],i=0;i<h;++i)(c=l[i])&&e.call(c,c.__data__,i,l)&&d.push(c);return new De(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,N);var n=t?A:R,r=this._parents,o=this._groups;"function"!=typeof e&&(e=D(e));for(var c=o.length,l=new Array(c),h=new Array(c),d=new Array(c),f=0;f<c;++f){var m=r[f],v=o[f],y=v.length,data=j(e.call(m,m&&m.__data__,f,r)),w=data.length,_=h[f]=new Array(w),E=l[f]=new Array(w),S=d[f]=new Array(y);n(m,v,_,E,S,data,t);for(var T,O,I=0,x=0;I<w;++I)if(T=_[I]){for(I>=x&&(x=I+1);!(O=E[x])&&++x<w;);T._next=O||null}}return(l=new De(l,r))._enter=h,l._exit=d,l},enter:function(){return new De(this._enter||this._groups.map(C),this._parents)},exit:function(){return new De(this._exit||this._groups.map(C),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,c=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?c.remove():n(c),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,c=r.length,l=Math.min(o,c),h=new Array(o),d=0;d<l;++d)for(var f,m=n[d],v=r[d],y=m.length,w=h[d]=new Array(y),i=0;i<y;++i)(f=m[i]||v[i])&&(w[i]=f);for(;d<o;++d)h[d]=n[d];return new De(h,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,c=o[i];--i>=0;)(r=o[i])&&(c&&4^r.compareDocumentPosition(c)&&c.parentNode.insertBefore(r,c),c=r);return this},sort:function(e){function t(a,b){return a&&b?e(a.__data__,b.__data__):!a-!b}e||(e=P);for(var n=this._groups,r=n.length,o=new Array(r),c=0;c<r;++c){for(var l,h=n[c],d=h.length,f=o[c]=new Array(d),i=0;i<d;++i)(l=h[i])&&(f[i]=l);f.sort(t)}return new De(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var c=r[i];if(c)return c}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,c=t[n],i=0,l=c.length;i<l;++i)(o=c[i])&&e.call(o,o.__data__,i,c);return this},attr:function(e,t){var n=U(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?V:F:"function"==typeof t?n.local?z:H:n.local?$:B)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?G:"function"==typeof t?K:Y)(e,t,null==n?"":n)):X(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Z:"function"==typeof t?J:Q)(e,t)):this.node()[e]},classed:function(e,t){var n=ee(e+"");if(arguments.length<2){for(var r=te(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?ae:t?oe:se)(n,t))},text:function(e){return arguments.length?this.each(null==e?ue:("function"==typeof e?le:ce)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?he:("function"==typeof e?fe:de)(e)):this.node().innerHTML},raise:function(){return this.each(pe)},lower:function(){return this.each(me)},append:function(e){var t="function"==typeof e?e:ye(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:ye(e),select=null==t?be:"function"==typeof t?t:v(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function(){return this.each(we)},clone:function(e){return this.select(e?Ee:_e)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=Se(e+""),c=o.length;if(!(arguments.length<2)){for(l=t?Oe:Te,i=0;i<c;++i)this.each(l(o[i],t,n));return this}var l=this.node().__on;if(l)for(var h,d=0,f=l.length;d<f;++d)for(i=0,h=l[d];i<c;++i)if((r=o[i]).type===h.type&&r.name===h.name)return h.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ce:xe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,c=o.length;i<c;++i)(r=o[i])&&(yield r)}};var Ae=Re;var Ne=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function je(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pe(){}var Me=.7,Le=1/Me,Ue="\\s*([+-]?\\d+)\\s*",Fe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Be=/^#([0-9a-f]{3,8})$/,$e=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),He=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),qe=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${Fe}\\)$`),ze=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${Fe}\\)$`),We=new RegExp(`^hsl\\(${Fe},${Ve},${Ve}\\)$`),Ge=new RegExp(`^hsla\\(${Fe},${Ve},${Ve},${Fe}\\)$`),Ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ke(){return this.rgb().formatHex()}function Xe(){return this.rgb().formatRgb()}function Ze(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Be.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Qe(t):3===n?new nt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Je(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Je(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=$e.exec(e))?new nt(t[1],t[2],t[3],1):(t=He.exec(e))?new nt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qe.exec(e))?Je(t[1],t[2],t[3],t[4]):(t=ze.exec(e))?Je(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=We.exec(e))?ct(t[1],t[2]/100,t[3]/100,1):(t=Ge.exec(e))?ct(t[1],t[2]/100,t[3]/100,t[4]):Ye.hasOwnProperty(e)?Qe(Ye[e]):"transparent"===e?new nt(NaN,NaN,NaN,0):null}function Qe(e){return new nt(e>>16&255,e>>8&255,255&e,1)}function Je(e,g,b,a){return a<=0&&(e=g=b=NaN),new nt(e,g,b,a)}function et(e){return e instanceof Pe||(e=Ze(e)),e?new nt((e=e.rgb()).r,e.g,e.b,e.opacity):new nt}function tt(e,g,b,t){return 1===arguments.length?et(e):new nt(e,g,b,null==t?1:t)}function nt(e,g,b,t){this.r=+e,this.g=+g,this.b=+b,this.opacity=+t}function it(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}`}function ot(){const a=st(this.opacity);return`${1===a?"rgb(":"rgba("}${at(this.r)}, ${at(this.g)}, ${at(this.b)}${1===a?")":`, ${a})`}`}function st(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function at(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ut(e){return((e=at(e))<16?"0":"")+e.toString(16)}function ct(e,s,t,a){return a<=0?e=s=t=NaN:t<=0||t>=1?e=s=NaN:s<=0&&(e=NaN),new ht(e,s,t,a)}function lt(e){if(e instanceof ht)return new ht(e.h,e.s,e.l,e.opacity);if(e instanceof Pe||(e=Ze(e)),!e)return new ht;if(e instanceof ht)return e;var t=(e=e.rgb()).r/255,g=e.g/255,b=e.b/255,n=Math.min(t,g,b),r=Math.max(t,g,b),o=NaN,s=r-n,c=(r+n)/2;return s?(o=t===r?(g-b)/s+6*(g<b):g===r?(b-t)/s+2:(t-g)/s+4,s/=c<.5?r+n:2-r-n,o*=60):s=c>0&&c<1?0:o,new ht(o,s,c,e.opacity)}function ht(e,s,t,n){this.h=+e,this.s=+s,this.l=+t,this.opacity=+n}function ft(e){return(e=(e||0)%360)<0?e+360:e}function pt(e){return Math.max(0,Math.min(1,e||0))}function mt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gt(e,t,n,r,o){var c=e*e,l=c*e;return((1-3*e+3*c-l)*t+(4-6*c+3*l)*n+(1+3*e+3*c-3*l)*r+l*o)/6}Ne(Pe,Ze,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ke,formatHex:Ke,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return lt(this).formatHsl()},formatRgb:Xe,toString:Xe}),Ne(nt,tt,je(Pe,{brighter(e){return e=null==e?Le:Math.pow(Le,e),new nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Me:Math.pow(Me,e),new nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nt(at(this.r),at(this.g),at(this.b),st(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:it,formatHex:it,formatHex8:function(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}${ut(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ot,toString:ot})),Ne(ht,(function(e,s,t,n){return 1===arguments.length?lt(e):new ht(e,s,t,null==n?1:n)}),je(Pe,{brighter(e){return e=null==e?Le:Math.pow(Le,e),new ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Me:Math.pow(Me,e),new ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*s,r=2*t-n;return new nt(mt(e>=240?e-240:e+120,r,n),mt(e,r,n),mt(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new ht(ft(this.h),pt(this.s),pt(this.l),st(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=st(this.opacity);return`${1===a?"hsl(":"hsla("}${ft(this.h)}, ${100*pt(this.s)}%, ${100*pt(this.l)}%${1===a?")":`, ${a})`}`}}));var vt=e=>()=>e;function yt(a,e){return function(t){return a+t*e}}function bt(e){return 1==(e=+e)?wt:function(a,b){return b-a?function(a,b,e){return a=Math.pow(a,e),b=Math.pow(b,e)-a,e=1/e,function(t){return Math.pow(a+t*b,e)}}(a,b,e):vt(isNaN(a)?b:a)}}function wt(a,b){var e=b-a;return e?yt(a,e):vt(isNaN(a)?b:a)}var _t=function e(t){var n=bt(t);function r(e,t){var r=n((e=tt(e)).r,(t=tt(t)).r),g=n(e.g,t.g),b=n(e.b,t.b),o=wt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=g(t),e.b=b(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Et(e){return function(t){var i,n,r=t.length,o=new Array(r),g=new Array(r),b=new Array(r);for(i=0;i<r;++i)n=tt(t[i]),o[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return o=e(o),g=e(g),b=e(b),n.opacity=1,function(e){return n.r=o(e),n.g=g(e),n.b=b(e),n+""}}}Et((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],c=i>0?e[i-1]:2*r-o,l=i<t-1?e[i+2]:2*o-r;return gt((n-i/t)*t,c,r,o,l)}})),Et((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],c=e[(i+1)%t],l=e[(i+2)%t];return gt((n-i/t)*t,r,o,c,l)}}));var St=function(a,b){b||(b=[]);var i,e=a?Math.min(b.length,a.length):0,t=b.slice();return function(n){for(i=0;i<e;++i)t[i]=a[i]*(1-n)+b[i]*n;return t}};function Tt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ot(a,b){var i,e=b?b.length:0,t=a?Math.min(e,a.length):0,n=new Array(t),r=new Array(e);for(i=0;i<t;++i)n[i]=Nt(a[i],b[i]);for(;i<e;++i)r[i]=b[i];return function(e){for(i=0;i<t;++i)r[i]=n[i](e);return r}}var It=function(a,b){var e=new Date;return a=+a,b=+b,function(t){return e.setTime(a*(1-t)+b*t),e}},xt=function(a,b){return a=+a,b=+b,function(e){return a*(1-e)+b*e}},object=function(a,b){var e,i={},t={};for(e in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)e in a?i[e]=Nt(a[e],b[e]):t[e]=b[e];return function(n){for(e in i)t[e]=i[e](n);return t}},Ct=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kt=new RegExp(Ct.source,"g");var Dt,Rt,At=function(a,b){var e,t,n,r=Ct.lastIndex=kt.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(e=Ct.exec(a))&&(t=kt.exec(b));)(n=t.index)>r&&(n=b.slice(r,n),s[i]?s[i]+=n:s[++i]=n),(e=e[0])===(t=t[0])?s[i]?s[i]+=t:s[++i]=t:(s[++i]=null,q.push({i:i,x:xt(e,t)})),r=kt.lastIndex;return r<b.length&&(n=b.slice(r),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(e){return b(e)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(e){for(var t,i=0;i<b;++i)s[(t=q[i]).i]=t.x(e);return s.join("")})},Nt=function(a,b){var e,t=typeof b;return null==b||"boolean"===t?vt(b):("number"===t?xt:"string"===t?(e=Ze(b))?(b=e,_t):At:b instanceof Ze?_t:b instanceof Date?It:Tt(b)?St:Array.isArray(b)?Ot:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:xt)(a,b)},jt=0,Pt=0,Mt=0,Lt=0,Ut=0,Ft=0,Vt="object"==typeof performance&&performance.now?performance:Date,Bt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $t(){return Ut||(Bt(Ht),Ut=Vt.now()+Ft)}function Ht(){Ut=0}function qt(){this._call=this._time=this._next=null}function zt(e,t,time){var n=new qt;return n.restart(e,t,time),n}function Wt(){Ut=(Lt=Vt.now())+Ft,jt=Pt=0;try{!function(){$t(),++jt;for(var e,t=Dt;t;)(e=Ut-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jt}()}finally{jt=0,function(){var e,t,n=Dt,time=1/0;for(;n;)n._call?(time>n._time&&(time=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Dt=t);Rt=e,Yt(time)}(),Ut=0}}function Gt(){var e=Vt.now(),t=e-Lt;t>1e3&&(Ft-=t,Lt=e)}function Yt(time){jt||(Pt&&(Pt=clearTimeout(Pt)),time-Ut>24?(time<1/0&&(Pt=setTimeout(Wt,time-Vt.now()-Ft)),Mt&&(Mt=clearInterval(Mt))):(Mt||(Lt=Vt.now(),Mt=setInterval(Gt,1e3)),jt=1,Bt(Wt)))}qt.prototype=zt.prototype={constructor:qt,restart:function(e,t,time){if("function"!=typeof e)throw new TypeError("callback is not a function");time=(null==time?$t():+time)+(null==t?0:+t),this._next||Rt===this||(Rt?Rt._next=this:Dt=this,Rt=this),this._call=e,this._time=time,Yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yt())}};var Kt=function(e,t,time){var n=new qt;return t=null==t?0:+t,n.restart((r=>{n.stop(),e(r+t)}),t,time),n},Xt=f("start","end","cancel","interrupt"),Zt=[],Qt=function(e,t,n,r,o,c){var l=e.__transition;if(l){if(n in l)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function c(e){n.state=1,n.timer.restart(l,n.delay,n.time),n.delay<=e&&l(e-n.delay)}function l(c){var i,f,m,v;if(1!==n.state)return d();for(i in o)if((v=o[i]).name===n.name){if(3===v.state)return Kt(l);4===v.state?(v.state=6,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[i]):+i<t&&(v.state=6,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[i])}if(Kt((function(){3===n.state&&(n.state=4,n.timer.restart(h,n.delay,n.time),h(c))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(m=n.tween.length),i=0,f=-1;i<m;++i)(v=n.tween[i].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=v);r.length=f+1}}function h(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(d),n.state=5,1),i=-1,c=r.length;++i<c;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){for(var i in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=zt(c,0,n.time)}(e,n,{name:t,index:r,group:o,on:Xt,tween:Zt,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:0})};function Jt(e,t){var n=tn(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function en(e,t){var n=tn(e,t);if(n.state>3)throw new Error("too late; already running");return n}function tn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var nn,rn=function(e,t){var n,r,i,o=e.__transition,c=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):c=!1;c&&delete e.__transition}},on=180/Math.PI,sn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},an=function(a,b,e,t,n,r){var o,c,l;return(o=Math.sqrt(a*a+b*b))&&(a/=o,b/=o),(l=a*e+b*t)&&(e-=a*l,t-=b*l),(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c,l/=c),a*t<b*e&&(a=-a,b=-b,l=-l,o=-o),{translateX:n,translateY:r,rotate:Math.atan2(b,a)*on,skewX:Math.atan(l)*on,scaleX:o,scaleY:c}};function un(e,t,n,r){function o(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=e(a),b=e(b),function(e,r,o,c,s,q){if(e!==o||r!==c){var i=s.push("translate(",null,t,null,n);q.push({i:i-4,x:xt(e,o)},{i:i-2,x:xt(r,c)})}else(o||c)&&s.push("translate("+o+t+c+n)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(o(s)+"rotate(",null,r)-2,x:xt(a,b)})):b&&s.push(o(s)+"rotate("+b+r)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(o(s)+"skewX(",null,r)-2,x:xt(a,b)}):b&&s.push(o(s)+"skewX("+b+r)}(a.skewX,b.skewX,s,q),function(e,t,n,r,s,q){if(e!==n||t!==r){var i=s.push(o(s)+"scale(",null,",",null,")");q.push({i:i-4,x:xt(e,n)},{i:i-2,x:xt(t,r)})}else 1===n&&1===r||s.push(o(s)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(e){for(var t,i=-1,n=q.length;++i<n;)s[(t=q[i]).i]=t.x(e);return s.join("")}}}var cn=un((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?sn:an(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ln=un((function(e){return null==e?sn:(nn||(nn=document.createElementNS("http://www.w3.org/2000/svg","g")),nn.setAttribute("transform",e),(e=nn.transform.baseVal.consolidate())?(e=e.matrix,an(e.a,e.b,e.c,e.d,e.e,e.f)):sn)}),", ",")",")");function hn(e,t){var n,r;return function(){var o=en(this,e),c=o.tween;if(c!==n)for(var i=0,l=(r=n=c).length;i<l;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}o.tween=r}}function dn(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var c=en(this,e),l=c.tween;if(l!==r){o=(r=l).slice();for(var h={name:t,value:n},i=0,d=o.length;i<d;++i)if(o[i].name===t){o[i]=h;break}i===d&&o.push(h)}c.tween=o}}function fn(e,t,n){var r=e._id;return e.each((function(){var e=en(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return tn(e,r).value[t]}}var pn=function(a,b){var e;return("number"==typeof b?xt:b instanceof Ze?_t:(e=Ze(b))?(b=e,_t):At)(a,b)};function mn(e){return function(){this.removeAttribute(e)}}function gn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vn(e,t,n){var r,o,c=n+"";return function(){var l=this.getAttribute(e);return l===c?null:l===r?o:o=t(r=l,n)}}function yn(e,t,n){var r,o,c=n+"";return function(){var l=this.getAttributeNS(e.space,e.local);return l===c?null:l===r?o:o=t(r=l,n)}}function bn(e,t,n){var r,o,c;return function(){var l,h,d=n(this);if(null!=d)return(l=this.getAttribute(e))===(h=d+"")?null:l===r&&h===o?c:(o=h,c=t(r=l,d));this.removeAttribute(e)}}function wn(e,t,n){var r,o,c;return function(){var l,h,d=n(this);if(null!=d)return(l=this.getAttributeNS(e.space,e.local))===(h=d+"")?null:l===r&&h===o?c:(o=h,c=t(r=l,d));this.removeAttributeNS(e.space,e.local)}}function _n(e,i){return function(t){this.setAttribute(e,i.call(this,t))}}function En(e,i){return function(t){this.setAttributeNS(e.space,e.local,i.call(this,t))}}function Sn(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&En(e,i)),n}return o._value=t,o}function Tn(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&_n(e,i)),n}return o._value=t,o}function On(e,t){return function(){Jt(this,e).delay=+t.apply(this,arguments)}}function In(e,t){return t=+t,function(){Jt(this,e).delay=t}}function xn(e,t){return function(){en(this,e).duration=+t.apply(this,arguments)}}function Cn(e,t){return t=+t,function(){en(this,e).duration=t}}function kn(e,t){if("function"!=typeof t)throw new Error;return function(){en(this,e).ease=t}}function Dn(e,t,n){var r,o,c=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||"start"===e}))}(t)?Jt:en;return function(){var l=c(this,e),h=l.on;h!==r&&(o=(r=h).copy()).on(t,n),l.on=o}}var Rn=Ae.prototype.constructor;function An(e){return function(){this.style.removeProperty(e)}}function Nn(e,i,t){return function(n){this.style.setProperty(e,i.call(this,n),t)}}function jn(e,t,n){var r,o;function c(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&Nn(e,i,n)),r}return c._value=t,c}function Pn(i){return function(e){this.textContent=i.call(this,e)}}function Mn(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Pn(i)),t}return r._value=e,r}var Ln=0;function Un(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fn(){return++Ln}var Vn=Ae.prototype;Un.prototype=function(e){return Ae().transition(e)}.prototype={constructor:Un,select:function(select){var e=this._name,t=this._id;"function"!=typeof select&&(select=v(select));for(var n=this._groups,r=n.length,o=new Array(r),c=0;c<r;++c)for(var l,h,d=n[c],f=d.length,m=o[c]=new Array(f),i=0;i<f;++i)(l=d[i])&&(h=select.call(l,l.__data__,i,d))&&("__data__"in l&&(h.__data__=l.__data__),m[i]=h,Qt(m[i],e,t,i,m,tn(l,t)));return new Un(o,this._parents,e,t)},selectAll:function(select){var e=this._name,t=this._id;"function"!=typeof select&&(select=_(select));for(var n=this._groups,r=n.length,o=[],c=[],l=0;l<r;++l)for(var h,d=n[l],f=d.length,i=0;i<f;++i)if(h=d[i]){for(var m,v=select.call(h,h.__data__,i,d),y=tn(h,t),w=0,E=v.length;w<E;++w)(m=v[w])&&Qt(m,e,t,w,v,y);o.push(v),c.push(h)}return new Un(o,c,e,t)},selectChild:Vn.selectChild,selectChildren:Vn.selectChildren,filter:function(e){"function"!=typeof e&&(e=E(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var c,l=t[o],h=l.length,d=r[o]=[],i=0;i<h;++i)(c=l[i])&&e.call(c,c.__data__,i,l)&&d.push(c);return new Un(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,c=Math.min(r,o),l=new Array(r),h=0;h<c;++h)for(var d,f=t[h],m=n[h],v=f.length,y=l[h]=new Array(v),i=0;i<v;++i)(d=f[i]||m[i])&&(y[i]=d);for(;h<r;++h)l[h]=t[h];return new Un(l,this._parents,this._name,this._id)},selection:function(){return new Rn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Fn(),r=this._groups,o=r.length,c=0;c<o;++c)for(var l,h=r[c],d=h.length,i=0;i<d;++i)if(l=h[i]){var f=tn(l,t);Qt(l,e,n,i,h,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Un(r,this._parents,e,n)},call:Vn.call,nodes:Vn.nodes,node:Vn.node,size:Vn.size,empty:Vn.empty,each:Vn.each,on:function(e,t){var n=this._id;return arguments.length<2?tn(this.node(),n).on.on(e):this.each(Dn(n,e,t))},attr:function(e,t){var n=U(e),i="transform"===n?ln:pn;return this.attrTween(e,"function"==typeof t?(n.local?wn:bn)(n,i,fn(this,"attr."+e,t)):null==t?(n.local?gn:mn)(n):(n.local?yn:vn)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=U(e);return this.tween(n,(r.local?Sn:Tn)(r,t))},style:function(e,t,n){var i="transform"==(e+="")?cn:pn;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var c=X(this,e),l=(this.style.removeProperty(e),X(this,e));return c===l?null:c===n&&l===r?o:o=t(n=c,r=l)}}(e,i)).on("end.style."+e,An(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,c;return function(){var l=X(this,e),h=n(this),d=h+"";return null==h&&(this.style.removeProperty(e),d=h=X(this,e)),l===d?null:l===r&&d===o?c:(o=d,c=t(r=l,h))}}(e,i,fn(this,"style."+e,t))).each(function(e,t){var n,r,o,c,l="style."+t,h="end."+l;return function(){var d=en(this,e),f=d.on,m=null==d.value[l]?c||(c=An(t)):void 0;f===n&&o===m||(r=(n=f).copy()).on(h,o=m),d.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,c=n+"";return function(){var l=X(this,e);return l===c?null:l===r?o:o=t(r=l,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,jn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(fn(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Mn(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=tn(this.node(),n).tween,i=0,c=o.length;i<c;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?hn:dn)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?On:In)(t,e)):tn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?xn:Cn)(t,e)):tn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(kn(t,e)):tn(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;en(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(c,l){var h={value:l},d={value:function(){0==--o&&c()}};n.each((function(){var n=en(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(h),t._.interrupt.push(h),t._.end.push(d)),n.on=t})),0===o&&c()}))},[Symbol.iterator]:Vn[Symbol.iterator]};var Bn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function $n(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Ae.prototype.interrupt=function(e){return this.each((function(){rn(this,e)}))},Ae.prototype.transition=function(e){var t,n;e instanceof Un?(t=e._id,e=e._name):(t=Fn(),(n=Bn).time=$t(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,c=0;c<o;++c)for(var l,h=r[c],d=h.length,i=0;i<d;++i)(l=h[i])&&Qt(l,e,t,i,h,n||$n(l,t));return new Un(r,this._parents,e,t)};const{abs:Hn,max:qn,min:zn}=Math;function Wn(e){return[+e[0],+e[1]]}function Gn(e){return[Wn(e[0]),Wn(e[1])]}["w","e"].map(Yn),["n","s"].map(Yn),["n","w","e","s","nw","ne","sw","se"].map(Yn);function Yn(e){return{type:e}}var Kn=Math.sqrt(50),Xn=Math.sqrt(10),Zn=Math.sqrt(2);function Qn(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,o);return o>=0?(c>=Kn?10:c>=Xn?5:c>=Zn?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(c>=Kn?10:c>=Xn?5:c>=Zn?2:1)}function Jn(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function er(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function nr(e){let t,n,r;function o(a,e,r=0,o=a.length){if(r<o){if(0!==t(e,e))return o;do{const t=r+o>>>1;n(a[t],e)<0?r=t+1:o=t}while(r<o)}return r}return 2!==e.length?(t=Jn,n=(t,n)=>Jn(e(t),n),r=(t,n)=>e(t)-n):(t=e===Jn||e===er?e:rr,n=e,r=e),{left:o,center:function(a,e,t=0,n=a.length){const i=o(a,e,t,n-1);return i>t&&r(a[i-1],e)>-r(a[i],e)?i-1:i},right:function(a,e,r=0,o=a.length){if(r<o){if(0!==t(e,e))return o;do{const t=r+o>>>1;n(a[t],e)<=0?r=t+1:o=t}while(r<o)}return r}}}function rr(){return 0}const ir=nr(Jn),or=ir.right;ir.left,nr((function(e){return null===e?NaN:+e})).center;var sr=or,ar=function(a,b){return a=+a,b=+b,function(e){return Math.round(a*(1-e)+b*e)}};function ur(e){return+e}var cr=[0,1];function lr(e){return e}function dr(a,b){return(b-=a=+a)?function(e){return(e-a)/b}:(e=isNaN(b)?NaN:.5,function(){return e});var e}function fr(e,t,n){var r=e[0],o=e[1],c=t[0],l=t[1];return o<r?(r=dr(o,r),c=n(l,c)):(r=dr(r,o),c=n(c,l)),function(e){return c(r(e))}}function pr(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),c=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=dr(e[i],e[i+1]),c[i]=n(t[i],t[i+1]);return function(t){var i=sr(e,t,1,r)-1;return c[i](o[i](t))}}function mr(source,e){return e.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function gr(){var e,t,n,r,output,input,o=cr,c=cr,l=Nt,h=lr;function d(){var a,b,e,t=Math.min(o.length,c.length);return h!==lr&&(a=o[0],b=o[t-1],a>b&&(e=a,a=b,b=e),h=function(e){return Math.max(a,Math.min(b,e))}),r=t>2?pr:fr,output=input=null,f}function f(t){return null==t||isNaN(t=+t)?n:(output||(output=r(o.map(e),c,l)))(e(h(t)))}return f.invert=function(n){return h(t((input||(input=r(c,o.map(e),xt)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,ur),d()):o.slice()},f.range=function(e){return arguments.length?(c=Array.from(e),d()):c.slice()},f.rangeRound=function(e){return c=Array.from(e),l=ar,d()},f.clamp=function(e){return arguments.length?(h=!!e||lr,d()):h!==lr},f.interpolate=function(e){return arguments.length?(l=e,d()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,u){return e=n,t=u,d()}}function vr(){return gr()(lr,lr)}function yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var wr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _r(e){if(!(t=wr.exec(e)))throw new Error("invalid format: "+e);var t;return new Er({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Er(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}_r.prototype=Er.prototype,Er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function Sr(e,p){if((i=(e=p?e.toExponential(p-1):e.toExponential()).indexOf("e"))<0)return null;var i,t=e.slice(0,i);return[t.length>1?t[0]+t.slice(2):t,+e.slice(i+1)]}var Tr,Or,Ir,xr,Cr=function(e){return(e=Sr(Math.abs(e)))?e[1]:NaN},kr=function(e,p){var t=Sr(e,p);if(!t)return e+"";var n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")},Dr={"%":(e,p)=>(100*e).toFixed(p),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,p)=>e.toExponential(p),f:(e,p)=>e.toFixed(p),g:(e,p)=>e.toPrecision(p),o:e=>Math.round(e).toString(8),p:(e,p)=>kr(100*e,p),r:kr,s:function(e,p){var t=Sr(e,p);if(!t)return e+"";var n=t[0],r=t[1],i=r-(Tr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Sr(e,Math.max(0,p+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)},Rr=function(e){return e},map=Array.prototype.map,Ar=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Or=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Rr:(t=map.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],c=0,g=t[0],l=0;i>0&&g>0&&(l+g+1>r&&(g=Math.max(1,r-l)),o.push(e.substring(i-=g,i+g)),!((l+=g+1)>r));)g=t[c=(c+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",c=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?Rr:function(e){return function(t){return t.replace(/[0-9]/g,(function(i){return e[+i]}))}}(map.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",f=void 0===e.minus?"−":e.minus+"",m=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=_r(e)).fill,n=e.align,v=e.sign,symbol=e.symbol,y=e.zero,w=e.width,_=e.comma,E=e.precision,S=e.trim,T=e.type;"n"===T?(_=!0,T="g"):Dr[T]||(void 0===E&&(E=12),S=!0,T="g"),(y||"0"===t&&"="===n)&&(y=!0,t="0",n="=");var O="$"===symbol?o:"#"===symbol&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I="$"===symbol?c:/[%p]/.test(T)?d:"",x=Dr[T],C=/[defgprs%]/.test(T);function k(e){var i,o,c,d=O,k=I;if("c"===T)k=x(e)+k,e="";else{var D=(e=+e)<0||1/e<0;if(e=isNaN(e)?m:x(Math.abs(e),E),S&&(e=function(s){e:for(var e,t=s.length,i=1,n=-1;i<t;++i)switch(s[i]){case".":n=e=i;break;case"0":0===n&&(n=i),e=i;break;default:if(!+s[i])break e;n>0&&(n=0)}return n>0?s.slice(0,n)+s.slice(e+1):s}(e)),D&&0==+e&&"+"!==v&&(D=!1),d=(D?"("===v?v:f:"-"===v||"("===v?"":v)+d,k=("s"===T?Ar[8+Tr/3]:"")+k+(D&&"("===v?")":""),C)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){k=(46===c?l+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}_&&!y&&(e=r(e,1/0));var R=d.length+e.length+k.length,A=R<w?new Array(w-R+1).join(t):"";switch(_&&y&&(e=r(A+e,A.length?w-k.length:1/0),A=""),n){case"<":e=d+e+k+A;break;case"=":e=d+A+e+k;break;case"^":e=A.slice(0,R=A.length>>1)+d+e+k+A.slice(R);break;default:e=A+d+e+k}return h(e)}return E=void 0===E?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E)),k.toString=function(){return e+""},k}return{format:v,formatPrefix:function(e,t){var n=v(((e=_r(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Cr(t)/3))),o=Math.pow(10,-r),c=Ar[8+r/3];return function(e){return n(o*e)+c}}}}({thousands:",",grouping:[3],currency:["$",""]}),Ir=Or.format,xr=Or.formatPrefix;function Nr(e,t,n,r){var o,c=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/o;return c>=Kn?o*=10:c>=Xn?o*=5:c>=Zn&&(o*=2),t<e?-o:o}(e,t,n);switch((r=_r(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Cr(t)/3)))-Cr(Math.abs(e)))}(c,l))||(r.precision=o),xr(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cr(t)-Cr(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-Cr(Math.abs(e)))}(c))||(r.precision=o-2*("%"===r.type))}return Ir(r)}function jr(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,o,c,l,i=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(l=Qn(e,t,n))||!isFinite(l))return[];if(l>0){let n=Math.round(e/l),r=Math.round(t/l);for(n*l<e&&++n,r*l>t&&--r,c=new Array(o=r-n+1);++i<o;)c[i]=(n+i)*l}else{l=-l;let n=Math.round(e*l),r=Math.round(t*l);for(n/l<e&&++n,r/l>t&&--r,c=new Array(o=r-n+1);++i<o;)c[i]=(n+i)/l}return r&&c.reverse(),c}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Nr(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,c=t(),l=0,h=c.length-1,d=c[l],f=c[h],m=10;for(f<d&&(o=d,d=f,f=o,o=l,l=h,h=o);m-- >0;){if((o=Qn(d,f,n))===r)return c[l]=d,c[h]=f,t(c);if(o>0)d=Math.floor(d/o)*o,f=Math.ceil(f/o)*o;else{if(!(o<0))break;d=Math.ceil(d*o)/o,f=Math.floor(f*o)/o}r=o}return e},e}function Pr(){var e=vr();return e.copy=function(){return mr(e,Pr())},yr.apply(e,arguments),jr(e)}function Mr(e){return((e=Math.exp(e))+1/e)/2}(function e(t,n,r){function o(e,o){var i,c,l=e[0],h=e[1],d=e[2],f=o[0],m=o[1],v=o[2],y=f-l,w=m-h,_=y*y+w*w;if(_<1e-12)c=Math.log(v/d)/t,i=function(e){return[l+e*y,h+e*w,d*Math.exp(t*e*c)]};else{var E=Math.sqrt(_),S=(v*v-d*d+r*_)/(2*d*n*E),T=(v*v-d*d-r*_)/(2*v*n*E),O=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(T*T+1)-T);c=(I-O)/t,i=function(e){var r,s=e*c,o=Mr(O),u=d/(n*E)*(o*(r=t*s+O,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(O));return[l+u*y,h+u*w,d*o/Mr(t*s+O)]}}return i.duration=1e3*c*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o})(Math.SQRT2,2,4);function Lr(e,t,n){this.k=e,this.x=t,this.y=n}Lr.prototype={constructor:Lr,scale:function(e){return 1===e?this:new Lr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Lr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Lr(1,0,0);Lr.prototype},function(e,t,n){"use strict";var r={};r.checkAdmin=n(307),r.checkAdmin=r.checkAdmin.default||r.checkAdmin,r.checkTeacher=n(308),r.checkTeacher=r.checkTeacher.default||r.checkTeacher,r.code=n(309),r.code=r.code.default||r.code,r.isAuth=n(310),r.isAuth=r.isAuth.default||r.isAuth,r.isAuthenticated=n(311),r.isAuthenticated=r.isAuthenticated.default||r.isAuthenticated,t.a=r},function(e,t,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return e(!1)})):e(!1))}};e.exports=r},,function(e,t,n){var r=n(334);function o(){return(o=r(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1 in navigator)){e.next=2;break}throw new Error("serviceWorker is not supported in current browser!");case 2:return e.next=4,n.e(86).then(n.bind(null,389));case 4:return t=e.sent,r=t.Workbox,o=new r("/sw.js",{scope:"/"}),e.next=9,o.register();case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(37),window.$workbox=function(){return o.apply(this,arguments)}().catch((function(e){}))},function(e,t,n){"use strict";n.r(t),n.d(t,"alpha",(function(){return h})),n.d(t,"alpha_dash",(function(){return d})),n.d(t,"alpha_num",(function(){return f})),n.d(t,"alpha_spaces",(function(){return m})),n.d(t,"between",(function(){return v})),n.d(t,"confirmed",(function(){return y})),n.d(t,"digits",(function(){return w})),n.d(t,"dimensions",(function(){return _})),n.d(t,"double",(function(){return Y})),n.d(t,"email",(function(){return E})),n.d(t,"excluded",(function(){return C})),n.d(t,"ext",(function(){return k})),n.d(t,"image",(function(){return image})),n.d(t,"integer",(function(){return D})),n.d(t,"is",(function(){return R})),n.d(t,"is_not",(function(){return A})),n.d(t,"length",(function(){return N})),n.d(t,"max",(function(){return j})),n.d(t,"max_value",(function(){return P})),n.d(t,"mimes",(function(){return M})),n.d(t,"min",(function(){return L})),n.d(t,"min_value",(function(){return U})),n.d(t,"numeric",(function(){return B})),n.d(t,"oneOf",(function(){return x})),n.d(t,"regex",(function(){return $})),n.d(t,"required",(function(){return H})),n.d(t,"required_if",(function(){return W})),n.d(t,"size",(function(){return G}));n(32),n(54),n(19),n(11),n(45),n(43),n(46),n(172),n(21),n(44),n(200),n(82);var r={en:/^[A-Z]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[A-ZÆØÅ]*$/i,de:/^[A-ZÄÖÜß]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,nl:/^[A-ZÉËÏÓÖÜ]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ro:/^[A-ZĂÂÎŞŢ]*$/i,ru:/^[А-ЯЁ]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[A-ZČĆŽŠĐ]*$/i,sv:/^[A-ZÅÄÖ]*$/i,tr:/^[A-ZÇĞİıÖŞÜ]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[A-ZÇƏĞİıÖŞÜ]*$/i,el:/^[Α-ώ]*$/i,ja:/^[A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF]*$/i,he:/^[A-Z\u05D0-\u05EA']*$/i},o={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ro:/^[A-ZĂÂÎŞŢ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,el:/^[Α-ώ\s]*$/i,ja:/^[A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF\s]*$/i,he:/^[A-Z\u05D0-\u05EA'\s]*$/i},c={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,da:/^[0-9A-ZÆØÅ]$/i,de:/^[0-9A-ZÄÖÜß]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,ro:/^[0-9A-ZĂÂÎŞŢ]*$/i,ru:/^[0-9А-ЯЁ]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,sr:/^[0-9A-ZČĆŽŠĐ]*$/i,sv:/^[0-9A-ZÅÄÖ]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ]*$/i,el:/^[0-9Α-ώ]*$/i,ja:/^[0-9A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF]*$/i,he:/^[0-9A-Z\u05D0-\u05EA']*$/i},l={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,da:/^[0-9A-ZÆØÅ_-]*$/i,de:/^[0-9A-ZÄÖÜß_-]*$/i,es:/^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,fa:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,fr:/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,nl:/^[0-9A-ZÉËÏÓÖÜ_-]*$/i,hu:/^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,pl:/^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,pt:/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,ro:/^[0-9A-ZĂÂÎŞŢ_-]*$/i,ru:/^[0-9А-ЯЁ_-]*$/i,sk:/^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,sr:/^[0-9A-ZČĆŽŠĐ_-]*$/i,sv:/^[0-9A-ZÅÄÖ_-]*$/i,tr:/^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,uk:/^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,az:/^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i,el:/^[0-9Α-ώ_-]*$/i,ja:/^[0-9A-Z\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\u4E00-\u9FAF_-]*$/i,he:/^[0-9A-Z\u05D0-\u05EA'_-]*$/i},h={validate:function e(t,n){var o=(void 0===n?{}:n).locale,c=void 0===o?"":o;return Array.isArray(t)?t.every((function(t){return e(t,{locale:c})})):c?(r[c]||r.en).test(t):Object.keys(r).some((function(e){return r[e].test(t)}))},params:[{name:"locale"}]},d={validate:function e(t,n){var r=(void 0===n?{}:n).locale,o=void 0===r?"":r;return Array.isArray(t)?t.every((function(t){return e(t,{locale:o})})):o?(l[o]||l.en).test(t):Object.keys(l).some((function(e){return l[e].test(t)}))},params:[{name:"locale"}]},f={validate:function e(t,n){var r=(void 0===n?{}:n).locale,o=void 0===r?"":r;return Array.isArray(t)?t.every((function(t){return e(t,{locale:o})})):o?(c[o]||c.en).test(t):Object.keys(c).some((function(e){return c[e].test(t)}))},params:[{name:"locale"}]},m={validate:function e(t,n){var r=(void 0===n?{}:n).locale,c=void 0===r?"":r;return Array.isArray(t)?t.every((function(t){return e(t,{locale:c})})):c?(o[c]||o.en).test(t):Object.keys(o).some((function(e){return o[e].test(t)}))},params:[{name:"locale"}]},v={validate:function e(t,n){var r=void 0===n?{}:n,o=r.min,c=r.max;return Array.isArray(t)?t.every((function(t){return!!e(t,{min:o,max:c})})):Number(o)<=t&&Number(c)>=t},params:[{name:"min"},{name:"max"}]},y={validate:function(e,t){var n=t.target;return String(e)===String(n)},params:[{name:"target",isTarget:!0}]},w={validate:function e(t,n){var r=n.length;if(Array.isArray(t))return t.every((function(t){return e(t,{length:r})}));var o=String(t);return/^[0-9]*$/.test(o)&&o.length===r},params:[{name:"length",cast:function(e){return Number(e)}}]},_={validate:function(e,t){var n=t.width,r=t.height,o=[];e=Array.isArray(e)?e:[e];for(var i=0;i<e.length;i++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(e[i].name))return Promise.resolve(!1);o.push(e[i])}return Promise.all(o.map((function(e){return function(e,t,n){var r=window.URL||window.webkitURL;return new Promise((function(o){var image=new Image;image.onerror=function(){return o(!1)},image.onload=function(){return o(image.width===t&&image.height===n)},image.src=r.createObjectURL(e)}))}(e,n,r)}))).then((function(e){return e.every((function(e){return e}))}))},params:[{name:"width",cast:function(e){return Number(e)}},{name:"height",cast:function(e){return Number(e)}}]},E={validate:function(e,t){var n=(void 0===t?{}:t).multiple,r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n&&!Array.isArray(e)&&(e=String(e).split(",").map((function(e){return e.trim()}))),Array.isArray(e)?e.every((function(e){return r.test(String(e))})):r.test(String(e))},params:[{name:"multiple",default:!1}]};function S(e){return null==e}function T(e){return Array.isArray(e)&&0===e.length}function O(e){return"function"==typeof Array.from?Array.from(e):function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}(e)}var I=function e(t,n){return Array.isArray(t)?t.every((function(t){return e(t,n)})):O(n).some((function(e){return e==t}))},x={validate:I},C={validate:function(e,t){return!I(e,t)}},k={validate:function(e,t){var n=new RegExp(".("+t.join("|")+")$","i");return Array.isArray(e)?e.every((function(e){return n.test(e.name)})):n.test(e.name)}},image={validate:function(e){var t=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(e)?e.every((function(e){return t.test(e.name)})):t.test(e.name)}},D={validate:function(e){return Array.isArray(e)?e.every((function(e){return/^-?[0-9]+$/.test(String(e))})):/^-?[0-9]+$/.test(String(e))}},R={validate:function(e,t){return e===t.other},params:[{name:"other"}]},A={validate:function(e,t){return e!==t.other},params:[{name:"other"}]},N={validate:function(e,t){var n=t.length;return!S(e)&&("string"==typeof e&&(e=O(e)),"number"==typeof e&&(e=String(e)),e.length||(e=O(e)),e.length===n)},params:[{name:"length",cast:function(e){return Number(e)}}]},j={validate:function e(t,n){var r=n.length;return S(t)?r>=0:Array.isArray(t)?t.every((function(t){return e(t,{length:r})})):String(t).length<=r},params:[{name:"length",cast:function(e){return Number(e)}}]},P={validate:function e(t,n){var r=n.max;return!S(t)&&""!==t&&(Array.isArray(t)?t.length>0&&t.every((function(t){return e(t,{max:r})})):Number(t)<=r)},params:[{name:"max",cast:function(e){return Number(e)}}]},M={validate:function(e,t){var n=new RegExp(t.join("|").replace("*",".+")+"$","i");return Array.isArray(e)?e.every((function(e){return n.test(e.type)})):n.test(e.type)}},L={validate:function e(t,n){var r=n.length;return!S(t)&&(Array.isArray(t)?t.every((function(t){return e(t,{length:r})})):String(t).length>=r)},params:[{name:"length",cast:function(e){return Number(e)}}]},U={validate:function e(t,n){var r=n.min;return!S(t)&&""!==t&&(Array.isArray(t)?t.length>0&&t.every((function(t){return e(t,{min:r})})):Number(t)>=r)},params:[{name:"min",cast:function(e){return Number(e)}}]},F=/^[٠١٢٣٤٥٦٧٨٩]+$/,V=/^[0-9]+$/,B={validate:function(e){var t=function(e){var t=String(e);return V.test(t)||F.test(t)};return Array.isArray(e)?e.every(t):t(e)}},$={validate:function e(t,n){var r=n.regex;return Array.isArray(t)?t.every((function(t){return e(t,{regex:r})})):r.test(String(t))},params:[{name:"regex",cast:function(e){return"string"==typeof e?new RegExp(e):e}}]},H={validate:function(e,t){var n=(void 0===t?{allowFalse:!0}:t).allowFalse,r={valid:!1,required:!0};return S(e)||T(e)?r:!1!==e||n?(r.valid=!!String(e).trim().length,r):r},params:[{name:"allowFalse",default:!0}],computesRequired:!0},z=function(e){return T(e)||-1!==[!1,null,void 0].indexOf(e)||!String(e).trim().length},W={validate:function(e,t){var n,r=t.target,o=t.values;return o&&o.length?(Array.isArray(o)||"string"!=typeof o||(o=[o]),n=o.some((function(e){return e==String(r).trim()}))):n=!z(r),n?{valid:!z(e),required:n}:{valid:!0,required:n}},params:[{name:"target",isTarget:!0},{name:"values"}],computesRequired:!0},G={validate:function(e,t){var n=t.size;if(isNaN(n))return!1;var r=1024*n;if(!Array.isArray(e))return e.size<=r;for(var i=0;i<e.length;i++)if(e[i].size>r)return!1;return!0},params:[{name:"size",cast:function(e){return Number(e)}}]},Y={validate:function(e,t){var n=t||{},r=n.decimals,o=void 0===r?0:r,c=n.separator,l=new RegExp("^-?\\d+"+("comma"===(void 0===c?"dot":c)?",?":"\\.?")+(0===o?"\\d*":"(\\d{"+o+"})?")+"$");return Array.isArray(e)?e.every((function(e){return l.test(String(e))})):l.test(String(e))},params:[{name:"decimals",default:0},{name:"separator",default:"dot"}]}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={install(e,t={}){e.prototype.$htmlToPaper=(e,n,r=(()=>!0))=>{let o="_blank",c=["fullscreen=yes","titlebar=yes","scrollbars=yes"],l=!0,h=[],{name:d=o,specs:f=c,replace:m=l,styles:v=h}=t;n&&(n.name&&(d=n.name),n.specs&&(f=n.specs),n.replace&&(m=n.replace),n.styles&&(v=n.styles)),f=f.length?f.join(","):"";const element=window.document.getElementById(e);if(!element)return void alert(`Element to print #${e} not found!`);const y=function(e,t,n){let r=null;return r=window.open(e,t,n),r.opener||(r.opener=self),r.focus(),r}("",d,f);return y.document.write(`\n        <html>\n          <head>\n            <title>${window.document.title}</title>\n          </head>\n          <body>\n            ${element.innerHTML}\n          </body>\n        </html>\n      `),function(e,t){t.forEach((style=>{let link=e.document.createElement("link");link.setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),link.setAttribute("href",style),e.document.getElementsByTagName("head")[0].appendChild(link)}))}(y,v),setTimeout((()=>{y.document.close(),y.focus(),y.print(),setTimeout((function(){window.close()}),1),r()}),1e3),!0}}};t.default=r},,,,,,,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},n.p="/dist/",n(n.s=75)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,c,l,h){var d,f="function"==typeof e?e.options:e;if(t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),c&&(f._scopeId="data-v-"+c),l?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},f._ssrRegister=d):o&&(d=h?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(f.functional){f._injectStyles=d;var m=f.render;f.render=function(e,t){return d.call(t),m(e,t)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,d):[d]}return{exports:e,options:f}}n.d(t,"a",(function(){return r}))},13:function(e,t){e.exports=n(166)},17:function(e,t){e.exports=n(206)},23:function(e,t){e.exports=n(327)},7:function(e,t){e.exports=n(5)},75:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?n("i",{class:e.iconClass}):n("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?n("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):n("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?n("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])};c._withStripped=!0;var l={success:"success",info:"info",warning:"warning",error:"error"},h={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+l[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},d=n(0),component=Object(d.a)(h,c,[],!1,null,null,null);component.options.__file="packages/message/src/main.vue";var main=component.exports,f=n(13),m=n(23),v=n(17),y=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e},w=o.a.extend(main),_=void 0,E=[],S=1,T=function e(t){if(!o.a.prototype.$isServer){"string"==typeof(t=t||{})&&(t={message:t});var n=t.onClose,r="message_"+S++;t.onClose=function(){e.close(r,n)},(_=new w({data:t})).id=r,Object(m.isVNode)(_.message)&&(_.$slots.default=[_.message],_.message=null),_.$mount(),document.body.appendChild(_.$el);var c=t.offset||20;return E.forEach((function(e){c+=e.$el.offsetHeight+16})),_.verticalOffset=c,_.visible=!0,_.$el.style.zIndex=f.PopupManager.nextZIndex(),E.push(_),_}};["success","warning","info","error"].forEach((function(e){T[e]=function(t){return Object(v.isObject)(t)&&!Object(m.isVNode)(t)?T(y({},t,{type:e})):T({type:e,message:t})}})),T.close=function(e,t){for(var n=E.length,r=-1,o=void 0,i=0;i<n;i++)if(e===E[i].id){o=E[i].$el.offsetHeight,r=i,"function"==typeof t&&t(E[i]),E.splice(i,1);break}if(!(n<=1||-1===r||r>E.length-1))for(var c=r;c<n-1;c++){var l=E[c].$el;l.style.top=parseInt(l.style.top,10)-o-16+"px"}},T.closeAll=function(){for(var i=E.length-1;i>=0;i--)E[i].close()};var O=T;t.default=O}})},function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var r=d(n(5)),o=d(n(167)),c=d(n(326)),l=d(n(248)),h=n(87);function d(e){return e&&e.__esModule?e:{default:e}}var f=1,m=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+f++,c.default.register(this._popupId,this)},beforeDestroy:function(){c.default.deregister(this._popupId),c.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,r.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,o.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(c.default.zIndex=r),n&&(this._closing&&(c.default.closeModal(this._popupId),this._closing=!1),c.default.openModal(this._popupId,c.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,h.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,h.getStyle)(document.body,"paddingRight"),10)),m=(0,l.default)();var o=document.documentElement.clientHeight<document.body.scrollHeight,d=(0,h.getStyle)(document.body,"overflowY");m>0&&(o||"scroll"===d)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+m+"px"),(0,h.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=c.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){c.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,h.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=c.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var i=1,t=arguments.length;i<t;i++){var source=arguments[i]||{};for(var n in source)if(source.hasOwnProperty(n)){var r=source[n];void 0!==r&&(e[n]=r)}}return e}},,,function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},n.p="/dist/",n(n.s=140)}({140:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),c=n(18),l=n.n(c),h=n(2),d=n(3),f=n(7),m=n.n(f),main={name:"ElTooltip",mixins:[o.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(d.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new m.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=l()(200,(function(){return e.handleClosePopper()})))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var data=n.data=n.data||{};return data.staticClass=this.addTooltipClass(data.staticClass),n},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(h.on)(this.referenceElm,"mouseenter",this.show),Object(h.on)(this.referenceElm,"mouseleave",this.hide),Object(h.on)(this.referenceElm,"focus",(function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()})),Object(h.on)(this.referenceElm,"blur",this.handleBlur),Object(h.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function(e){e?Object(h.addClass)(this.referenceElm,"focusing"):Object(h.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var element=null,t=0;t<e.length;t++)e[t]&&e[t].tag&&(element=e[t]);return element}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(h.off)(e,"mouseenter",this.show),Object(h.off)(e,"mouseleave",this.hide),Object(h.off)(e,"focus",this.handleFocus),Object(h.off)(e,"blur",this.handleBlur),Object(h.off)(e,"click",this.removeFocusing))},install:function(e){e.component(main.name,main)}};t.default=main},18:function(e,t){e.exports=n(247)},2:function(e,t){e.exports=n(87)},3:function(e,t){e.exports=n(71)},5:function(e,t){e.exports=n(171)},7:function(e,t){e.exports=n(5)}})},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(5),c=(r=o)&&r.__esModule?r:{default:r},l=n(166);var h=c.default.prototype.$isServer?function(){}:n(364),d=function(e){return e.stopPropagation()};t.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,t.arrowOffset=this.arrowOffset,this.popperJS=new h(r,n,t),this.popperJS.onCreate((function(t){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)})),"function"==typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperJS._popper.style.zIndex=l.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",d))}},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=l.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],t={top:"bottom",bottom:"top",left:"right",right:"left"}[e];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+t:t+" center"}},appendArrow:function(element){var e=void 0;if(!this.appended){for(var t in this.appended=!0,element.attributes)if(/^_v-/.test(element.attributes[t].name)){e=element.attributes[t].name;break}var n=document.createElement("div");e&&n.setAttribute(e,""),n.setAttribute("x-arrow",""),n.className="popper__arrow",element.appendChild(n)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",d),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE};var o,c=n(5),l=(o=c)&&o.__esModule?o:{default:o};var h=function(e){return e&&"[object Function]"==={}.toString.call(e)};"object"===("undefined"==typeof Int8Array?"undefined":r(Int8Array))||!l.default.prototype.$isServer&&"function"==typeof document.childNodes||(t.isFunction=h=function(e){return"function"==typeof e||!1}),t.isFunction=h;t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return null!=e}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.i18n=t.use=t.t=void 0;var r=l(n(360)),o=l(n(5)),c=l(n(361));function l(e){return e&&e.__esModule?e:{default:e}}var h=(0,l(n(362)).default)(o.default),d=r.default,f=!1,m=function(){var e=Object.getPrototypeOf(this||o.default).$t;if("function"==typeof e&&o.default.locale)return f||(f=!0,o.default.locale(o.default.config.lang,(0,c.default)(d,o.default.locale(o.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},v=t.t=function(path,e){var t=m.apply(this,arguments);if(null!=t)return t;for(var n=path.split("."),r=d,i=0,o=n.length;i<o;i++){var c=n[i];if(t=r[c],i===o-1)return h(t,e);if(!t)return"";r=t}return""},use=t.use=function(e){d=e||d},y=t.i18n=function(e){m=e||m};t.default={use:use,t:v,i18n:y}},,,function(e,t,n){"use strict";t.a=function(e,t){return t=t||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var c in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),u.push([t,n]),i[t]=i[t]?i[t]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(c,t.headers[c]);s.send(t.body||null)}))}},,,function(e,t,n){"use strict";function r(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function c(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){e.done?n(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(o,c)}l((s=s.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return P})),"function"==typeof SuppressedError&&SuppressedError;class o extends Error{constructor(e){var t,i,s,n;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,o.prototype),null!==e&&"object"==typeof e&&(this.url="string"==typeof e.url?e.url:"",this.status="number"==typeof e.status?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,null!==e.response&&"object"==typeof e.response?this.response=e.response:null!==e.data&&"object"==typeof e.data?this.response=e.data:this.response={}),this.originalError||e instanceof o||(this.originalError=e),"undefined"!=typeof DOMException&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=null===(t=this.response)||void 0===t?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(null===(n=null===(s=null===(i=this.originalError)||void 0===i?void 0:i.cause)||void 0===s?void 0:s.message)||void 0===n?void 0:n.includes("ECONNREFUSED ::1"))?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return Object.assign({},this)}}const c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function l(e,i,s){const t=Object.assign({},s||{}),n=t.encode||d;if(!c.test(e))throw new TypeError("argument name is invalid");const r=n(i);if(r&&!c.test(r))throw new TypeError("argument val is invalid");let a=e+"="+r;if(null!=t.maxAge){const e=t.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(e)}if(t.domain){if(!c.test(t.domain))throw new TypeError("option domain is invalid");a+="; Domain="+t.domain}if(t.path){if(!c.test(t.path))throw new TypeError("option path is invalid");a+="; Path="+t.path}if(t.expires){if(!function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}(t.expires)||isNaN(t.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.priority)switch("string"==typeof t.priority?t.priority.toLowerCase():t.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(t.sameSite)switch("string"==typeof t.sameSite?t.sameSite.toLowerCase():t.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function h(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function d(e){return encodeURIComponent(e)}let f;function m(e){if(e)try{const i=decodeURIComponent(f(e.split(".")[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(i)||{}}catch(e){}return{}}function v(e,t=0){let i=m(e);return!(Object.keys(i).length>0&&(!i.exp||i.exp-t>Date.now()/1e3))}f="function"==typeof atob?atob:e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,s,n=0,r=0,o="";s=t.charAt(r++);~s&&(i=n%4?64*i+s:s,n++%4)?o+=String.fromCharCode(255&i>>(-2*n&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return o};const i="pb_auth";class y{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!v(this.token)}get isAdmin(){return"admin"===m(this.token).type}get isAuthRecord(){return"authRecord"===m(this.token).type}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=i){const s=function(e,t){const i={};if("string"!=typeof e)return i;const s=Object.assign({},t||{}).decode||h;let n=0;for(;n<e.length;){const t=e.indexOf("=",n);if(-1===t)break;let r=e.indexOf(";",n);if(-1===r)r=e.length;else if(r<t){n=e.lastIndexOf(";",t-1)+1;continue}const o=e.slice(n,t).trim();if(void 0===i[o]){let n=e.slice(t+1,r).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{i[o]=s(n)}catch(e){i[o]=n}}n=r+1}return i}(e||"")[t]||"";let n={};try{n=JSON.parse(s),(null===typeof n||"object"!=typeof n||Array.isArray(n))&&(n={})}catch(e){}this.save(n.token||"",n.model||null)}exportToCookie(e,t=i){var s,n;const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=m(this.token);(null==o?void 0:o.exp)?r.expires=new Date(1e3*o.exp):r.expires=new Date("1970-01-01"),e=Object.assign({},r,e);const a={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let c=l(t,JSON.stringify(a),e);const h="undefined"!=typeof Blob?new Blob([c]).size:c.length;if(a.model&&h>4096){a.model={id:null===(s=null==a?void 0:a.model)||void 0===s?void 0:s.id,email:null===(n=null==a?void 0:a.model)||void 0===n?void 0:n.email};const i=["collectionId","username","verified"];for(const e in this.model)i.includes(e)&&(a.model[e]=this.model[e]);c=l(t,JSON.stringify(a),e)}return c}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let t=this._onChangeCallbacks.length-1;t>=0;t--)if(this._onChangeCallbacks[t]==e)return delete this._onChangeCallbacks[t],void this._onChangeCallbacks.splice(t,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class w extends y{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if("undefined"!=typeof window&&(null===window||void 0===window?void 0:window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch(e){return t}}return this.storageFallback[e]}_storageSet(e,t){if("undefined"!=typeof window&&(null===window||void 0===window?void 0:window.localStorage)){let i=t;"string"!=typeof t&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;"undefined"!=typeof window&&(null===window||void 0===window?void 0:window.localStorage)&&(null===(t=window.localStorage)||void 0===t||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){"undefined"!=typeof window&&(null===window||void 0===window?void 0:window.localStorage)&&window.addEventListener&&window.addEventListener("storage",(e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)}))}}class _{constructor(e){this.client=e}}class E extends _{getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then((()=>!0))}testEmail(e,t,i){return i=Object.assign({method:"POST",body:{email:e,template:t}},i),this.client.send("/api/settings/test/email",i).then((()=>!0))}generateAppleClientSecret(e,t,i,s,n,r){return r=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:s,duration:n}},r),this.client.send("/api/settings/apple/generate-client-secret",r)}}class S extends _{decode(e){return e}getFullList(e,t){if("number"==typeof e)return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then((e=>{var t;return e.items=(null===(t=e.items)||void 0===t?void 0:t.map((e=>this.decode(e))))||[],e}))}getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then((e=>{var t;if(!(null===(t=null==e?void 0:e.items)||void 0===t?void 0:t.length))throw new o({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return e.items[0]}))}getOne(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((e=>this.decode(e)))}create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then((e=>this.decode(e)))}update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then((e=>this.decode(e)))}delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then((()=>!0))}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],n=s=>r(this,void 0,void 0,(function*(){return this.getList(s,e||500,t).then((e=>{const t=e.items;return i=i.concat(t),t.length==e.perPage?n(s+1):i}))}));return n(1)}}function T(e,t,i,s){const n=void 0!==s;return n||void 0!==i?n?(console.warn(e),t.body=Object.assign({},t.body,i),t.query=Object.assign({},t.query,s),t):Object.assign(t,i):t}function O(e){var t,i;null===(i=(t=e)._resetAutoRefresh)||void 0===i||i.call(t)}class I extends S{get baseCrudPath(){return"/api/admins"}update(e,t,i){return super.update(e,t,i).then((e=>{var t,i;return(null===(t=this.client.authStore.model)||void 0===t?void 0:t.id)===e.id&&void 0===(null===(i=this.client.authStore.model)||void 0===i?void 0:i.collectionId)&&this.client.authStore.save(this.client.authStore.token,e),e}))}delete(e,t){return super.delete(e,t).then((t=>{var i,s;return t&&(null===(i=this.client.authStore.model)||void 0===i?void 0:i.id)===e&&void 0===(null===(s=this.client.authStore.model)||void 0===s?void 0:s.collectionId)&&this.client.authStore.clear(),t}))}authResponse(e){const t=this.decode((null==e?void 0:e.admin)||{});return(null==e?void 0:e.token)&&(null==e?void 0:e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(null==e?void 0:e.token)||"",admin:t})}authWithPassword(e,t,i,s){return r(this,void 0,void 0,(function*(){let n={method:"POST",body:{identity:e,password:t}};n=T("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",n,i,s);const o=n.autoRefreshThreshold;delete n.autoRefreshThreshold,n.autoRefresh||O(this.client);let c=yield this.client.send(this.baseCrudPath+"/auth-with-password",n);return c=this.authResponse(c),o&&function(e,t,i,s){O(e);const n=e.beforeSend,o=e.authStore.model,c=e.authStore.onChange(((t,i)=>{(!t||(null==i?void 0:i.id)!=(null==o?void 0:o.id)||((null==i?void 0:i.collectionId)||(null==o?void 0:o.collectionId))&&(null==i?void 0:i.collectionId)!=(null==o?void 0:o.collectionId))&&O(e)}));e._resetAutoRefresh=function(){c(),e.beforeSend=n,delete e._resetAutoRefresh},e.beforeSend=(o,c)=>r(this,void 0,void 0,(function*(){var a;const r=e.authStore.token;if(null===(a=c.query)||void 0===a?void 0:a.autoRefresh)return n?n(o,c):{url:o,sendOptions:c};let l=e.authStore.isValid;if(l&&v(e.authStore.token,t))try{yield i()}catch(e){l=!1}l||(yield s());const h=c.headers||{};for(let t in h)if("authorization"==t.toLowerCase()&&r==h[t]&&e.authStore.token){h[t]=e.authStore.token;break}return c.headers=h,n?n(o,c):{url:o,sendOptions:c}}))}(this.client,o,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},n)))),c}))}authRefresh(e,t){let i={method:"POST"};return i=T("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",i).then(this.authResponse.bind(this))}requestPasswordReset(e,t,i){let s={method:"POST",body:{email:e}};return s=T("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,i),this.client.send(this.baseCrudPath+"/request-password-reset",s).then((()=>!0))}confirmPasswordReset(e,t,i,s,n){let r={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return r=T("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",r,s,n),this.client.send(this.baseCrudPath+"/confirm-password-reset",r).then((()=>!0))}}class x extends _{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentTopics=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}subscribe(e,t){var i;return r(this,void 0,void 0,(function*(){if(!e)throw new Error("topic must be set.");const n=function(e){const i=e;let s;try{s=JSON.parse(null==i?void 0:i.data)}catch(e){}t(s||{})};return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(n),this.isConnected?1===this.subscriptions[e].length?yield this.submitSubscriptions():null===(i=this.eventSource)||void 0===i||i.addEventListener(e,n):yield this.connect(),()=>r(this,void 0,void 0,(function*(){return this.unsubscribeByTopicAndListener(e,n)}))}))}unsubscribe(e){var t;return r(this,void 0,void 0,(function*(){if(this.hasSubscriptionListeners(e)){if(e){for(let i of this.subscriptions[e])null===(t=this.eventSource)||void 0===t||t.removeEventListener(e,i);delete this.subscriptions[e]}else this.subscriptions={};this.hasSubscriptionListeners()?this.hasSubscriptionListeners(e)||(yield this.submitSubscriptions()):this.disconnect()}}))}unsubscribeByPrefix(e){var t;return r(this,void 0,void 0,(function*(){let i=!1;for(let s in this.subscriptions)if(s.startsWith(e)){i=!0;for(let e of this.subscriptions[s])null===(t=this.eventSource)||void 0===t||t.removeEventListener(s,e);delete this.subscriptions[s]}i&&(this.hasSubscriptionListeners()?yield this.submitSubscriptions():this.disconnect())}))}unsubscribeByTopicAndListener(e,t){var i;return r(this,void 0,void 0,(function*(){if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return;let s=!1;for(let n=this.subscriptions[e].length-1;n>=0;n--)this.subscriptions[e][n]===t&&(s=!0,delete this.subscriptions[e][n],this.subscriptions[e].splice(n,1),null===(i=this.eventSource)||void 0===i||i.removeEventListener(e,t));s&&(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?this.hasSubscriptionListeners(e)||(yield this.submitSubscriptions()):this.disconnect())}))}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!(null===(t=this.subscriptions[e])||void 0===t?void 0:t.length);for(let e in this.subscriptions)if(null===(i=this.subscriptions[e])||void 0===i?void 0:i.length)return!0;return!1}submitSubscriptions(){return r(this,void 0,void 0,(function*(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},query:{requestKey:this.getSubscriptionsCancelKey()}}).catch((e=>{if(!(null==e?void 0:e.isAbort))throw e}))}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getNonEmptySubscriptionTopics(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}connect(){return r(this,void 0,void 0,(function*(){if(!(this.reconnectAttempts>0))return new Promise(((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()}))}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(e=>{const t=e;this.clientId=null==t?void 0:t.lastEventId,this.submitSubscriptions().then((()=>r(this,void 0,void 0,(function*(){let e=3;for(;this.hasUnsentSubscriptions()&&e>0;)e--,yield this.submitSubscriptions()})))).then((()=>{for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId)})).catch((e=>{this.clientId="",this.connectErrorHandler(e)}))}))}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(const t of e)if(!this.lastSentTopics.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let t of this.pendingConnects)t.reject(new o(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),null===(t=this.eventSource)||void 0===t||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let e of this.pendingConnects)e.resolve();this.pendingConnects=[]}}}class C extends S{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}subscribeOne(e,t){return r(this,void 0,void 0,(function*(){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t)}))}subscribe(e,t){return r(this,void 0,void 0,(function*(){if("function"==typeof e)return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),this.client.realtime.subscribe(this.collectionIdOrName,e);if(!t)throw new Error("Missing subscription callback.");if(""===e)throw new Error("Missing topic.");let i=this.collectionIdOrName;return"*"!==e&&(i+="/"+e),this.client.realtime.subscribe(i,t)}))}unsubscribe(e){return r(this,void 0,void 0,(function*(){return"*"===e?this.client.realtime.unsubscribe(this.collectionIdOrName):e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}))}getFullList(e,t){if("number"==typeof e)return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}getList(e=1,t=30,i){return super.getList(e,t,i)}getFirstListItem(e,t){return super.getFirstListItem(e,t)}getOne(e,t){return super.getOne(e,t)}create(e,t){return super.create(e,t)}update(e,t,i){return super.update(e,t,i).then((e=>{var t,i,s;return(null===(t=this.client.authStore.model)||void 0===t?void 0:t.id)!==(null==e?void 0:e.id)||(null===(i=this.client.authStore.model)||void 0===i?void 0:i.collectionId)!==this.collectionIdOrName&&(null===(s=this.client.authStore.model)||void 0===s?void 0:s.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,e),e}))}delete(e,t){return super.delete(e,t).then((t=>{var i,s,n;return!t||(null===(i=this.client.authStore.model)||void 0===i?void 0:i.id)!==e||(null===(s=this.client.authStore.model)||void 0===s?void 0:s.collectionId)!==this.collectionIdOrName&&(null===(n=this.client.authStore.model)||void 0===n?void 0:n.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),t}))}authResponse(e){const t=this.decode((null==e?void 0:e.record)||{});return this.client.authStore.save(null==e?void 0:e.token,t),Object.assign({},e,{token:(null==e?void 0:e.token)||"",record:t})}listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then((e=>Object.assign({},e,{usernamePassword:!!(null==e?void 0:e.usernamePassword),emailPassword:!!(null==e?void 0:e.emailPassword),authProviders:Array.isArray(null==e?void 0:e.authProviders)?null==e?void 0:e.authProviders:[]})))}authWithPassword(e,t,i,s){let n={method:"POST",body:{identity:e,password:t}};return n=T("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",n,i,s),this.client.send(this.baseCollectionPath+"/auth-with-password",n).then((e=>this.authResponse(e)))}authWithOAuth2Code(e,t,i,s,n,r,o){let a={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectUrl:s,createData:n}};return a=T("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,r,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then((e=>this.authResponse(e)))}authWithOAuth2(...e){return r(this,void 0,void 0,(function*(){if(e.length>1||"string"==typeof(null==e?void 0:e[0]))return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((null==e?void 0:e[0])||"",(null==e?void 0:e[1])||"",(null==e?void 0:e[2])||"",(null==e?void 0:e[3])||"",(null==e?void 0:e[4])||{},(null==e?void 0:e[5])||{},(null==e?void 0:e[6])||{});const t=(null==e?void 0:e[0])||{},i=(yield this.listAuthMethods()).authProviders.find((e=>e.name===t.provider));if(!i)throw new o(new Error(`Missing or invalid provider "${t.provider}".`));const s=this.client.buildUrl("/api/oauth2-redirect"),n=new x(this.client);let c=null;function l(){null==c||c.close(),n.unsubscribe()}return t.urlCallback||(c=k(void 0)),new Promise(((e,h)=>r(this,void 0,void 0,(function*(){var a;try{yield n.subscribe("@oauth2",(c=>r(this,void 0,void 0,(function*(){const a=n.clientId;try{if(!c.state||a!==c.state)throw new Error("State parameters don't match.");const n=Object.assign({},t);delete n.provider,delete n.scopes,delete n.createData,delete n.urlCallback;const r=yield this.authWithOAuth2Code(i.name,c.code,i.codeVerifier,s,t.createData,n);e(r)}catch(e){h(new o(e))}l()}))));const d={state:n.clientId};(null===(a=t.scopes)||void 0===a?void 0:a.length)&&(d.scope=t.scopes.join(" "));const f=this._replaceQueryParams(i.authUrl+s,d);let m=t.urlCallback||function(e){c?c.location.href=e:c=k(e)};yield m(f)}catch(e){l(),h(new o(e))}}))))}))}authRefresh(e,t){let i={method:"POST"};return i=T("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then((e=>this.authResponse(e)))}requestPasswordReset(e,t,i){let s={method:"POST",body:{email:e}};return s=T("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then((()=>!0))}confirmPasswordReset(e,t,i,s,n){let r={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return r=T("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",r,s,n),this.client.send(this.baseCollectionPath+"/confirm-password-reset",r).then((()=>!0))}requestVerification(e,t,i){let s={method:"POST",body:{email:e}};return s=T("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-verification",s).then((()=>!0))}confirmVerification(e,t,i){let s={method:"POST",body:{token:e}};return s=T("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then((()=>!0))}requestEmailChange(e,t,i){let s={method:"POST",body:{newEmail:e}};return s=T("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",s).then((()=>!0))}confirmEmailChange(e,t,i,s){let n={method:"POST",body:{token:e,password:t}};return n=T("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",n,i,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",n).then((()=>!0))}listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}unlinkExternalAuth(e,t,i){return i=Object.assign({method:"DELETE"},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),i).then((()=>!0))}_replaceQueryParams(e,t={}){let i=e,s="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),s=e.substring(e.indexOf("?")+1));const n={},r=s.split("&");for(const e of r){if(""==e)continue;const t=e.split("=");n[decodeURIComponent(t[0].replace(/\+/g," "))]=decodeURIComponent((t[1]||"").replace(/\+/g," "))}for(let e in t)t.hasOwnProperty(e)&&(null==t[e]?delete n[e]:n[e]=t[e]);s="";for(let e in n)n.hasOwnProperty(e)&&(""!=s&&(s+="&"),s+=encodeURIComponent(e.replace(/%20/g,"+"))+"="+encodeURIComponent(n[e].replace(/%20/g,"+")));return""!=s?i+"?"+s:i}}function k(e){if("undefined"==typeof window||!(null===window||void 0===window?void 0:window.open))throw new o(new Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,i=768,s=window.innerWidth,n=window.innerHeight;t=t>s?s:t,i=i>n?n:i;let r=s/2-t/2,c=n/2-i/2;return window.open(e,"popup_window","width="+t+",height="+i+",top="+c+",left="+r+",resizable,menubar=no")}class D extends S{get baseCrudPath(){return"/api/collections"}import(e,t=!1,i){return r(this,void 0,void 0,(function*(){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then((()=>!0))}))}}class R extends _{getRequestsList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs/requests",i)}getRequest(e,t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/requests/"+encodeURIComponent(e),t)}getRequestsStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/requests/stats",e)}}class A extends _{check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class N extends _{getUrl(e,t,i={}){if(!t||!(null==e?void 0:e.id)||!(null==e?void 0:e.collectionId)&&!(null==e?void 0:e.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(t));let n=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){!1===i.download&&delete i.download;const e=new URLSearchParams(i);n+=(n.includes("?")?"&":"?")+e}return n}getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then((e=>(null==e?void 0:e.token)||""))}}class j extends _{getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then((()=>!0))}upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then((()=>!0))}delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then((()=>!0))}restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then((()=>!0))}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}const s=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];class P{constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new w,this.admins=new I(this),this.collections=new D(this),this.files=new N(this),this.logs=new R(this),this.settings=new E(this),this.realtime=new x(this),this.health=new A(this),this.backups=new j(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new C(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}getFileUrl(e,t,i={}){return this.files.getUrl(e,t,i)}buildUrl(e){var t;let i=this.baseUrl;return"undefined"==typeof window||!window.location||i.startsWith("https://")||i.startsWith("http://")||(i=(null===(t=window.location.origin)||void 0===t?void 0:t.endsWith("/"))?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(i+=window.location.pathname||"/",i+=i.endsWith("/")?"":"/"),i+=this.baseUrl),e&&(i+=i.endsWith("/")?"":"/",i+=e.startsWith("/")?e.substring(1):e),i}send(e,t){return r(this,void 0,void 0,(function*(){t=this.initSendOptions(e,t);let i=this.buildUrl(e);if(this.beforeSend){const e=Object.assign({},yield this.beforeSend(i,t));void 0!==e.url||void 0!==e.options?(i=e.url||i,t=e.options||t):Object.keys(e).length&&(t=e,(null===console||void 0===console?void 0:console.warn)&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(void 0!==t.query){const e=this.serializeQueryParams(t.query);e&&(i+=(i.includes("?")?"&":"?")+e),delete t.query}return"application/json"==this.getHeader(t.headers,"Content-Type")&&t.body&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then((e=>r(this,void 0,void 0,(function*(){let t={};try{t=yield e.json()}catch(e){}if(this.afterSend&&(t=yield this.afterSend(e,t)),e.status>=400)throw new o({url:e.url,status:e.status,data:t});return t})))).catch((e=>{throw new o(e)}))}))}initSendOptions(e,t){(t=Object.assign({method:"GET"},t)).query=t.query||{},t.body=this.convertToFormDataIfNeeded(t.body);for(let e in t)s.includes(e)||(t.query[e]=t[e],delete t[e]);if(t.query=Object.assign({},t.params,t.query),void 0===t.requestKey&&(!1===t.$autoCancel||!1===t.query.$autoCancel?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,null!==this.getHeader(t.headers,"Content-Type")||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),null===this.getHeader(t.headers,"Accept-Language")&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&null===this.getHeader(t.headers,"Authorization")&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==t.requestKey){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const s=new AbortController;this.cancelControllers[i]=s,t.signal=s.signal}return t}convertToFormDataIfNeeded(e){if("undefined"==typeof FormData||void 0===e||"object"!=typeof e||null===e||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let i in e){const s=Array.isArray(e[i])?e[i]:[e[i]];for(let e of s)t.append(i,e)}return t}hasBlobField(e){for(let t in e){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let e of i)if("undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof File&&e instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}isFormData(e){return e&&("FormData"===e.constructor.name||"undefined"!=typeof FormData&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const i in e){if(null===e[i])continue;const s=e[i],n=encodeURIComponent(i);if(Array.isArray(s))for(const e of s)t.push(n+"="+encodeURIComponent(e));else s instanceof Date?t.push(n+"="+encodeURIComponent(s.toISOString())):null!==typeof s&&"object"==typeof s?t.push(n+"="+encodeURIComponent(JSON.stringify(s))):t.push(n+"="+encodeURIComponent(s))}return t.join("&")}}},function(e){e.exports=JSON.parse('{"title":"selby","meta":[{"hid":"charset","charset":"utf-8"},{"hid":"viewport","name":"viewport","content":"width=device-width, initial-scale=1"},{"hid":"mobile-web-app-capable","name":"mobile-web-app-capable","content":"yes"},{"hid":"apple-mobile-web-app-title","name":"apple-mobile-web-app-title","content":"selby"},{"hid":"author","name":"author","content":"Haaku Digital PVT LTD"},{"hid":"description","name":"description","content":"Selby"},{"hid":"og:type","name":"og:type","property":"og:type","content":"website"},{"hid":"og:title","name":"og:title","property":"og:title","content":"selby"},{"hid":"og:site_name","name":"og:site_name","property":"og:site_name","content":"selby"},{"hid":"og:description","name":"og:description","property":"og:description","content":"Selby"}],"link":[{"hid":"shortcut-icon","rel":"shortcut icon","href":"/_nuxt/icons/icon_64x64.8c839a.png"},{"hid":"apple-touch-icon","rel":"apple-touch-icon","href":"/_nuxt/icons/icon_512x512.8c839a.png","sizes":"512x512"},{"rel":"manifest","href":"/_nuxt/manifest.947bcefc.json","hid":"manifest"}],"htmlAttrs":{"lang":"en"}}')},function(e,t,n){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},empty:{description:"No Data"}}}},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},n.p="/dist/",n(n.s=79)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,c,l,h){var d,f="function"==typeof e?e.options:e;if(t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),c&&(f._scopeId="data-v-"+c),l?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},f._ssrRegister=d):o&&(d=h?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(f.functional){f._injectStyles=d;var m=f.render;f.render=function(e,t){return d.call(t),m(e,t)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,d):[d]}return{exports:e,options:f}}n.d(t,"a",(function(){return r}))},2:function(e,t){e.exports=n(87)},3:function(e,t){e.exports=n(71)},5:function(e,t){e.exports=n(171)},7:function(e,t){e.exports=n(5)},79:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?n("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),n("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[e._t("reference")],2)],1)};r._withStripped=!0;var o=n(5),c=n.n(o),l=n(2),h=n(3),d={name:"ElPopover",mixins:[c.a],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(h.generateId)()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),t&&(Object(l.addClass)(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",this.tabindex),n.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(l.on)(t,"focusin",(function(){e.handleFocus();var n=t.__vue__;n&&"function"==typeof n.focus&&n.focus()})),Object(l.on)(n,"focusin",this.handleFocus),Object(l.on)(t,"focusout",this.handleBlur),Object(l.on)(n,"focusout",this.handleBlur)),Object(l.on)(t,"keydown",this.handleKeydown),Object(l.on)(t,"click",this.handleClick)),"click"===this.trigger?(Object(l.on)(t,"click",this.doToggle),Object(l.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(l.on)(t,"mouseenter",this.handleMouseEnter),Object(l.on)(n,"mouseenter",this.handleMouseEnter),Object(l.on)(t,"mouseleave",this.handleMouseLeave),Object(l.on)(n,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),t.querySelector("input, textarea")?(Object(l.on)(t,"focusin",this.doShow),Object(l.on)(t,"focusout",this.doClose)):(Object(l.on)(t,"mousedown",this.doShow),Object(l.on)(t,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(l.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(l.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(l.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout((function(){e.showPopper=!0}),this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout((function(){e.showPopper=!1}),this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&n&&!n.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;Object(l.off)(e,"click",this.doToggle),Object(l.off)(e,"mouseup",this.doClose),Object(l.off)(e,"mousedown",this.doShow),Object(l.off)(e,"focusin",this.doShow),Object(l.off)(e,"focusout",this.doClose),Object(l.off)(e,"mousedown",this.doShow),Object(l.off)(e,"mouseup",this.doClose),Object(l.off)(e,"mouseleave",this.handleMouseLeave),Object(l.off)(e,"mouseenter",this.handleMouseEnter),Object(l.off)(document,"click",this.handleDocumentClick)}},f=n(0),component=Object(f.a)(d,r,[],!1,null,null,null);component.options.__file="packages/popover/src/main.vue";var main=component.exports,m=function(e,t,n){var r=t.expression?t.value:t.arg,o=n.context.$refs[r];o&&(Array.isArray(o)?o[0].$refs.reference=e:o.$refs.reference=e)},v={bind:function(e,t,n){m(e,t,n)},inserted:function(e,t,n){m(e,t,n)}},y=n(7);n.n(y).a.directive("popover",v),main.install=function(e){e.directive("popover",v),e.component(main.name,main)},main.directive=v;t.default=main}})},function(e){e.exports=JSON.parse('{"a":{"alpha":"The {_field_} field may only contain alphabetic characters","alpha_num":"The {_field_} field may only contain alpha-numeric characters","alpha_dash":"The {_field_} field may contain alpha-numeric characters as well as dashes and underscores","alpha_spaces":"The {_field_} field may only contain alphabetic characters as well as spaces","between":"The {_field_} field must be between {min} and {max}","confirmed":"The {_field_} field confirmation does not match","digits":"The {_field_} field must be numeric and exactly contain {length} digits","dimensions":"The {_field_} field must be {width} pixels by {height} pixels","email":"The {_field_} field must be a valid email","excluded":"The {_field_} field is not a valid value","ext":"The {_field_} field is not a valid file","image":"The {_field_} field must be an image","integer":"The {_field_} field must be an integer","length":"The {_field_} field must be {length} long","max_value":"The {_field_} field must be {max} or less","max":"The {_field_} field may not be greater than {length} characters","mimes":"The {_field_} field must have a valid file type","min_value":"The {_field_} field must be {min} or more","min":"The {_field_} field must be at least {length} characters","numeric":"The {_field_} field may only contain numeric characters","oneOf":"The {_field_} field is not a valid value","regex":"The {_field_} field format is invalid","required_if":"The {_field_} field is required","required":"The {_field_} field is required","size":"The {_field_} field size must be less than {size}KB","double":"The {_field_} field must be a valid decimal"}}')},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d(Array.isArray(e)?[]:{},e,t):e}function l(e,t,n){return e.concat(t).map((function(e){return c(e,n)}))}function h(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t){try{return t in e}catch(e){return!1}}function d(e,i,a){(a=a||{}).arrayMerge=a.arrayMerge||l,a.isMergeableObject=a.isMergeableObject||r,a.cloneUnlessOtherwiseSpecified=c;var t=Array.isArray(i);return t===Array.isArray(e)?t?a.arrayMerge(e,i,a):function(e,t,n){var i={};return n.isMergeableObject(e)&&h(e).forEach((function(t){i[t]=c(e[t],n)})),h(t).forEach((function(r){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(i[r]=u(e,r)&&n.isMergeableObject(t[r])?function(e,t){if(!t.customMerge)return d;var n=t.customMerge(e);return"function"==typeof n?n:d}(r,n)(e[r],t[r],n):c(t[r],n))})),i}(e,i,a):c(i,a)}d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return d(e,n,t)}),{})};var i=d;function a(e,t,n){return void 0===(e=(t.split?t.split("."):t).reduce((function(e,t){return e&&e[t]}),e))?n:e}t.a=function(e,t,n){function r(e,t,n){try{return(n=t.getItem(e))&&void 0!==n?JSON.parse(n):void 0}catch(e){}}if(t=(e=e||{}).storage||window&&window.localStorage,n=e.key||"vuex",!function(e){try{return e.setItem("@@",1),e.removeItem("@@"),!0}catch(e){}return!1}(t))throw new Error("Invalid storage instance given");var o,u=function(){return a(e,"getState",r)(n,t)};return e.fetchBeforeUse&&(o=u()),function(r){e.fetchBeforeUse||(o=u()),"object"==typeof o&&null!==o&&(r.replaceState(i(r.state,o,{arrayMerge:e.arrayMerger||function(e,t){return t},clone:!1})),(e.rehydrated||function(){})(r)),(e.subscriber||function(e){return function(t){return e.subscribe(t)}})(r)((function(r,o){(e.filter||function(){return!0})(r)&&(e.setState||function(e,t,n){return n.setItem(e,JSON.stringify(t))})(n,(e.reducer||function(e,t){return 0===t.length?e:t.reduce((function(t,n){return function(e,t,n,r){return(t=t.split?t.split("."):t).slice(0,-1).reduce((function(e,t){return e[t]=e[t]||{}}),e)[t.pop()]=n,e}(t,n,a(e,n))}),{})})(o,e.paths||[]),t)}))}}},function(e,t,n){"use strict";var r=n(236),o=n.n(r),c=function(e,t,n){var r=n.includeSeconds,c=n.addSuffix;return void 0===c&&(c=!0),o()(e,{locale:t,includeSeconds:r,addSuffix:c})};t.a=function(e,t){if(!e.prototype.$timeago){0;var n={locale:t.locale};e.prototype.$timeago=e.observable?e.observable(n):new e({data:n});var r=function(e){void 0===e&&(e={});var t=e.locales||{};return{name:e.name||"Timeago",props:{datetime:{required:!0},title:{type:[String,Boolean]},locale:{type:String},autoUpdate:{type:[Number,Boolean]},converter:{type:Function},converterOptions:{type:Object}},data:function(){return{timeago:this.getTimeago()}},computed:{localeName:function(){return this.locale||this.$timeago.locale}},mounted:function(){this.startUpdater()},beforeDestroy:function(){this.stopUpdater()},render:function(e){return e("time",{attrs:{datetime:new Date(this.datetime).toISOString(),title:"string"==typeof this.title?this.title:!1===this.title?null:this.timeago}},[this.timeago])},methods:{getTimeago:function(n){return(this.converter||e.converter||c)(n||this.datetime,t[this.locale||this.$timeago.locale],this.converterOptions||{})},convert:function(e){this.timeago=this.getTimeago(e)},startUpdater:function(){var e=this;if(this.autoUpdate){var t=!0===this.autoUpdate?60:this.autoUpdate;this.updater=setInterval((function(){e.convert()}),1e3*t)}},stopUpdater:function(){this.updater&&(clearInterval(this.updater),this.updater=null)}},watch:{autoUpdate:function(e){this.stopUpdater(),e&&this.startUpdater()},datetime:function(){this.convert()},localeName:function(){this.convert()},converter:function(){this.convert()},converterOptions:{handler:function(){this.convert()},deep:!0}}}}(t);e.component(r.name,r)}}},function(e,t,n){var r=n(374);e.exports=function(e,t){return r(Date.now(),e,t)}},function(e,t,n){window,e.exports=function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=25)}([function(e,t,i){var n=i(11);"string"==typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0};i(3)(n,r),n.locals&&(e.exports=n.locals)},function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){return a(e)||s(e)||o(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e){e.forEach((function(e,t){document.documentElement.addEventListener(t,e)}))}function u(e){e.forEach((function(e,t){document.documentElement.removeEventListener(t,e)}))}var h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vdr",class:(e.active||e.isActive?"active":"inactive")+" "+(e.contentClass?e.contentClass:""),style:e.positionStyle,on:{mousedown:function(t){e.bodyDown(t)},touchstart:function(t){e.bodyDown(t)},touchend:function(t){e.up(t)}}},[i("div",{ref:"container",staticClass:"content-container",style:e.sizeStyle},[e._t("default")],2),e._v(" "),e._l(e.sticks,(function(t){return i("div",{staticClass:"vdr-stick",class:["vdr-stick-"+t,e.isResizable?"":"not-resizable"],style:e.vdrStick(t),on:{mousedown:function(i){i.stopPropagation(),i.preventDefault(),e.stickDown(t,i)},touchstart:function(i){i.stopPropagation(),i.preventDefault(),e.stickDown(t,i)}}})}))],2)},d=[];h._withStripped=!0;var f={y:{t:"top",m:"marginTop",b:"bottom"},x:{l:"left",m:"marginLeft",r:"right"}},p={name:"vue-drag-resize",emits:["clicked","dragging","dragstop","resizing","resizestop","activated","deactivated"],props:{stickSize:{type:Number,default:8},parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},snapToGrid:{type:Boolean,default:!1},gridX:{type:Number,default:50,validator:function(e){return e>=0}},gridY:{type:Number,default:50,validator:function(e){return e>=0}},parentW:{type:Number,default:0,validator:function(e){return e>=0}},parentH:{type:Number,default:0,validator:function(e){return e>=0}},w:{type:[String,Number],default:200,validator:function(e){return"string"==typeof e?"auto"===e:e>=0}},h:{type:[String,Number],default:200,validator:function(e){return"string"==typeof e?"auto"===e:e>=0}},minw:{type:Number,default:50,validator:function(e){return e>=0}},minh:{type:Number,default:50,validator:function(e){return e>=0}},x:{type:Number,default:0,validator:function(e){return"number"==typeof e}},y:{type:Number,default:0,validator:function(e){return"number"==typeof e}},z:{type:[String,Number],default:"auto",validator:function(e){return"string"==typeof e?"auto"===e:e>=0}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(e){return-1!==["x","y","both","none"].indexOf(e)}},contentClass:{type:String,required:!1,default:""}},data:function(){return{fixAspectRatio:null,active:null,zIndex:null,parentWidth:null,parentHeight:null,left:null,top:null,right:null,bottom:null,minHeight:null}},beforeCreate:function(){this.stickDrag=!1,this.bodyDrag=!1,this.dimensionsBeforeMove={pointerX:0,pointerY:0,x:0,y:0,w:0,h:0},this.limits={left:{min:null,max:null},right:{min:null,max:null},top:{min:null,max:null},bottom:{min:null,max:null}},this.currentStick=null},mounted:function(){var e=this;this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.left=this.x,this.top=this.y,this.right=this.parentWidth-("auto"===this.w?this.$refs.container.scrollWidth:this.w)-this.left,this.bottom=this.parentHeight-("auto"===this.h?this.$refs.container.scrollHeight:this.h)-this.top,this.domEvents=new Map([["mousemove",this.move],["mouseup",this.up],["mouseleave",this.up],["mousedown",this.deselect],["touchmove",this.move],["touchend",this.up],["touchcancel",this.up],["touchstart",this.up]]),l(this.domEvents),this.dragHandle&&n(this.$el.querySelectorAll(this.dragHandle)).forEach((function(t){t.setAttribute("data-drag-handle",e._uid)})),this.dragCancel&&n(this.$el.querySelectorAll(this.dragCancel)).forEach((function(t){t.setAttribute("data-drag-cancel",e._uid)}))},beforeDestroy:function(){u(this.domEvents)},methods:{deselect:function(){this.preventActiveBehavior||(this.active=!1)},move:function(e){if(this.stickDrag||this.bodyDrag){e.stopPropagation();var t=void 0!==e.pageX?e.pageX:e.touches[0].pageX,i=void 0!==e.pageY?e.pageY:e.touches[0].pageY,n=this.dimensionsBeforeMove,r={x:(n.pointerX-t)/this.parentScaleX,y:(n.pointerY-i)/this.parentScaleY};if(this.stickDrag&&this.stickMove(r),this.bodyDrag){if("x"===this.axis)r.y=0;else if("y"===this.axis)r.x=0;else if("none"===this.axis)return;this.bodyMove(r)}}},up:function(e){this.stickDrag?this.stickUp(e):this.bodyDrag&&this.bodyUp(e)},bodyDown:function(e){var t=e.target,i=e.button;if(this.preventActiveBehavior||(this.active=!0),(!i||0===i)&&(this.$emit("clicked",e),this.active&&!(this.dragHandle&&t.getAttribute("data-drag-handle")!==this._uid.toString()||this.dragCancel&&t.getAttribute("data-drag-cancel")===this._uid.toString()))){void 0!==e.stopPropagation&&e.stopPropagation(),void 0!==e.preventDefault&&e.preventDefault(),this.isDraggable&&(this.bodyDrag=!0);var n=void 0!==e.pageX?e.pageX:e.touches[0].pageX,r=void 0!==e.pageY?e.pageY:e.touches[0].pageY;this.saveDimensionsBeforeMove({pointerX:n,pointerY:r}),this.parentLimitation&&(this.limits=this.calcDragLimitation())}},bodyMove:function(e){var t=this.dimensionsBeforeMove,i=this.parentWidth,n=this.parentHeight,r=this.gridX,o=this.gridY,s=this.width,a=this.height,c=t.top-e.y,l=t.bottom+e.y,u=t.left-e.x,h=t.right+e.x;if(this.snapToGrid){var d=!0,f=!0,p=c-Math.floor(c/o)*o,m=n-l-Math.floor((n-l)/o)*o,v=u-Math.floor(u/r)*r,g=i-h-Math.floor((i-h)/r)*r;p>o/2&&(p-=o),m>o/2&&(m-=o),v>r/2&&(v-=r),g>r/2&&(g-=r),Math.abs(m)<Math.abs(p)&&(d=!1),Math.abs(g)<Math.abs(v)&&(f=!1),l=n-a-(c-=d?p:m),h=i-s-(u-=f?v:g)}var b=this.rectCorrectionByLimit({newLeft:u,newRight:h,newTop:c,newBottom:l});this.left=b.newLeft,this.right=b.newRight,this.top=b.newTop,this.bottom=b.newBottom,this.$emit("dragging",this.rect)},bodyUp:function(){this.bodyDrag=!1,this.$emit("dragging",this.rect),this.$emit("dragstop",this.rect),this.dimensionsBeforeMove={pointerX:0,pointerY:0,x:0,y:0,w:0,h:0},this.limits={left:{min:null,max:null},right:{min:null,max:null},top:{min:null,max:null},bottom:{min:null,max:null}}},stickDown:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.isResizable&&this.active||i){this.stickDrag=!0;var n=void 0!==t.pageX?t.pageX:t.touches[0].pageX,r=void 0!==t.pageY?t.pageY:t.touches[0].pageY;this.saveDimensionsBeforeMove({pointerX:n,pointerY:r}),this.currentStick=e,this.limits=this.calcResizeLimits()}},saveDimensionsBeforeMove:function(e){var t=e.pointerX,i=e.pointerY;this.dimensionsBeforeMove.pointerX=t,this.dimensionsBeforeMove.pointerY=i,this.dimensionsBeforeMove.left=this.left,this.dimensionsBeforeMove.right=this.right,this.dimensionsBeforeMove.top=this.top,this.dimensionsBeforeMove.bottom=this.bottom,this.dimensionsBeforeMove.width=this.width,this.dimensionsBeforeMove.height=this.height,this.aspectFactor=this.width/this.height},stickMove:function(e){var t=this.currentStick,i=this.dimensionsBeforeMove,n=this.gridY,r=this.gridX,o=this.snapToGrid,s=this.parentHeight,a=this.parentWidth,c=i.top,l=i.bottom,u=i.left,h=i.right;switch(t[0]){case"b":l=i.bottom+e.y,o&&(l=s-Math.round((s-l)/n)*n);break;case"t":c=i.top-e.y,o&&(c=Math.round(c/n)*n)}switch(t[1]){case"r":h=i.right+e.x,o&&(h=a-Math.round((a-h)/r)*r);break;case"l":u=i.left-e.x,o&&(u=Math.round(u/r)*r)}var d=this.rectCorrectionByLimit({newLeft:u,newRight:h,newTop:c,newBottom:l});if(u=d.newLeft,h=d.newRight,c=d.newTop,l=d.newBottom,this.aspectRatio){var f=this.rectCorrectionByAspectRatio({newLeft:u,newRight:h,newTop:c,newBottom:l});u=f.newLeft,h=f.newRight,c=f.newTop,l=f.newBottom}this.left=u,this.right=h,this.top=c,this.bottom=l,this.$emit("resizing",this.rect)},stickUp:function(){this.stickDrag=!1,this.dimensionsBeforeMove={pointerX:0,pointerY:0,x:0,y:0,w:0,h:0},this.limits={left:{min:null,max:null},right:{min:null,max:null},top:{min:null,max:null},bottom:{min:null,max:null}},this.$emit("resizing",this.rect),this.$emit("resizestop",this.rect)},calcDragLimitation:function(){var e=this.parentWidth,t=this.parentHeight;return{left:{min:0,max:e-this.width},right:{min:0,max:e-this.width},top:{min:0,max:t-this.height},bottom:{min:0,max:t-this.height}}},calcResizeLimits:function(){var e=this.aspectFactor,t=this.width,i=this.height,n=this.bottom,r=this.top,o=this.left,s=this.right,a=this.minh,c=this.minw,l=this.parentLimitation?0:null;this.aspectRatio&&(c/a>e?a=c/e:c=e*a);var u={left:{min:l,max:o+(t-c)},right:{min:l,max:s+(t-c)},top:{min:l,max:r+(i-a)},bottom:{min:l,max:n+(i-a)}};if(this.aspectRatio){var h={left:{min:o-Math.min(r,n)*e*2,max:o+(i-a)/2*e*2},right:{min:s-Math.min(r,n)*e*2,max:s+(i-a)/2*e*2},top:{min:r-Math.min(o,s)/e*2,max:r+(t-c)/2/e*2},bottom:{min:n-Math.min(o,s)/e*2,max:n+(t-c)/2/e*2}};"m"===this.currentStick[0]?(u.left={min:Math.max(u.left.min,h.left.min),max:Math.min(u.left.max,h.left.max)},u.right={min:Math.max(u.right.min,h.right.min),max:Math.min(u.right.max,h.right.max)}):"m"===this.currentStick[1]&&(u.top={min:Math.max(u.top.min,h.top.min),max:Math.min(u.top.max,h.top.max)},u.bottom={min:Math.max(u.bottom.min,h.bottom.min),max:Math.min(u.bottom.max,h.bottom.max)})}return u},sideCorrectionByLimit:function(e,t){var i=t;return null!==e.min&&t<e.min?i=e.min:null!==e.max&&e.max<t&&(i=e.max),i},rectCorrectionByLimit:function(e){var t=this.limits,i=e.newRight,n=e.newLeft,r=e.newBottom,o=e.newTop;return{newLeft:n=this.sideCorrectionByLimit(t.left,n),newRight:i=this.sideCorrectionByLimit(t.right,i),newTop:o=this.sideCorrectionByLimit(t.top,o),newBottom:r=this.sideCorrectionByLimit(t.bottom,r)}},rectCorrectionByAspectRatio:function(e){var t=e.newLeft,i=e.newRight,n=e.newTop,r=e.newBottom,o=this.parentWidth,s=this.parentHeight,a=this.currentStick,c=this.aspectFactor,l=this.dimensionsBeforeMove,u=o-t-i,h=s-n-r;if("m"===a[1]){var d=h-l.height;t-=d*c/2,i-=d*c/2}else if("m"===a[0]){var f=u-l.width;n-=f/c/2,r-=f/c/2}else u/h>c?(u=c*h,"l"===a[1]?t=o-i-u:i=o-t-u):(h=u/c,"t"===a[0]?n=s-r-h:r=s-n-h);return{newLeft:t,newRight:i,newTop:n,newBottom:r}}},computed:{positionStyle:function(){return{top:this.top+"px",left:this.left+"px",zIndex:this.zIndex}},sizeStyle:function(){return{width:"auto"==this.w?"auto":this.width+"px",height:"auto"==this.h?"auto":this.height+"px"}},vdrStick:function(){var e=this;return function(t){var i={width:"".concat(e.stickSize/e.parentScaleX,"px"),height:"".concat(e.stickSize/e.parentScaleY,"px")};return i[f.y[t[0]]]="".concat(e.stickSize/e.parentScaleX/-2,"px"),i[f.x[t[1]]]="".concat(e.stickSize/e.parentScaleX/-2,"px"),i}},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},rect:function(){return{left:Math.round(this.left),top:Math.round(this.top),width:Math.round(this.width),height:Math.round(this.height)}}},watch:{active:function(e){e?this.$emit("activated"):this.$emit("deactivated")},isActive:{immediate:!0,handler:function(e){this.active=e}},z:{immediate:!0,handler:function(e){(e>=0||"auto"===e)&&(this.zIndex=e)}},x:{handler:function(e,t){var i=this;if(!this.stickDrag&&!this.bodyDrag&&e!==this.left){var n=t-e;this.bodyDown({pageX:this.left,pageY:this.top}),this.bodyMove({x:n,y:0}),this.$nextTick((function(){i.bodyUp()}))}}},y:{handler:function(e,t){var i=this;if(!this.stickDrag&&!this.bodyDrag&&e!==this.top){var n=t-e;this.bodyDown({pageX:this.left,pageY:this.top}),this.bodyMove({x:0,y:n}),this.$nextTick((function(){i.bodyUp()}))}}},w:{handler:function(e,t){var i=this;if(!this.stickDrag&&!this.bodyDrag&&e!==this.width){var n=t-e;this.stickDown("mr",{pageX:this.right,pageY:this.top+this.height/2},!0),this.stickMove({x:n,y:0}),this.$nextTick((function(){i.stickUp()}))}}},h:{handler:function(e,t){var i=this;if(!this.stickDrag&&!this.bodyDrag&&e!==this.height){var n=t-e;this.stickDown("bm",{pageX:this.left+this.width/2,pageY:this.bottom},!0),this.stickMove({x:0,y:n}),this.$nextTick((function(){i.stickUp()}))}}},parentW:function(e){this.right=e-this.width-this.left,this.parentWidth=e},parentH:function(e){this.bottom=e-this.height-this.top,this.parentHeight=e}}},m=p,v=(i(12),i(1)),g=Object(v.a)(m,h,d,!1,null,null,null);g.options.__file="src/components/vue-drag-resize.vue",t.a=g.exports},function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=p[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(u(n.parts[o],t))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(u(n.parts[o],t));p[n.id]={id:n.id,refs:1,parts:s}}}}function r(e,t){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],s=t.base?o[0]+t.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(u):i.push(n[s]={id:s,parts:[u]})}return i}function o(e,t){var i=v(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=y[y.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function s(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),o(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),o(e,t),t}function l(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function u(e,t){var i,n,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=b++;i=g||(g=a(t)),n=h.bind(null,i,l,!1),r=h.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=c(t),n=f.bind(null,i,t),r=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=a(t),n=d.bind(null,i),r=function(){s(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function h(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function d(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function f(e,t,i){var n=i.css,r=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(n=w(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),v=function(e){var t={};return function(i){return void 0===t[i]&&(t[i]=e.call(this,i)),t[i]}}((function(e){return document.querySelector(e)})),g=null,b=0,y=[],w=i(10);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=r(e,t);return n(i,t),function(e){for(var o=[],s=0;s<i.length;s++){var a=i[s];(c=p[a.id]).refs--,o.push(c)}for(e&&n(r(e,t),t),s=0;s<o.length;s++){var c;if(0===(c=o[s]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var _=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){function i(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=n(r);return[i].concat(r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}))).concat([o]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},,,,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,i){(e.exports=i(4)(!1)).push([e.i,'\n.vdr,.vdr.active:before{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box\n}\n.vdr.active:before{content:"";width:100%;height:100%;top:0;left:0;outline:1px dashed #d6d6d6\n}\n.vdr-stick{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;font-size:1px;background:#fff;border:1px solid #6c6c6c;-webkit-box-shadow:0 0 2px #bbb;box-shadow:0 0 2px #bbb\n}\n.inactive .vdr-stick{display:none\n}\n.vdr-stick-br,.vdr-stick-tl{cursor:nwse-resize\n}\n.vdr-stick-bm,.vdr-stick-tm{left:50%;cursor:ns-resize\n}\n.vdr-stick-bl,.vdr-stick-tr{cursor:nesw-resize\n}\n.vdr-stick-ml,.vdr-stick-mr{top:50%;cursor:ew-resize\n}\n.vdr-stick.not-resizable{display:none\n}\n.content-container{display:block;position:relative\n}',""])},function(e,t,i){"use strict";var n=i(0);i.n(n).a},,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),function(e){function n(e){n.installed||(n.installed=!0,e.component("vue-drag-resize",r.a))}i.d(t,"install",(function(){return n}));var r=i(2),o={install:n},s=null;"undefined"!=typeof window?s=window.Vue:void 0!==e&&(s=e.Vue),s&&s.use(o),t.default=r.a}.call(this,i(5))}])},function(e,t,n){"use strict";var r=n(10),o=(n(37),n(19),n(5)),c=n(3),l=window.__NUXT__;function h(){if(!this._hydrated)return this.$fetch()}function d(){if((e=this).$vnode&&e.$vnode.elm&&e.$vnode.elm.dataset&&e.$vnode.elm.dataset.fetchKey){var e;this._hydrated=!0,this._fetchKey=this.$vnode.elm.dataset.fetchKey;var data=l.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var t in data)o.default.set(this.$data,t,data[t])}}function f(){var e=this;return this._fetchPromise||(this._fetchPromise=m.call(this).then((function(){delete e._fetchPromise}))),this._fetchPromise}function m(){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,t=null,n=Date.now(),e.prev=6,e.next=9,this.$options.fetch.call(this);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),t=Object(c.p)(e.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){e.next=19;break}return e.next=19,new Promise((function(e){return setTimeout(e,r)}));case 19:this.$fetchState.error=t,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return e.stop()}}),e,this,[[6,11]])})))).apply(this,arguments)}t.a={beforeCreate:function(){Object(c.l)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.default.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=f.bind(this),Object(c.a)(this,"created",d),Object(c.a)(this,"beforeMount",h))}}},function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){return r(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function c(e){r(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function l(e){if(r(1,arguments),!o(e)&&"number"!=typeof e)return!1;var t=c(e);return!isNaN(Number(t))}n.d(t,"a",(function(){return me}));var h={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d=function(e,t,n){var r,o=h[e];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function f(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var m={date:f({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},v={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y=function(e,t,n,r){return v[e]};function w(e){return function(t,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var c=e.defaultFormattingWidth||e.defaultWidth,l=o.width?String(o.width):c;r=e.formattingValues[l]||e.formattingValues[c]}else{var h=e.defaultWidth,d=o.width?String(o.width):e.defaultWidth;r=e.values[d]||e.values[h]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var _={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:w({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:w({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:w({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:w({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:w({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function E(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],c=t.match(o);if(!c)return null;var l,h=c[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?T(d,(function(pattern){return pattern.test(h)})):S(d,(function(pattern){return pattern.test(h)}));l=e.valueCallback?e.valueCallback(f):f,l=n.valueCallback?n.valueCallback(l):l;var m=t.slice(h.length);return{value:l,rest:m}}}function S(object,e){for(var t in object)if(object.hasOwnProperty(t)&&e(object[t]))return t}function T(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var O,I={ordinalNumber:(O={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(O.matchPattern);if(!n)return null;var r=n[0],o=e.match(O.parsePattern);if(!o)return null;var c=O.valueCallback?O.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;var l=e.slice(r.length);return{value:c,rest:l}}),era:E({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:E({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:E({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:E({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:E({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},x={code:"en-US",formatDistance:d,formatLong:m,formatRelative:y,localize:_,match:I,options:{weekStartsOn:0,firstWeekContainsDate:1}};function C(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function k(e,t){r(2,arguments);var n=c(e).getTime(),o=C(t);return new Date(n+o)}function D(e,t){r(2,arguments);var n=C(t);return k(e,-n)}function R(e,t){for(var n=e<0?"-":"",output=Math.abs(e).toString();output.length<t;)output="0"+output;return n+output}var A={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return R("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):R(n+1,2)},d:function(e,t){return R(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return R(e.getUTCHours()%12||12,t.length)},H:function(e,t){return R(e.getUTCHours(),t.length)},m:function(e,t){return R(e.getUTCMinutes(),t.length)},s:function(e,t){return R(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return R(Math.floor(r*Math.pow(10,n-3)),t.length)}},N=864e5;function j(e){r(1,arguments);var t=1,n=c(e),o=n.getUTCDay(),l=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-l),n.setUTCHours(0,0,0,0),n}function P(e){r(1,arguments);var t=c(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var l=j(o),h=new Date(0);h.setUTCFullYear(n,0,4),h.setUTCHours(0,0,0,0);var d=j(h);return t.getTime()>=l.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function M(e){r(1,arguments);var t=P(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var o=j(n);return o}var L=6048e5;function U(e,t){r(1,arguments);var n=t||{},o=n.locale,l=o&&o.options&&o.options.weekStartsOn,h=null==l?0:C(l),d=null==n.weekStartsOn?h:C(n.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=c(e),m=f.getUTCDay(),v=(m<d?7:0)+m-d;return f.setUTCDate(f.getUTCDate()-v),f.setUTCHours(0,0,0,0),f}function F(e,t){r(1,arguments);var n=c(e,t),o=n.getUTCFullYear(),l=t||{},h=l.locale,d=h&&h.options&&h.options.firstWeekContainsDate,f=null==d?1:C(d),m=null==l.firstWeekContainsDate?f:C(l.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(o+1,0,m),v.setUTCHours(0,0,0,0);var y=U(v,t),w=new Date(0);w.setUTCFullYear(o,0,m),w.setUTCHours(0,0,0,0);var _=U(w,t);return n.getTime()>=y.getTime()?o+1:n.getTime()>=_.getTime()?o:o-1}function V(e,t){r(1,arguments);var n=t||{},o=n.locale,c=o&&o.options&&o.options.firstWeekContainsDate,l=null==c?1:C(c),h=null==n.firstWeekContainsDate?l:C(n.firstWeekContainsDate),d=F(e,t),f=new Date(0);f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0);var m=U(f,t);return m}var B=6048e5;var $="midnight",H="noon",z="morning",W="afternoon",G="evening",Y="night",K={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return A.y(e,t)},Y:function(e,t,n,r){var o=F(e,r),c=o>0?o:1-o;return"YY"===t?R(c%100,2):"Yo"===t?n.ordinalNumber(c,{unit:"year"}):R(c,t.length)},R:function(e,t){return R(P(e),t.length)},u:function(e,t){return R(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return R(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return R(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return A.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return R(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){var l=function(e,t){r(1,arguments);var n=c(e),o=U(n,t).getTime()-V(n,t).getTime();return Math.round(o/B)+1}(e,o);return"wo"===t?n.ordinalNumber(l,{unit:"week"}):R(l,t.length)},I:function(e,t,n){var o=function(e){r(1,arguments);var t=c(e),n=j(t).getTime()-M(t).getTime();return Math.round(n/L)+1}(e);return"Io"===t?n.ordinalNumber(o,{unit:"week"}):R(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):A.d(e,t)},D:function(e,t,n){var o=function(e){r(1,arguments);var t=c(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),l=n-o;return Math.floor(l/N)+1}(e);return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):R(o,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),c=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return R(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),c=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return R(c,t.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return R(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?H:0===o?$:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?G:o>=12?W:o>=4?z:Y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return A.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):A.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):R(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):R(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):A.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):A.s(e,t)},S:function(e,t){return A.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return Z(o);case"XXXX":case"XX":return Q(o);default:return Q(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Z(o);case"xxxx":case"xx":return Q(o);default:return Q(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+X(o,":");default:return"GMT"+Q(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+X(o,":");default:return"GMT"+Q(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return R(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return R((r._originalDate||e).getTime(),t.length)}};function X(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),c=r%60;if(0===c)return n+String(o);var l=t||"";return n+String(o)+l+R(c,2)}function Z(e,t){return e%60==0?(e>0?"-":"+")+R(Math.abs(e)/60,2):Q(e,t)}function Q(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+R(Math.floor(o/60),2)+n+R(o%60,2)}var J=K;function ee(pattern,e){switch(pattern){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}}function te(pattern,e){switch(pattern){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}}var ne={p:te,P:function(pattern,e){var t,n=pattern.match(/(P+)(p+)?/),r=n[1],o=n[2];if(!o)return ee(pattern,e);switch(r){case"P":t=e.dateTime({width:"short"});break;case"PP":t=e.dateTime({width:"medium"});break;case"PPP":t=e.dateTime({width:"long"});break;default:t=e.dateTime({width:"full"})}return t.replace("{{date}}",ee(r,e)).replace("{{time}}",te(o,e))}},re=ne;function ie(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var oe=["D","DD"],se=["YY","YYYY"];function ae(e){return-1!==oe.indexOf(e)}function ue(e){return-1!==se.indexOf(e)}function ce(e,t,input){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(input,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(input,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(input,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(input,"`; see: https://git.io/fxCyr"))}var le=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,he=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,de=/^'([^]*?)'?$/,fe=/''/g,pe=/[a-zA-Z]/;function me(e,t,n){r(2,arguments);var o=String(t),h=n||{},d=h.locale||x,f=d.options&&d.options.firstWeekContainsDate,m=null==f?1:C(f),v=null==h.firstWeekContainsDate?m:C(h.firstWeekContainsDate);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=d.options&&d.options.weekStartsOn,w=null==y?0:C(y),_=null==h.weekStartsOn?w:C(h.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var E=c(e);if(!l(E))throw new RangeError("Invalid time value");var S=ie(E),T=D(E,S),O={firstWeekContainsDate:v,weekStartsOn:_,locale:d,_originalDate:E},I=o.match(he).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,re[t])(e,d.formatLong,O):e})).join("").match(le).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return ge(n);var o=J[r];if(o)return!h.useAdditionalWeekYearTokens&&ue(n)&&ce(n,t,e),!h.useAdditionalDayOfYearTokens&&ae(n)&&ce(n,t,e),o(T,n,d.localize,O);if(r.match(pe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return I}function ge(input){return input.match(de)[1].replace(fe,"'")}},,,,,function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){this.$children.forEach((function(o){o.$options.componentName===e?o.$emit.apply(o,[t].concat(n)):r.apply(o,[e,t].concat([n]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){for(var r=this.$parent||this.$root,o=r.$options.componentName;r&&(!o||o!==e);)(r=r.$parent)&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){r.call(this,e,t,n)}}}},function(e,t,n){},function(e,t,n){var r=n(253);e.exports=function(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){if(c.default.prototype.$isServer)return 0;if(void 0!==l)return l;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),l=t-r};var r,o=n(5),c=(r=o)&&r.__esModule?r:{default:r};var l=void 0},,function(e,t,n){"use strict";t.__esModule=!0;n(71);t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},,,function(e,t){e.exports=function(e,t,n,r){var o,c=0;return"boolean"!=typeof t&&(r=n,n=t,t=void 0),function(){var l=this,h=Number(new Date)-c,d=arguments;function f(){c=Number(new Date),n.apply(l,d)}function m(){o=void 0}r&&!o&&f(),o&&clearTimeout(o),void 0===r&&h>e?f():!0!==t&&(o=setTimeout(r?m:f,void 0===r?e-h:e))}}},function(e,t,n){"use strict";t.__esModule=!0,t.isDef=function(e){return null!=e},t.isKorean=function(text){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(text)}},function(e,t,n){!function(e){"use strict";function t(){}function n(e){if(!e)return t;var n,r,o=e.scale[0],c=e.scale[1],l=e.translate[0],h=e.translate[1];return function(e,i){i||(n=r=0),e[0]=(n+=e[0])*o+l,e[1]=(r+=e[1])*c+h}}function r(e){if(!e)return t;var n,r,o=e.scale[0],c=e.scale[1],l=e.translate[0],h=e.translate[1];return function(e,i){i||(n=r=0);var t=Math.round((e[0]-l)/o),d=Math.round((e[1]-h)/c);e[0]=t-n,e[1]=d-r,n=t,r=d}}function o(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function c(a,e){for(var t=0,n=a.length;t<n;){var r=t+n>>>1;a[r]<e?t=r+1:n=r}return t}function l(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return h(e,t)}))}:h(e,t)}function h(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:object(e,t)};return null==t.id&&delete n.id,n}function object(e,t){var r=n(e.transform),c=e.arcs;function l(i,e){e.length&&e.pop();for(var p,a=c[i<0?~i:i],t=0,n=a.length;t<n;++t)e.push(p=a[t].slice()),r(p,t);i<0&&o(e,n)}function h(p){return p=p.slice(),r(p,0),p}function line(e){for(var t=[],i=0,n=e.length;i<n;++i)l(e[i],t);return t.length<2&&t.push(t[0].slice()),t}function d(e){for(var t=line(e);t.length<4;)t.push(t[0].slice());return t}function polygon(e){return e.map(d)}function f(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(f)}:t in m?{type:t,coordinates:m[t](e)}:null}var m={Point:function(e){return h(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(h)},LineString:function(e){return line(e.arcs)},MultiLineString:function(e){return e.arcs.map(line)},Polygon:function(e){return polygon(e.arcs)},MultiPolygon:function(e){return e.arcs.map(polygon)}};return f(t)}function d(e,t){var n={},r={},o={},c=[],l=-1;function h(i){var t,n=e.arcs[i<0?~i:i],r=n[0];return e.transform?(t=[0,0],n.forEach((function(e){t[0]+=e[0],t[1]+=e[1]}))):t=n[n.length-1],i<0?[t,r]:[r,t]}function d(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(i){n[i<0?~i:i]=1})),c.push(o)}}return t.forEach((function(i,n){var r,o=e.arcs[i<0?~i:i];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++l],t[l]=i,t[n]=r)})),t.forEach((function(i){var e,g,t=h(i),n=t[0],c=t[1];if(e=o[n])if(delete o[e.end],e.push(i),e.end=c,g=r[c]){delete r[g.start];var l=g===e?e:e.concat(g);r[l.start=e.start]=o[l.end=g.end]=l}else r[e.start]=o[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(i),e.start=n,g=o[n]){delete o[g.end];var d=g===e?e:g.concat(e);r[d.start=g.start]=o[d.end=e.end]=d}else r[e.start]=o[e.end]=e;else r[(e=[i]).start=n]=o[e.end=c]=e})),d(o,r),d(r,o),t.forEach((function(i){n[i<0?~i:i]||c.push([i])})),c}function f(e){return object(e,m.apply(this,arguments))}function m(e,t,filter){var n=[];function r(i){var e=i<0?~i:i;(l[e]||(l[e]=[])).push({i:i,g:c})}function line(e){e.forEach(r)}function polygon(e){e.forEach(line)}function o(e){"GeometryCollection"===e.type?e.geometries.forEach(o):e.type in h&&(c=e,h[e.type](e.arcs))}if(arguments.length>1){var c,l=[],h={LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(e){e.forEach(polygon)}};o(t),l.forEach(arguments.length<3?function(e){n.push(e[0].i)}:function(e){filter(e[0].g,e[e.length-1].g)&&n.push(e[0].i)})}else for(var i=0,f=e.arcs.length;i<f;++i)n.push(i);return{type:"MultiLineString",arcs:d(e,n)}}function v(e){var a=e[0],b=e[1],t=e[2];return Math.abs((a[0]-t[0])*(b[1]-a[1])-(a[0]-b[0])*(t[1]-a[1]))}function y(e){for(var a,i=-1,t=e.length,b=e[t-1],area=0;++i<t;)a=b,b=e[i],area+=a[0]*b[1]-a[1]*b[0];return area/2}function w(e){return object(e,_.apply(this,arguments))}function _(e,t){var n={},r=[],o=[];function c(polygon){polygon.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(polygon)}))})),r.push(polygon)}function area(t){return Math.abs(y(object(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}return t.forEach((function(e){"Polygon"===e.type?c(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(c)})),r.forEach((function(polygon){if(!polygon._){var component=[],e=[polygon];for(polygon._=1,o.push(component);polygon=e.pop();)component.push(polygon),polygon.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(polygon){polygon._||(polygon._=1,e.push(polygon))}))}))}))}})),r.forEach((function(polygon){delete polygon._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(polygon){polygon.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&o.push(e)}))}))})),(r=(o=d(e,o)).length)>1)for(var c,l,i=1,h=area(o[0]);i<r;++i)(c=area(o[i]))>h&&(l=o[0],o[0]=o[i],o[i]=l,h=c);return o}))}}function E(e){var t={},n=e.map((function(){return[]}));function line(e,i){e.forEach((function(a){a<0&&(a=~a);var e=t[a];e?e.push(i):t[a]=[i]}))}function polygon(e,i){e.forEach((function(e){line(e,i)}))}function r(e,i){"GeometryCollection"===e.type?e.geometries.forEach((function(e){r(e,i)})):e.type in o&&o[e.type](e.arcs,i)}var o={LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(e,i){e.forEach((function(e){polygon(e,i)}))}};for(var i in e.forEach(r),t)for(var l=t[i],h=l.length,d=0;d<h;++d)for(var f=d+1;f<h;++f){var m,v=l[d],y=l[f];(m=n[v])[i=c(m,y)]!==y&&m.splice(i,0,y),(m=n[y])[i=c(m,v)]!==v&&m.splice(i,0,v)}return n}function S(a,b){return a[1][2]-b[1][2]}function T(){var e={},t=[],n=0;function r(object,i){for(;i>0;){var e=(i+1>>1)-1,n=t[e];if(S(object,n)>=0)break;t[n._=i]=n,t[object._=i=e]=object}}function o(object,i){for(;;){var e=i+1<<1,r=e-1,o=i,c=t[o];if(r<n&&S(t[r],c)<0&&(c=t[o=r]),e<n&&S(t[e],c)<0&&(c=t[o=e]),o===i)break;t[c._=i]=c,t[object._=i=o]=object}}return e.push=function(object){return r(t[object._=n]=object,n++),n},e.pop=function(){if(!(n<=0)){var object,e=t[0];return--n>0&&(object=t[n],o(t[object._=0]=object,0)),e}},e.remove=function(e){var object,i=e._;if(t[i]===e)return i!==--n&&(S(object=t[n],e)<0?r:o)(t[object._=i]=object,i),i},e}function O(e,t){var o=n(e.transform),c=r(e.transform),l=T();function h(e){l.remove(e),e[1][2]=t(e),l.push(e)}return t||(t=v),e.arcs.forEach((function(e){var n,i,r,p,d=[],f=0;for(i=0,r=e.length;i<r;++i)p=e[i],o(e[i]=[p[0],p[1],1/0],i);for(i=1,r=e.length-1;i<r;++i)(n=e.slice(i-1,i+2))[1][2]=t(n),d.push(n),l.push(n);for(i=0,r=d.length;i<r;++i)(n=d[i]).previous=d[i-1],n.next=d[i+1];for(;n=l.pop();){var m=n.previous,v=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],m&&(m.next=v,m[2]=n[2],h(m)),v&&(v.previous=m,v[0]=n[0],h(v))}e.forEach(c)})),e}var I="1.6.27";e.version=I,e.mesh=f,e.meshArcs=m,e.merge=w,e.mergeArcs=_,e.feature=l,e.neighbors=E,e.presimplify=O,Object.defineProperty(e,"__esModule",{value:!0})}(t)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),function(e){n(23),n(21),n(44);var t=n(29),r=n(10),o=(n(189),n(295),n(302),n(304),n(37),n(11),n(26),n(32),n(88),n(70),n(46),n(45),n(19),n(43),n(5)),c=n(226),l=n(148),h=n(3),d=n(42),f=n(238),m=n(114);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}o.default.__nuxt__fetch__mixin__||(o.default.mixin(f.a),o.default.__nuxt__fetch__mixin__=!0),o.default.component(m.a.name,m.a),o.default.component("NLink",m.a),e.fetch||(e.fetch=c.a);var w,_,E=[],S=window.__NUXT__||{},T=S.config||{};T._app&&(n.p=Object(h.v)(T._app.cdnURL,T._app.assetsPath)),Object.assign(o.default.config,{silent:!0,performance:!1});var O=o.default.config.errorHandler||console.error;function I(e,t,n){for(var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e},o=n?Object(h.g)(n):[],c=Math.max(e.length,o.length),l=[],d=function(i){var t=Object.assign({},r(e[i])),n=Object.assign({},r(o[i]));Object.keys(t).filter((function(e){return void 0!==t[e]&&!e.toLowerCase().includes("leave")})).forEach((function(e){n[e]=t[e]})),l.push(n)},i=0;i<c;i++)d(i);return l}function x(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,d,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._routeChanged=Boolean(w.nuxt.err)||n.name!==t.name,this._paramChanged=!this._routeChanged&&n.path!==t.path,this._queryChanged=!this._paramChanged&&n.fullPath!==t.fullPath,this._diffQuery=this._queryChanged?Object(h.i)(t.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=5,!this._queryChanged){e.next=12;break}return e.next=9,Object(h.r)(t,(function(e,t){return{Component:e,instance:t}}));case 9:o=e.sent,o.some((function(e){var r=e.Component,o=e.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return f._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),e.next=26;break;case 15:if(e.prev=15,e.t0=e.catch(5),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,d=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(d)){e.next=23;break}return window.location.reload(!0),e.abrupt("return");case 23:this.error({statusCode:l,message:d}),this.$nuxt.$emit("routeChanged",t,n,c),r();case 26:case"end":return e.stop()}}),e,this,[[5,15]])})))).apply(this,arguments)}function k(e,t){return S.serverRendered&&t&&Object(h.b)(e,t),e._Ctor=e,e}function D(e){return Object(h.d)(e,function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=k(Object(h.s)(t),S.data?S.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}())}function R(e,t,n){var r=this,o=[],c=!1;if(void 0!==n&&(o=[],(n=Object(h.s)(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(h.o)(o,t)}function A(e,t,n){return N.apply(this,arguments)}function N(){return N=Object(r.a)(regeneratorRuntime.mark((function e(t,n,o){var c,l,f,m,y,_,S,T,O,x,C,k,D,A,N,j=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",o());case 2:return!1,t===n?(E=[],!0):(c=[],E=Object(h.g)(n,c).map((function(e,i){return Object(h.c)(n.matched[c[i]].path)(n.params)}))),l=!1,f=function(path){n.path===path.path&&j.$loading.finish&&j.$loading.finish(),n.path!==path.path&&j.$loading.pause&&j.$loading.pause(),l||(l=!0,o(path))},e.next=8,Object(h.t)(w,{route:t,from:n,next:f.bind(this)});case 8:if(this._dateLastError=w.nuxt.dateErr,this._hadError=Boolean(w.nuxt.err),m=[],(y=Object(h.g)(t,m)).length){e.next=27;break}return e.next=15,R.call(this,y,w.context);case 15:if(!l){e.next=17;break}return e.abrupt("return");case 17:return _=(d.a.options||d.a).layout,e.next=20,this.loadLayout("function"==typeof _?_.call(d.a,w.context):_);case 20:return S=e.sent,e.next=23,R.call(this,y,w.context,S);case 23:if(!l){e.next=25;break}return e.abrupt("return");case 25:return w.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",o());case 27:return y.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(I(y,t,n)),e.prev=29,e.next=32,R.call(this,y,w.context);case 32:if(!l){e.next=34;break}return e.abrupt("return");case 34:if(!w.context._errored){e.next=36;break}return e.abrupt("return",o());case 36:return"function"==typeof(T=y[0].options.layout)&&(T=T(w.context)),e.next=40,this.loadLayout(T);case 40:return T=e.sent,e.next=43,R.call(this,y,w.context,T);case 43:if(!l){e.next=45;break}return e.abrupt("return");case 45:if(!w.context._errored){e.next=47;break}return e.abrupt("return",o());case 47:O=!0,e.prev=48,x=v(y),e.prev=50,x.s();case 52:if((C=x.n()).done){e.next=63;break}if("function"==typeof(k=C.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,k.options.validate(w.context);case 58:if(O=e.sent){e.next=61;break}return e.abrupt("break",63);case 61:e.next=52;break;case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(50),x.e(e.t0);case 68:return e.prev=68,x.f(),e.finish(68);case 71:e.next=77;break;case 73:return e.prev=73,e.t1=e.catch(48),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",o());case 77:if(O){e.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",o());case 80:return e.next=82,Promise.all(y.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(r,i){var o,c,l,d,f,v,y,_,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._path=Object(h.c)(t.matched[m[i]].path)(t.params),r._dataRefresh=!1,o=r._path!==E[i],j._routeChanged&&o?r._dataRefresh=!0:j._paramChanged&&o?(c=r.options.watchParam,r._dataRefresh=!1!==c):j._queryChanged&&(!0===(l=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(l)?r._dataRefresh=l.some((function(e){return j._diffQuery[e]})):"function"==typeof l&&(D||(D=Object(h.h)(t)),r._dataRefresh=l.apply(D[i],[t.query,n.query]))),j._hadError||!j._isMounted||r._dataRefresh){e.next=6;break}return e.abrupt("return");case 6:return d=[],f=r.options.asyncData&&"function"==typeof r.options.asyncData,v=Boolean(r.options.fetch)&&r.options.fetch.length,y=f&&v?30:45,f&&((_=Object(h.q)(r.options.asyncData,w.context)).then((function(e){Object(h.b)(r,e),j.$loading.increase&&j.$loading.increase(y)})),d.push(_)),j.$loading.manual=!1===r.options.loading,v&&((p=r.options.fetch(w.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){j.$loading.increase&&j.$loading.increase(y)})),d.push(p)),e.abrupt("return",Promise.all(d));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 82:l||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),o()),e.next=99;break;case 85:if(e.prev=85,e.t2=e.catch(29),"ERR_REDIRECT"!==(A=e.t2||{}).message){e.next=90;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,n,A));case 90:return E=[],Object(h.k)(A),"function"==typeof(N=(d.a.options||d.a).layout)&&(N=N(w.context)),e.next=96,this.loadLayout(N);case 96:this.error(A),this.$nuxt.$emit("routeChanged",t,n,A),o();case 99:case"end":return e.stop()}}),e,this,[[29,85],[48,73],[50,65,68,71]])}))),N.apply(this,arguments)}function j(e,n){Object(h.d)(e,(function(e,n,r,c){return"object"!==Object(t.a)(e)||e.options||((e=o.default.extend(e))._Ctor=e,r.components[c]=e),e}))}function P(e){var t=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(t=!1);var n=t?(d.a.options||d.a).layout:e.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(w.context)),this.setLayout(n)}function M(e){e._hadError&&e._dateLastError===e.$options.nuxt.dateErr&&e.error()}function L(e,t){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=Object(h.h)(e),c=Object(h.g)(e),l=!1;o.default.nextTick((function(){r.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)o.default.set(e.$data,n,t[n]);l=!0}})),l&&window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),M(n)}))}}function U(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),_.afterEach((function(t,n){o.default.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,n)}))}))}function F(){return(F=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w=t.app,_=t.router,t.store,n=new o.default(w),r=function(){n.$mount("#__nuxt"),_.afterEach(j),_.afterEach(P.bind(n)),_.afterEach(L.bind(n)),o.default.nextTick((function(){U(n)}))},e.next=7,Promise.all(D(w.context.route));case 7:if(c=e.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),c.length&&(n.setTransitions(I(c,_.currentRoute)),E=_.currentRoute.matched.map((function(e){return Object(h.c)(e.path)(_.currentRoute.params)}))),n.$loading={},S.error&&n.error(S.error),_.beforeEach(x.bind(n)),_.beforeEach(A.bind(n)),!S.serverRendered||!Object(h.n)(S.routePath,n.context.route.path)){e.next=16;break}return e.abrupt("return",r());case 16:return l=function(){j(_.currentRoute,_.currentRoute),P.call(n,_.currentRoute),M(n),r()},e.next=19,new Promise((function(e){return setTimeout(e,0)}));case 19:A.call(n,_.currentRoute,_.currentRoute,(function(path){if(path){var e=_.afterEach((function(t,n){e(),l()}));_.push(path,void 0,(function(e){e&&O(e)}))}else l()}));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(d.b)(null,S.config).then((function(e){return F.apply(this,arguments)})).catch(O)}.call(this,n(35))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(203)},,,,function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(5),c=(r=o)&&r.__esModule?r:{default:r},l=n(87);var h=!1,d=!1,f=void 0,m=function(){if(!c.default.prototype.$isServer){var e=y.modalDom;return e?h=!0:(h=!1,e=document.createElement("div"),y.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){y.doOnModalClick&&y.doOnModalClick()}))),e}},v={},y={modalFade:!0,getInstance:function(e){return v[e]},register:function(e,t){e&&t&&(v[e]=t)},deregister:function(e){e&&(v[e]=null,delete v[e])},nextZIndex:function(){return y.zIndex++},modalStack:[],doOnModalClick:function(){var e=y.modalStack[y.modalStack.length-1];if(e){var t=y.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,o){if(!c.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=o;for(var d=this.modalStack,i=0,f=d.length;i<f;i++){if(d[i].id===e)return}var v=m();if((0,l.addClass)(v,"v-modal"),this.modalFade&&!h&&(0,l.addClass)(v,"v-modal-enter"),r)r.trim().split(/\s+/).forEach((function(e){return(0,l.addClass)(v,e)}));setTimeout((function(){(0,l.removeClass)(v,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(v):document.body.appendChild(v),t&&(v.style.zIndex=t),v.tabIndex=0,v.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=m();if(t.length>0){var r=t[t.length-1];if(r.id===e){if(r.modalClass)r.modalClass.trim().split(/\s+/).forEach((function(e){return(0,l.removeClass)(n,e)}));t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(var i=t.length-1;i>=0;i--)if(t[i].id===e){t.splice(i,1);break}}0===t.length&&(this.modalFade&&(0,l.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",y.modalDom=void 0),(0,l.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(y,"zIndex",{configurable:!0,get:function(){return d||(f=f||(c.default.prototype.$ELEMENT||{}).zIndex||2e3,d=!0),f},set:function(e){f=e}});c.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=function(){if(!c.default.prototype.$isServer&&y.modalStack.length>0){var e=y.modalStack[y.modalStack.length-1];if(!e)return;return y.getInstance(e.id)}}();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isVNode=function(e){return null!==e&&"object"===(void 0===e?"undefined":r(e))&&(0,o.hasOwn)(e,"componentOptions")};var o=n(71)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(354).polyfill()},function(e,t,n){(function(t,n){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,c=void 0,l=void 0,h=function(e,t){_[o]=e,_[o+1]=t,2===(o+=2)&&(l?l(E):x())},d="undefined"!=typeof window?window:void 0,f=d||{},m=f.MutationObserver||f.WebKitMutationObserver,v="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function w(){var e=setTimeout;return function(){return e(E,1)}}var _=new Array(1e3);function E(){for(var i=0;i<o;i+=2)(0,_[i])(_[i+1]),_[i]=void 0,_[i+1]=void 0;o=0}var S,T,O,I,x=void 0;function C(e,t){var n=this,r=new this.constructor(R);void 0===r[D]&&$(r);var o=n._state;if(o){var c=arguments[o-1];h((function(){return V(o,r,c,n._result)}))}else U(n,r,e,t);return r}function k(object){if(object&&"object"==typeof object&&object.constructor===this)return object;var e=new this(R);return j(e,object),e}v?x=function(){return t.nextTick(E)}:m?(T=0,O=new m(E),I=document.createTextNode(""),O.observe(I,{characterData:!0}),x=function(){I.data=T=++T%2}):y?((S=new MessageChannel).port1.onmessage=E,x=function(){return S.port2.postMessage(0)}):x=void 0===d?function(){try{var e=Function("return this")().require("vertx");return void 0!==(c=e.runOnLoop||e.runOnContext)?function(){c(E)}:w()}catch(e){return w()}}():w();var D=Math.random().toString(36).substring(2);function R(){}var A=void 0;function N(t,n,r){n.constructor===t.constructor&&r===C&&n.constructor.resolve===k?function(e,t){1===t._state?M(e,t._result):2===t._state?L(e,t._result):U(t,void 0,(function(t){return j(e,t)}),(function(t){return L(e,t)}))}(t,n):void 0===r?M(t,n):e(r)?function(e,t,n){h((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?j(e,n):M(e,n))}),(function(t){r||(r=!0,L(e,t))}),e._label);!r&&o&&(r=!0,L(e,o))}),e)}(t,n,r):M(t,n)}function j(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)M(e,t);else{var n=void 0;try{n=t.then}catch(t){return void L(e,t)}N(e,t,n)}var r,o}function P(e){e._onerror&&e._onerror(e._result),F(e)}function M(e,t){e._state===A&&(e._result=t,e._state=1,0!==e._subscribers.length&&h(F,e))}function L(e,t){e._state===A&&(e._state=2,e._result=t,h(P,e))}function U(e,t,n,r){var o=e._subscribers,c=o.length;e._onerror=null,o[c]=t,o[c+1]=n,o[c+2]=r,0===c&&e._state&&h(F,e)}function F(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,c=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?V(n,r,o,c):o(c);e._subscribers.length=0}}function V(t,n,r,o){var c=e(r),l=void 0,h=void 0,d=!0;if(c){try{l=r(o)}catch(e){d=!1,h=e}if(n===l)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else l=o;n._state!==A||(c&&d?j(n,l):!1===d?L(n,h):1===t?M(n,l):2===t&&L(n,l))}var B=0;function $(e){e[D]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}var H=function(){function e(e,input){this._instanceConstructor=e,this.promise=new e(R),this.promise[D]||$(this.promise),r(input)?(this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(input),0===this._remaining&&M(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(input){for(var i=0;this._state===A&&i<input.length;i++)this._eachEntry(input[i],i)},e.prototype._eachEntry=function(e,i){var t=this._instanceConstructor,n=t.resolve;if(n===k){var r=void 0,o=void 0,c=!1;try{r=e.then}catch(e){c=!0,o=e}if(r===C&&e._state!==A)this._settledAt(e._state,i,e._result);else if("function"!=typeof r)this._remaining--,this._result[i]=e;else if(t===z){var l=new t(R);c?L(l,o):N(l,e,r),this._willSettleAt(l,i)}else this._willSettleAt(new t((function(t){return t(e)})),i)}else this._willSettleAt(n(e),i)},e.prototype._settledAt=function(e,i,t){var n=this.promise;n._state===A&&(this._remaining--,2===e?L(n,t):this._result[i]=t),0===this._remaining&&M(n,this._result)},e.prototype._willSettleAt=function(e,i){var t=this;U(e,void 0,(function(e){return t._settledAt(1,i,e)}),(function(e){return t._settledAt(2,i,e)}))},e}(),z=function(){function t(e){this[D]=B++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){j(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return z.prototype.then=C,z.all=function(e){return new H(this,e).promise},z.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},z.resolve=k,z.reject=function(e){var t=new this(R);return L(t,e),t},z._setScheduler=function(e){l=e},z._setAsap=function(e){h=e},z._asap=h,z.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=z},z.Promise=z,z},e.exports=r()}).call(this,n(104),n(35))},,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(e,t){var n;return t&&!0===t.clone&&r(e)?h((n=e,Array.isArray(n)?[]:{}),e,t):e}function l(e,source,t){var n=e.slice();return source.forEach((function(o,i){void 0===n[i]?n[i]=c(o,t):r(o)?n[i]=h(e[i],o,t):-1===e.indexOf(o)&&n.push(c(o,t))})),n}function h(e,source,t){var n=Array.isArray(source);return n===Array.isArray(e)?n?((t||{arrayMerge:l}).arrayMerge||l)(e,source,t):function(e,source,t){var n={};return r(e)&&Object.keys(e).forEach((function(r){n[r]=c(e[r],t)})),Object.keys(source).forEach((function(o){r(source[o])&&e[o]?n[o]=h(e[o],source[o],t):n[o]=c(source[o],t)})),n}(e,source,t):c(source,t)}h.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return h(e,n,t)}))};var d=h;e.exports=d},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),e.replace(c,(function(t,r,i,c){var l=void 0;return"{"===e[c-1]&&"}"===e[c+t.length]?i:null==(l=(0,o.hasOwn)(n,i)?n[i]:null)?"":l}))}};var o=n(71),c=/(%|)\{([0-9a-zA-Z_]+)\}/g},function(e,t,n){},function(e,t,n){"use strict";var r,o;"function"==typeof Symbol&&Symbol.iterator;r=function(){var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(e,n,r){this._reference=e.jquery?e[0]:e,this.state={};var o=null==n,c=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=o||c?this.parse(c?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},t,r),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),v(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(element){var t=element.style.display,n=element.style.visibility;element.style.display="block",element.style.visibility="hidden",element.offsetWidth;var r=e.getComputedStyle(element),o=parseFloat(r.marginTop)+parseFloat(r.marginBottom),c=parseFloat(r.marginLeft)+parseFloat(r.marginRight),l={width:element.offsetWidth+c,height:element.offsetHeight+o};return element.style.display=t,element.style.visibility=n,l}function o(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function c(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function l(e,t){var n,i=0;for(n in e){if(e[n]===t)return i;i++}return null}function h(element,t){return e.getComputedStyle(element,null)[t]}function d(element){var t=element.offsetParent;return t!==e.document.body&&t?t:e.document.documentElement}function f(element){var t=element.parentNode;return t?t===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(h(t,"overflow"))||-1!==["scroll","auto"].indexOf(h(t,"overflow-x"))||-1!==["scroll","auto"].indexOf(h(t,"overflow-y"))?t:f(element.parentNode):element}function m(element){return element!==e.document.body&&("fixed"===h(element,"position")||(element.parentNode?m(element.parentNode):element))}function v(element,e){function t(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&t(e[n])&&(r="px"),element.style[n]=e[n]+r}))}function y(e){return e&&"[object Function]"==={}.toString.call(e)}function w(element){var e={width:element.offsetWidth,height:element.offsetHeight,left:element.offsetLeft,top:element.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function _(element){var rect=element.getBoundingClientRect(),e=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===element.tagName?-element.scrollTop:rect.top;return{left:rect.left,top:e,right:rect.right,bottom:rect.bottom,width:rect.right-rect.left,height:rect.bottom-e}}function E(element,e,t){var n=_(element),r=_(e);if(t){var o=f(e);r.top+=o.scrollTop,r.bottom+=o.scrollTop,r.left+=o.scrollLeft,r.right+=o.scrollLeft}return{top:n.top-r.top,left:n.left-r.left,bottom:n.top-r.top+n.height,right:n.left-r.left+n.width,width:n.width,height:n.height}}function S(t){for(var n=["","ms","webkit","moz","o"],i=0;i<n.length;i++){var r=n[i]?n[i]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==e.document.body.style[r])return r}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[S("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var data={instance:this,styles:{}};data.placement=this._options.placement,data._originalPlacement=this._options.placement,data.offsets=this._getOffsets(this._popper,this._reference,data.placement),data.boundaries=this._getBoundaries(data,this._options.boundariesPadding,this._options.boundariesElement),data=this.runModifiers(data,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(data)},n.prototype.onCreate=function(e){return e(this),this},n.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},n.prototype.parse=function(t){var n={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},n,t);var r=e.document,o=r.createElement(t.tagName);if(h(o,t.classNames),d(o,t.attributes),"node"===t.contentType?o.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?o.innerHTML=t.content:o.textContent=t.content,t.arrowTagName){var c=r.createElement(t.arrowTagName);h(c,t.arrowClassNames),d(c,t.arrowAttributes),o.appendChild(c)}var l=t.parent.jquery?t.parent[0]:t.parent;if("string"==typeof l){if((l=r.querySelectorAll(t.parent)).length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===l.length)throw"ERROR: the given `parent` doesn't exists!";l=l[0]}return l.length>1&&l instanceof Element==0&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),l=l[0]),l.appendChild(o),o;function h(element,e){e.forEach((function(e){element.classList.add(e)}))}function d(element,e){e.forEach((function(e){element.setAttribute(e.split(":")[0],e.split(":")[1]||"")}))}},n.prototype._getPosition=function(e,t){var n=d(t);return this._options.forceAbsolute?"absolute":m(t,n)?"fixed":"absolute"},n.prototype._getOffsets=function(e,t,n){n=n.split("-")[0];var o={};o.position=this.state.position;var c="fixed"===o.position,l=E(t,d(e),c),h=r(e);return-1!==["right","left"].indexOf(n)?(o.top=l.top+l.height/2-h.height/2,o.left="left"===n?l.left-h.width:l.right):(o.left=l.left+l.width/2-h.width/2,o.top="top"===n?l.top-h.height:l.bottom),o.width=h.width,o.height=h.height,{popper:o,reference:l}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=f(this._reference);t!==e.document.body&&t!==e.document.documentElement||(t=e),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},n.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(data,t,n){var r,o={};if("window"===n){var body=e.document.body,html=e.document.documentElement;r=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),o={top:0,right:Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth),bottom:r,left:0}}else if("viewport"===n){var c=d(this._popper),l=f(this._popper),h=w(c),m=function(element){return element==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):element.scrollTop},v=function(element){return element==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):element.scrollLeft},y="fixed"===data.offsets.popper.position?0:m(l),_="fixed"===data.offsets.popper.position?0:v(l);o={top:0-(h.top-y),right:e.document.documentElement.clientWidth-(h.left-_),bottom:e.document.documentElement.clientHeight-(h.top-y),left:0-(h.left-_)}}else o=d(this._popper)===n?{top:0,left:0,right:n.clientWidth,bottom:n.clientHeight}:w(n);return o.left+=t,o.right-=t,o.top=o.top+t,o.bottom=o.bottom-t,o},n.prototype.runModifiers=function(data,e,t){var n=e.slice();return void 0!==t&&(n=this._options.modifiers.slice(0,l(this._options.modifiers,t))),n.forEach(function(e){y(e)&&(data=e.call(this,data))}.bind(this)),data},n.prototype.isModifierRequired=function(e,t){var n=l(this._options.modifiers,e);return!!this._options.modifiers.slice(0,n).filter((function(e){return e===t})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(data){var e,t={position:data.offsets.popper.position},n=Math.round(data.offsets.popper.left),r=Math.round(data.offsets.popper.top);return this._options.gpuAcceleration&&(e=S("transform"))?(t[e]="translate3d("+n+"px, "+r+"px, 0)",t.top=0,t.left=0):(t.left=n,t.top=r),Object.assign(t,data.styles),v(this._popper,t),this._popper.setAttribute("x-placement",data.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&data.offsets.arrow&&v(data.arrowElement,data.offsets.arrow),data},n.prototype.modifiers.shift=function(data){var e=data.placement,t=e.split("-")[0],n=e.split("-")[1];if(n){var r=data.offsets.reference,o=c(data.offsets.popper),l={y:{start:{top:r.top},end:{top:r.top+r.height-o.height}},x:{start:{left:r.left},end:{left:r.left+r.width-o.width}}},h=-1!==["bottom","top"].indexOf(t)?"x":"y";data.offsets.popper=Object.assign(o,l[h][n])}return data},n.prototype.modifiers.preventOverflow=function(data){var e=this._options.preventOverflowOrder,t=c(data.offsets.popper),n={left:function(){var e=t.left;return t.left<data.boundaries.left&&(e=Math.max(t.left,data.boundaries.left)),{left:e}},right:function(){var e=t.left;return t.right>data.boundaries.right&&(e=Math.min(t.left,data.boundaries.right-t.width)),{left:e}},top:function(){var e=t.top;return t.top<data.boundaries.top&&(e=Math.max(t.top,data.boundaries.top)),{top:e}},bottom:function(){var e=t.top;return t.bottom>data.boundaries.bottom&&(e=Math.min(t.top,data.boundaries.bottom-t.height)),{top:e}}};return e.forEach((function(e){data.offsets.popper=Object.assign(t,n[e]())})),data},n.prototype.modifiers.keepTogether=function(data){var e=c(data.offsets.popper),t=data.offsets.reference,n=Math.floor;return e.right<n(t.left)&&(data.offsets.popper.left=n(t.left)-e.width),e.left>n(t.right)&&(data.offsets.popper.left=n(t.right)),e.bottom<n(t.top)&&(data.offsets.popper.top=n(t.top)-e.height),e.top>n(t.bottom)&&(data.offsets.popper.top=n(t.bottom)),data},n.prototype.modifiers.flip=function(data){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),data;if(data.flipped&&data.placement===data._originalPlacement)return data;var e=data.placement.split("-")[0],t=o(e),n=data.placement.split("-")[1]||"",r=[];return(r="flip"===this._options.flipBehavior?[e,t]:this._options.flipBehavior).forEach(function(l,h){if(e===l&&r.length!==h+1){e=data.placement.split("-")[0],t=o(e);var d=c(data.offsets.popper),a=-1!==["right","bottom"].indexOf(e);(a&&Math.floor(data.offsets.reference[e])>Math.floor(d[t])||!a&&Math.floor(data.offsets.reference[e])<Math.floor(d[t]))&&(data.flipped=!0,data.placement=r[h+1],n&&(data.placement+="-"+n),data.offsets.popper=this._getOffsets(this._popper,this._reference,data.placement).popper,data=this.runModifiers(data,this._options.modifiers,this._flip))}}.bind(this)),data},n.prototype.modifiers.offset=function(data){var e=this._options.offset,t=data.offsets.popper;return-1!==data.placement.indexOf("left")?t.top-=e:-1!==data.placement.indexOf("right")?t.top+=e:-1!==data.placement.indexOf("top")?t.left-=e:-1!==data.placement.indexOf("bottom")&&(t.left+=e),data},n.prototype.modifiers.arrow=function(data){var e=this._options.arrowElement,t=this._options.arrowOffset;if("string"==typeof e&&(e=this._popper.querySelector(e)),!e)return data;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),data;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),data;var n={},o=data.placement.split("-")[0],l=c(data.offsets.popper),h=data.offsets.reference,d=-1!==["left","right"].indexOf(o),f=d?"height":"width",m=d?"top":"left",v=d?"left":"top",y=d?"bottom":"right",w=r(e)[f];h[y]-w<l[m]&&(data.offsets.popper[m]-=l[m]-(h[y]-w)),h[m]+w>l[y]&&(data.offsets.popper[m]+=h[m]+w-l[y]);var _=h[m]+(t||h[f]/2-w/2)-l[m];return _=Math.max(Math.min(l[f]-w-8,_),8),n[m]=_,n[v]="",data.offsets.arrow=n,data.arrowElement=e,data},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n){n=Object(n);for(var r=Object.keys(n),o=0,c=r.length;o<c;o++){var l=r[o],desc=Object.getOwnPropertyDescriptor(n,l);void 0!==desc&&desc.enumerable&&(t[l]=n[l])}}}return t}}),n},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n(373)},function(e,t,n){"use strict";(function(e){var t=n(30),r=n(4),o=n(13),c=n(2);function l(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function h(e=Object(c.m)()){return!("file:"!==l()&&"ionic:"!==l()&&"capacitor:"!==l()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function d(e=Object(c.m)()){return Object(c.r)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=Object(c.m)()){return/Edge\/\d+/.test(e)}(e)}function f(){try{const e=self.localStorage,t=r.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!d()||Object(c.s)()}catch(e){return m()&&Object(c.s)()}return!1}function m(){return void 0!==e&&"WorkerGlobalScope"in e&&"importScripts"in e}function v(){return("http:"===l()||"https:"===l()||Object(c.o)()||h())&&!(Object(c.v)()||Object(c.u)())&&f()&&!m()}function y(){return h()&&"undefined"!=typeof document}const w={LOCAL:"local",NONE:"none",SESSION:"session"},_=r.p,E="persistence";async function S(e){await e._initializationPromise;const t=T(),n=r.w(E,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function T(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const O=r.p;class I{constructor(){this.browserResolver=r.t(r.A),this.cordovaResolver=r.t(r.F),this.underlyingResolver=null,this._redirectPersistence=r.B,this._completeRedirectFn=r.u,this._overrideRedirectResult=r.v}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return y()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return O(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!y()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function x(object){return object.unwrap()}function C(object){const{_tokenResponse:e}=object instanceof c.c?object.customData:object;if(!e)return null;if(!(object instanceof c.c)&&"temporaryProof"in e&&"phoneNumber"in e)return r.i.credentialFromResult(object);const t=e.providerId;if(!t||t===r.k.PASSWORD)return null;let n;switch(t){case r.k.GOOGLE:n=r.f;break;case r.k.FACEBOOK:n=r.d;break;case r.k.GITHUB:n=r.e;break;case r.k.TWITTER:n=r.o;break;default:const{oauthIdToken:o,oauthAccessToken:c,oauthTokenSecret:l,pendingToken:h,nonce:d}=e;return c||l||o||h?h?t.startsWith("saml.")?r.m._create(t,h):r.g._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:o,accessToken:c}):new r.h(t).credential({idToken:o,accessToken:c,rawNonce:d}):null}return object instanceof c.c?n.credentialFromError(object):n.credentialFromResult(object)}function k(e,t){return t.catch((t=>{throw t instanceof c.c&&function(e,t){var n,o;const c=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(o=t)||void 0===o?void 0:o.code))t.resolver=new R(e,r.K(e,t));else if(c){const e=C(t),n=t;e&&(n.credential=e,n.tenantId=c.tenantId||void 0,n.email=c.email||void 0,n.phoneNumber=c.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(o=e,C(o)),additionalUserInfo:r.J(e),user:A.getOrCreate(n)};var o}))}async function D(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>k(e,n.confirm(t))}}class R{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return k(x(this.auth),this.resolver.resolveSignIn(e))}}class A{constructor(e){this._delegate=e,this.multiFactor=r.T(e)}static getOrCreate(e){return A.USER_MAP.has(e)||A.USER_MAP.set(e,new A(e)),A.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return k(this.auth,r.P(this._delegate,e))}async linkWithPhoneNumber(e,t){return D(this.auth,r.Q(this._delegate,e,t))}async linkWithPopup(e){return k(this.auth,r.R(this._delegate,e,I))}async linkWithRedirect(e){return await S(r.q(this.auth)),r.S(this._delegate,e,I)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return k(this.auth,r.U(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return D(this.auth,r.V(this._delegate,e,t))}reauthenticateWithPopup(e){return k(this.auth,r.W(this._delegate,e,I))}async reauthenticateWithRedirect(e){return await S(r.q(this.auth)),r.X(this._delegate,e,I)}sendEmailVerification(e){return r.Y(this._delegate,e)}async unlink(e){return await r.jb(this._delegate,e),this}updateEmail(e){return r.kb(this._delegate,e)}updatePassword(e){return r.lb(this._delegate,e)}updatePhoneNumber(e){return r.mb(this._delegate,e)}updateProfile(e){return r.nb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r.ob(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}A.USER_MAP=new WeakMap;const N=r.p;class j{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;N(n,"invalid-api-key",{appName:e.name}),N(n,"invalid-api-key",{appName:e.name});const o="undefined"!=typeof window?I:void 0;this._delegate=t.initialize({options:{persistence:M(n,e.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(r.H),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?A.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){r.E(this._delegate,e,t)}applyActionCode(code){return r.y(this._delegate,code)}checkActionCode(code){return r.C(this._delegate,code)}confirmPasswordReset(code,e){return r.D(this._delegate,code,e)}async createUserWithEmailAndPassword(e,t){return k(this._delegate,r.G(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r.I(this._delegate,e)}isSignInWithEmailLink(e){return r.O(this._delegate,e)}async getRedirectResult(){N(v(),this._delegate,"operation-not-supported-in-this-environment");const e=await r.L(this._delegate,I);return e?k(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){r.x(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:o,complete:c}=P(e,t,n);return this._delegate.onAuthStateChanged(r,o,c)}onIdTokenChanged(e,t,n){const{next:r,error:o,complete:c}=P(e,t,n);return this._delegate.onIdTokenChanged(r,o,c)}sendSignInLinkToEmail(e,t){return r.ab(this._delegate,e,t)}sendPasswordResetEmail(e,t){return r.Z(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){_(Object.values(w).includes(t),e,"invalid-persistence-type"),Object(c.v)()?_(t!==w.SESSION,e,"unsupported-persistence-type"):Object(c.u)()?_(t===w.NONE,e,"unsupported-persistence-type"):m()?_(t===w.NONE||t===w.LOCAL&&Object(c.s)(),e,"unsupported-persistence-type"):_(t===w.NONE||f(),e,"unsupported-persistence-type")}(this._delegate,e),e){case w.SESSION:t=r.B;break;case w.LOCAL:t=await r.t(r.N)._isAvailable()?r.N:r.z;break;case w.NONE:t=r.M;break;default:return r.r("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return k(this._delegate,r.bb(this._delegate))}signInWithCredential(e){return k(this._delegate,r.cb(this._delegate,e))}signInWithCustomToken(e){return k(this._delegate,r.db(this._delegate,e))}signInWithEmailAndPassword(e,t){return k(this._delegate,r.eb(this._delegate,e,t))}signInWithEmailLink(e,t){return k(this._delegate,r.fb(this._delegate,e,t))}signInWithPhoneNumber(e,t){return D(this._delegate,r.gb(this._delegate,e,t))}async signInWithPopup(e){return N(v(),this._delegate,"operation-not-supported-in-this-environment"),k(this._delegate,r.hb(this._delegate,e,I))}async signInWithRedirect(e){return N(v(),this._delegate,"operation-not-supported-in-this-environment"),await S(this._delegate),r.ib(this._delegate,e,I)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(code){return r.pb(this._delegate,code)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function P(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const o=r;return{next:e=>o(e&&A.getOrCreate(e)),error:t,complete:n}}function M(e,t){const n=function(e,t){const n=T();if(!n)return[];const o=r.w(E,e,t);switch(n.getItem(o)){case w.NONE:return[r.M];case w.LOCAL:return[r.N,r.B];case w.SESSION:return[r.B];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(r.N)||n.push(r.N),"undefined"!=typeof window)for(const e of[r.z,r.B])n.includes(e)||n.push(e);return n.includes(r.M)||n.push(r.M),n}j.Persistence=w;class L{constructor(){this.providerId="phone",this._delegate=new r.i(x(t.a.auth()))}static credential(e,t){return r.i.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}L.PHONE_SIGN_IN_METHOD=r.i.PHONE_SIGN_IN_METHOD,L.PROVIDER_ID=r.i.PROVIDER_ID;const U=r.p;class F{constructor(e,n,o=t.a.app()){var c;U(null===(c=o.options)||void 0===c?void 0:c.apiKey,"invalid-api-key",{appName:o.name}),this._delegate=new r.l(e,n,o.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var V;(V=t.a).INTERNAL.registerComponent(new o.a("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new j(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.a.EMAIL_SIGNIN,PASSWORD_RESET:r.a.PASSWORD_RESET,RECOVER_EMAIL:r.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.a.VERIFY_EMAIL}},EmailAuthProvider:r.c,FacebookAuthProvider:r.d,GithubAuthProvider:r.e,GoogleAuthProvider:r.f,OAuthProvider:r.h,SAMLAuthProvider:r.n,PhoneAuthProvider:L,PhoneMultiFactorGenerator:r.j,RecaptchaVerifier:F,TwitterAuthProvider:r.o,Auth:j,AuthCredential:r.b,Error:c.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.19")}).call(this,n(35))},function(e,t,n){var r=n(375),o=n(64),c=n(378),l=n(380),h=n(383),d=43200;e.exports=function(e,t,n){var f=n||{},m=r(e,t),v=f.locale,y=h.distanceInWords.localize;v&&v.distanceInWords&&v.distanceInWords.localize&&(y=v.distanceInWords.localize);var w,_,E={addSuffix:Boolean(f.addSuffix),comparison:m};m>0?(w=o(e),_=o(t)):(w=o(t),_=o(e));var S,T=c(_,w),O=_.getTimezoneOffset()-w.getTimezoneOffset(),I=Math.round(T/60)-O;if(I<2)return f.includeSeconds?T<5?y("lessThanXSeconds",5,E):T<10?y("lessThanXSeconds",10,E):T<20?y("lessThanXSeconds",20,E):T<40?y("halfAMinute",null,E):y(T<60?"lessThanXMinutes":"xMinutes",1,E):0===I?y("lessThanXMinutes",1,E):y("xMinutes",I,E);if(I<45)return y("xMinutes",I,E);if(I<90)return y("aboutXHours",1,E);if(I<1440)return y("aboutXHours",Math.round(I/60),E);if(I<2520)return y("xDays",1,E);if(I<d)return y("xDays",Math.round(I/1440),E);if(I<86400)return y("aboutXMonths",S=Math.round(I/d),E);if((S=l(_,w))<12)return y("xMonths",Math.round(I/d),E);var x=S%12,C=Math.floor(S/12);return x<3?y("aboutXYears",C,E):x<9?y("overXYears",C,E):y("almostXYears",C+1,E)}},function(e,t,n){var r=n(64);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n>o?-1:n<o?1:0}},function(e,t){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,n){var r=n(379);e.exports=function(e,t){var n=r(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(64);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()-o.getTime()}},function(e,t,n){var r=n(64),o=n(381),c=n(382);e.exports=function(e,t){var n=r(e),l=r(t),h=c(n,l),d=Math.abs(o(n,l));return n.setMonth(n.getMonth()-h*d),h*(d-(c(n,l)===-h))}},function(e,t,n){var r=n(64);e.exports=function(e,t){var n=r(e),o=r(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(e,t,n){var r=n(64);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n<o?-1:n>o?1:0}},function(e,t,n){var r=n(384),o=n(385);e.exports={distanceInWords:r(),format:o()}},function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(e,t,n){var r=n(386);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["AM","PM"],h=["am","pm"],d=["a.m.","p.m."],f={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return c[e.getDay()]},A:function(e){return e.getHours()/12>=1?l[1]:l[0]},a:function(e){return e.getHours()/12>=1?h[1]:h[0]},aa:function(e){return e.getHours()/12>=1?d[1]:d[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){f[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}})),{formatters:f,formattingTokensRegExp:r(f)}}},function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(e,t,n){"use strict";var r=n(30),o=n(8),c=n(2),l=n(13);const h="firebasestorage.googleapis.com";class d extends c.c{constructor(code,e){super(f(code),`Firebase Storage: ${e} (${f(code)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,d.prototype)}_codeEquals(code){return f(code)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function f(code){return"storage/"+code}function m(){return new d("unknown","An unknown error occurred, please check the error payload for server response.")}function v(){return new d("canceled","User canceled the upload/download.")}function y(){return new d("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function w(e){return new d("invalid-argument",e)}function _(){return new d("app-deleted","The Firebase app was deleted.")}function E(e){return new d("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function S(e,t){return new d("invalid-format","String does not match format '"+e+"': "+t)}function T(e){throw new d("internal-error","Internal error: "+e)}class O{constructor(e,path){this.bucket=e,this.path_=path}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=O.makeFromUrl(e,t)}catch(t){return new O(e,"")}if(""===n.path)return n;throw new d("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(e){e.path_=decodeURIComponent(e.path)}const l=t.replace(/[.]/g,"\\."),f=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===h?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let i=0;i<f.length;i++){const t=f[i],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new O(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new d("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class I{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function x(p){return"string"==typeof p||p instanceof String}function C(p){return k()&&p instanceof Blob}function k(){return"undefined"!=typeof Blob}function D(e,t,n,r){if(r<t)throw w(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw w(`Invalid value for '${e}'. Expected ${n} or less.`)}function R(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function A(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}var N;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(N||(N={}));class j{constructor(e,t,n,r,o,c,l,h,d,f,m){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=l,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new P(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===N.NO_ERROR,o=n.getStatus();if(!t||this.isRetryStatusCode_(o)){const t=n.getErrorCode()===N.ABORT;return void e(!1,new P(!1,null,t))}const c=-1!==this.successCodes_.indexOf(o);e(!0,new P(c,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==o){const e=m();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?_():v())}else{r(new d("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new P(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,c=null,l=!1,h=0;function d(){return 2===h}let f=!1;function m(...e){f||(f=!0,t.apply(null,e))}function v(t){o=setTimeout((()=>{o=null,e(w,d())}),t)}function y(){c&&clearTimeout(c)}function w(e,...t){if(f)return void y();if(e)return y(),void m.call(null,e,...t);if(d()||l)return y(),void m.call(null,e,...t);let n;r<64&&(r*=2),1===h?(h=2,n=0):n=1e3*(r+Math.random()),v(n)}let _=!1;function E(e){_||(_=!0,y(),f||(null!==o?(e||(h=2),clearTimeout(o),v(0)):e||(h=1)))}return v(0),c=setTimeout((()=>{l=!0,E(!0)}),n),E}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class P{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function M(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function L(...e){const t=M();if(void 0!==t){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}if(k())return new Blob(e);throw new d("unsupported-environment","This browser doesn't seem to support creating Blobs")}const U={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class F{constructor(data,e){this.data=data,this.contentType=e||null}}function V(e,t){switch(e){case U.RAW:return new F(B(t));case U.BASE64:case U.BASE64URL:return new F($(e,t));case U.DATA_URL:return new F(function(e){const t=new H(e);return t.base64?$(U.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw S(U.DATA_URL,"Malformed data URL.")}return B(t)}(t.rest)}(t),new H(t).contentType)}throw m()}function B(e){const b=[];for(let i=0;i<e.length;i++){let t=e.charCodeAt(i);if(t<=127)b.push(t);else if(t<=2047)b.push(192|t>>6,128|63&t);else if(55296==(64512&t)){if(i<e.length-1&&56320==(64512&e.charCodeAt(i+1))){t=65536|(1023&t)<<10|1023&e.charCodeAt(++i),b.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t)}else b.push(239,191,189)}else 56320==(64512&t)?b.push(239,191,189):b.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(b)}function $(e,t){switch(e){case U.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw S(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case U.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw S(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(t){throw S(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class H{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw S(U.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(s,e){if(!(s.length>=e.length))return!1;return s.substring(s.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class z{constructor(data,e){let t=0,n="";C(data)?(this.data_=data,t=data.size,n=data.type):data instanceof ArrayBuffer?(e?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),t=this.data_.length):data instanceof Uint8Array&&(e?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),t=data.length),this.size_=t,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(C(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new z(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new z(n,!0)}}static getBlob(...e){if(k()){const t=e.map((e=>e instanceof z?e.data_:e));return new z(L.apply(null,t))}{const t=e.map((e=>x(e)?V(U.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let o=0;return t.forEach((e=>{for(let i=0;i<e.length;i++)r[o++]=e[i]})),new z(r,!0)}}uploadData(){return this.data_}}function W(s){let e;try{e=JSON.parse(s)}catch(e){return null}return"object"!=typeof(p=e)||Array.isArray(p)?null:e;var p}function G(path){const e=path.lastIndexOf("/",path.length-2);return-1===e?path:path.slice(e+1)}function Y(e,t){return t}class K{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Y}}let X=null;function Z(){if(X)return X;const e=[];e.push(new K("bucket")),e.push(new K("generation")),e.push(new K("metageneration")),e.push(new K("name","fullPath",!0));const t=new K("name");t.xform=function(e,t){return function(e){return!x(e)||e.length<2?e:G(e)}(t)},e.push(t);const n=new K("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new K("timeCreated")),e.push(new K("updated")),e.push(new K("md5Hash",null,!0)),e.push(new K("cacheControl",null,!0)),e.push(new K("contentDisposition",null,!0)),e.push(new K("contentEncoding",null,!0)),e.push(new K("contentLanguage",null,!0)),e.push(new K("contentType",null,!0)),e.push(new K("metadata","customMetadata",!0)),X=e,X}function Q(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,path=e.fullPath,r=new O(n,path);return t._makeStorageReference(r)}})}(r,e),r}function J(e,t,n){const r=W(t);if(null===r)return null;return Q(e,r,n)}function ee(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}function te(e,t,n){const r=W(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const path of n.prefixes){const n=path.replace(/\/$/,""),o=e._makeStorageReference(new O(t,n));r.prefixes.push(o)}if(n.items)for(const o of n.items){const n=e._makeStorageReference(new O(t,o.name));r.items.push(n)}return r}(e,t,r)}class ne{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function re(e){if(!e)throw m()}function ie(e,t){return function(n,text){const r=J(e,text,t);return re(null!==r),r}}function oe(e,t){return function(n,text){const r=J(e,text,t);return re(null!==r),function(e,t,n,r){const o=W(t);if(null===o)return null;if(!x(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const l=encodeURIComponent;return c.split(",").map((t=>{const o=e.bucket,path=e.fullPath;return R("/b/"+l(o)+"/o/"+l(path),n,r)+A({alt:"media",token:t})}))[0]}(r,text,e.host,e._protocol)}}function se(e){return function(t,n){let r;var path,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new d("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new d("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new d("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(path=e.path,r=new d("unauthorized","User does not have permission to access '"+path+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ae(e){const t=se(e);return function(n,r){let o=t(n,r);var path;return 404===n.getStatus()&&(path=e.path,o=new d("object-not-found","Object '"+path+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function ue(e,t,n){const r=R(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,c=new ne(r,"GET",ie(e,n),o);return c.errorHandler=ae(t),c}function ce(e,t,n,r,o){const c={};t.isRoot?c.prefix="":c.prefix=t.path+"/",n&&n.length>0&&(c.delimiter=n),r&&(c.pageToken=r),o&&(c.maxResults=o);const l=R(t.bucketOnlyServerUrl(),e.host,e._protocol),h=e.maxOperationRetryTime,d=new ne(l,"GET",function(e,t){return function(n,text){const r=te(e,t,text);return re(null!==r),r}}(e,t.bucket),h);return d.urlParams=c,d.errorHandler=se(t),d}function le(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function he(e,t,n,r,o){const c=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};const h=function(){let e="";for(let i=0;i<2;i++)e+=Math.random().toString().slice(2);return e}();l["Content-Type"]="multipart/related; boundary="+h;const d=le(t,r,o),f="--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ee(d,n)+"\r\n--"+h+"\r\nContent-Type: "+d.contentType+"\r\n\r\n",m="\r\n--"+h+"--",body=z.getBlob(f,r,m);if(null===body)throw y();const v={name:d.fullPath},w=R(c,e.host,e._protocol),_=e.maxUploadRetryTime,E=new ne(w,"POST",ie(e,n),_);return E.urlParams=v,E.headers=l,E.body=body.uploadData(),E.errorHandler=se(t),E}class de{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function fe(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){re(!1)}return re(!!n&&-1!==(t||["active"]).indexOf(n)),n}const pe=262144;function me(e,t,n,r,o,c,l,h){const f=new de(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw new d("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const m=f.total-f.current;let v=m;o>0&&(v=Math.min(v,o));const w=f.current,_=w+v,E={"X-Goog-Upload-Command":v===m?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},body=r.slice(w,_);if(null===body)throw y();const S=t.maxUploadRetryTime,T=new ne(n,"POST",(function(e,text){const n=fe(e,["active","final"]),o=f.current+v,l=r.size();let h;return h="final"===n?ie(t,c)(e,text):null,new de(o,l,"final"===n,h)}),S);return T.headers=E,T.body=body.uploadData(),T.progressCallback=h||null,T.errorHandler=se(e),T}const ge={STATE_CHANGED:"state_changed"},ve={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ye(e){switch(e){case"running":case"pausing":case"canceling":return ve.RUNNING;case"paused":return ve.PAUSED;case"success":return ve.SUCCESS;case"canceled":return ve.CANCELED;default:return ve.ERROR}}class be{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function we(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}class _e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=N.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=N.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=N.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,body,n){if(this.sent_)throw T("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==n)for(const e in n)n.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,n[e].toString());return void 0!==body?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw T("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw T("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw T("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw T("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(header){return this.xhr_.getResponseHeader(header)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ee extends _e{initXhr(){this.xhr_.responseType="text"}}function Se(){return new Ee}class Te{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Z(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,o){const c=t.bucketOnlyServerUrl(),l=le(t,r,o),h={name:l.fullPath},d=R(c,e.host,e._protocol),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},body=ee(l,n),m=e.maxUploadRetryTime,v=new ne(d,"POST",(function(e){let t;fe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){re(!1)}return re(x(t)),t}),m);return v.urlParams=h,v.headers=f,v.body=body,v.errorHandler=se(t),v}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Se,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const o=e.maxUploadRetryTime,c=new ne(n,"POST",(function(e){const t=fe(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){re(!1)}n||re(!1);const o=Number(n);return re(!isNaN(o)),new de(o,r.size(),"final"===t)}),o);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=se(t),c}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Se,t,n);this._request=o,o.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=pe*this._chunkMultiplier,t=new de(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,o)=>{let c;try{c=me(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(e){return this._error=e,void this._transition("error")}const l=this._ref.storage._makeRequest(c,Se,r,o);this._request=l,l.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){pe*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=ue(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Se,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=he(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Se,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=v(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ye(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const o=new be(t||void 0,n||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const i=this._observers.indexOf(e);-1!==i&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ye(this._state)){case ve.SUCCESS:we(this._resolve.bind(null,this.snapshot))();break;case ve.CANCELED:case ve.ERROR:we(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ye(this._state)){case ve.RUNNING:case ve.PAUSED:e.next&&we(e.next.bind(e,this.snapshot))();break;case ve.SUCCESS:e.complete&&we(e.complete.bind(e))();break;default:e.error&&we(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Oe{constructor(e,t){this._service=e,this._location=t instanceof O?t:O.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Oe(e,t)}get root(){const e=new O(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G(this._location.path)}get storage(){return this._service}get parent(){const e=function(path){if(0===path.length)return null;const e=path.lastIndexOf("/");return-1===e?"":path.slice(0,e)}(this._location.path);if(null===e)return null;const t=new O(this._location.bucket,e);return new Oe(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw E(e)}}function Ie(e){const t={prefixes:[],items:[]};return xe(e,t).then((()=>t))}async function xe(e,t,n){const r={pageToken:n},o=await Ce(e,r);t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&await xe(e,t,o.nextPageToken)}function Ce(e,t){null!=t&&"number"==typeof t.maxResults&&D("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ce(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Se)}function ke(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const o=R(t.fullServerUrl(),e.host,e._protocol),body=ee(n,r),c=e.maxOperationRetryTime,l=new ne(o,"PATCH",ie(e,r),c);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=body,l.errorHandler=ae(t),l}(e.storage,e._location,t,Z());return e.storage.makeRequestWithTokens(n,Se)}function De(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=R(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,c=new ne(r,"GET",oe(e,n),o);return c.errorHandler=ae(t),c}(e.storage,e._location,Z());return e.storage.makeRequestWithTokens(t,Se).then((e=>{if(null===e)throw new d("no-download-url","The given file does not have any download URLs.");return e}))}function Re(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=R(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,o=new ne(n,"DELETE",(function(e,t){}),r);return o.successCodes=[200,204],o.errorHandler=ae(t),o}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Se)}function Ae(e,t){const n=function(path,e){const t=e.split("/").filter((component=>component.length>0)).join("/");return 0===path.length?t:path+"/"+t}(e._location.path,t),r=new O(e._location.bucket,n);return new Oe(e.storage,r)}function Ne(e,path){if(e instanceof Me){const t=e;if(null==t._bucket)throw new d("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const n=new Oe(t,t._bucket);return null!=path?Ne(n,path):n}return void 0!==path?Ae(e,path):e}function je(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Me)return new Oe(e,t);throw w("To use ref(service, url), the first argument must be a Storage instance.")}return Ne(e,t)}function Pe(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:O.makeFromBucketSpec(n,e)}class Me{constructor(e,t,n,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=h,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?O.makeFromBucketSpec(r,this._host):Pe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=O.makeFromBucketSpec(this._url,e):this._bucket=Pe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(time){D("time",0,Number.POSITIVE_INFINITY,time),this._maxUploadRetryTime=time}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(time){D("time",0,Number.POSITIVE_INFINITY,time),this._maxOperationRetryTime=time}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oe(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new I(_());{const o=function(e,t,n,r,o,c){const l=A(e.urlParams),h=e.url+l,d=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(d,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(d,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(d,c),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(d,r),new j(h,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Le="@firebase/storage",Ue="0.9.9",Fe="storage";function Ve(e,data,t){return function(e,data,t){return e._throwIfRoot("uploadBytesResumable"),new Te(e,new z(data),t)}(e=Object(c.l)(e),data,t)}function Be(e){return function(e){e._throwIfRoot("getMetadata");const t=ue(e.storage,e._location,Z());return e.storage.makeRequestWithTokens(t,Se)}(e=Object(c.l)(e))}function $e(e,t){return je(e=Object(c.l)(e),t)}function He(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"==typeof o?o:Object(c.g)(o,e.app.options.projectId))}(e,t,n,r)}function qe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return new Me(n,r,c,t,o.SDK_VERSION)}Object(o._registerComponent)(new l.a(Fe,qe,"PUBLIC").setMultipleInstances(!0)),Object(o.registerVersion)(Le,Ue,""),Object(o.registerVersion)(Le,Ue,"esm2017");class ze{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class We{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ze(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new ze(t,this,this._ref))}),t)}on(e,t,n,r){let o;return t&&(o="function"==typeof t?e=>t(new ze(e,this,this._ref)):{next:t.next?e=>t.next(new ze(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)}}class Ge{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Ye(e,this._service)))}get items(){return this._delegate.items.map((e=>new Ye(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ye{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Ae(e,t)}(this._delegate,e);return new Ye(t,this.storage)}get root(){return new Ye(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ye(e,this.storage)}put(data,e){return this._throwIfRoot("put"),new We(Ve(this._delegate,data,e),this)}putString(e,t=U.RAW,n){this._throwIfRoot("putString");const data=V(t,e),r=Object.assign({},n);return null==r.contentType&&null!=data.contentType&&(r.contentType=data.contentType),new We(new Te(this._delegate,new z(data.data,!0),r),this)}listAll(){return(e=this._delegate,Ie(e=Object(c.l)(e))).then((e=>new Ge(e,this.storage)));var e}list(e){return function(e,t){return Ce(e=Object(c.l)(e),t)}(this._delegate,e||void 0).then((e=>new Ge(e,this.storage)))}getMetadata(){return Be(this._delegate)}updateMetadata(e){return function(e,t){return ke(e=Object(c.l)(e),t)}(this._delegate,e)}getDownloadURL(){return e=this._delegate,De(e=Object(c.l)(e));var e}delete(){return this._throwIfRoot("delete"),e=this._delegate,Re(e=Object(c.l)(e));var e}_throwIfRoot(e){if(""===this._delegate._location.path)throw E(e)}}class Ke{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(path){if(Xe(path))throw w("ref() expected a child path but got a URL, use refFromURL instead.");return new Ye($e(this._delegate,path),this)}refFromURL(e){if(!Xe(e))throw w("refFromURL() expected a full URL but got a child path, use ref() instead.");try{O.makeFromUrl(e,this._delegate.host)}catch(e){throw w("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ye($e(this._delegate,e),this)}setMaxUploadRetryTime(time){this._delegate.maxUploadRetryTime=time}setMaxOperationRetryTime(time){this._delegate.maxOperationRetryTime=time}useEmulator(e,t,n={}){He(this._delegate,e,t,n)}}function Xe(path){return/^[A-Za-z]+:\/\//.test(path)}function Ze(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new Ke(n,r)}!function(e){const t={TaskState:ve,TaskEvent:ge,StringFormat:U,Storage:Ke,Reference:Ye};e.INTERNAL.registerComponent(new l.a("storage-compat",Ze,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(r.a)},function(e,t,n){"use strict";var r=n(30),o=n(6),c=n(2),l=n(13);function h(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new o.g("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function d(){if("undefined"==typeof Uint8Array)throw new o.g("unimplemented","Uint8Arrays are not available in this environment.")}function f(){if(!Object(o.r)())throw new o.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}class m{constructor(e){this._delegate=e}static fromBase64String(e){return f(),new m(o.b.fromBase64String(e))}static fromUint8Array(e){return d(),new m(o.b.fromUint8Array(e))}toBase64(){return f(),this._delegate.toBase64()}toUint8Array(){return d(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function v(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const object=e;for(const e of t)if(e in object&&"function"==typeof object[e])return!0;return!1}(e,["next","error","complete"])}class y{enableIndexedDbPersistence(e,t){return Object(o.F)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Object(o.G)(e._delegate)}clearIndexedDbPersistence(e){return Object(o.x)(e._delegate)}}class w{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof o.m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Object(o.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Object(o.A)(this._delegate,e,t,n)}enableNetwork(){return Object(o.H)(this._delegate)}disableNetwork(){return Object(o.D)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(o.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Object(o.lb)(this._delegate)}onSnapshotsInSync(e){return Object(o.Y)(this._delegate,e)}get app(){if(!this._appCompat)throw new o.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new j(this,Object(o.y)(this._delegate,e))}catch(e){throw I(e,"collection()","Firestore.collection()")}}doc(e){try{return new O(this,Object(o.E)(this._delegate,e))}catch(e){throw I(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new R(this,Object(o.z)(this._delegate,e))}catch(e){throw I(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Object(o.db)(this._delegate,(t=>e(new E(this,t))))}batch(){return Object(o.K)(this._delegate),new S(new o.l(this._delegate,(e=>Object(o.L)(this._delegate,e))))}loadBundle(e){return Object(o.V)(this._delegate,e)}namedQuery(e){return Object(o.W)(this._delegate,e).then((e=>e?new R(this,e):null))}}class _ extends o.a{constructor(e){super(),this.firestore=e}convertBytes(e){return new m(new o.b(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return O.forKey(t,this.firestore,null)}}class E{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _(e)}get(e){const t=P(e);return this._delegate.get(t).then((e=>new k(this._firestore,new o.e(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,data,t){const n=P(e);return t?(h("Transaction.set",t),this._delegate.set(n,data,t)):this._delegate.set(n,data),this}update(e,t,n,...r){const o=P(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=P(e);return this._delegate.delete(t),this}}class S{constructor(e){this._delegate=e}set(e,data,t){const n=P(e);return t?(h("WriteBatch.set",t),this._delegate.set(n,data,t)):this._delegate.set(n,data),this}update(e,t,n,...r){const o=P(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=P(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class T{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new o.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new D(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=T.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let o=r.get(t);return o||(o=new T(e,new _(e),t),r.set(t,o)),o}}T.INSTANCES=new WeakMap;class O{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _(e)}static forPath(path,e,t){if(path.length%2!=0)throw new o.g("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${path.canonicalString()} has ${path.length}`);return new O(e,new o.d(e._delegate,t,new o.n(path)))}static forKey(e,t,n){return new O(t,new o.d(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new j(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new j(this.firestore,Object(o.y)(this._delegate,e))}catch(e){throw I(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Object(c.l)(e))instanceof o.d&&Object(o.cb)(this._delegate,e)}set(e,t){t=h("DocumentReference.set",t);try{return t?Object(o.fb)(this._delegate,e,t):Object(o.fb)(this._delegate,e)}catch(e){throw I(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Object(o.kb)(this._delegate,e):Object(o.kb)(this._delegate,e,t,...n)}catch(e){throw I(e,"updateDoc()","DocumentReference.update()")}}delete(){return Object(o.B)(this._delegate)}onSnapshot(...e){const t=x(e),n=C(e,(e=>new k(this.firestore,new o.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Object(o.X)(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(o.N)(this._delegate):"server"===(null==e?void 0:e.source)?Object(o.O)(this._delegate):Object(o.M)(this._delegate),t.then((e=>new k(this.firestore,new o.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new O(this.firestore,e?this._delegate.withConverter(T.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function I(e,t,n){return e.message=e.message.replace(t,n),e}function x(e){for(const t of e)if("object"==typeof t&&!v(t))return t;return{}}function C(e,t){var n,r;let o;return o=v(e[0])?e[0]:v(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{o.next&&o.next(t(e))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class k{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new O(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Object(o.hb)(this._delegate,e._delegate)}}class D extends k{data(e){const data=this._delegate.data(e);return Object(o.q)(void 0!==data,"Document in a QueryDocumentSnapshot should exist"),data}}class R{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _(e)}where(e,t,n){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.mb)(e,t,n)))}catch(e){throw I(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.Z)(e,t)))}catch(e){throw I(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.T)(e)))}catch(e){throw I(e,"limit()","Query.limit()")}}limitToLast(e){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.U)(e)))}catch(e){throw I(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.jb)(...e)))}catch(e){throw I(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.ib)(...e)))}catch(e){throw I(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.J)(...e)))}catch(e){throw I(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new R(this.firestore,Object(o.ab)(this._delegate,Object(o.I)(...e)))}catch(e){throw I(e,"endAt()","Query.endAt()")}}isEqual(e){return Object(o.bb)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(o.Q)(this._delegate):"server"===(null==e?void 0:e.source)?Object(o.R)(this._delegate):Object(o.P)(this._delegate),t.then((e=>new N(this.firestore,new o.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=x(e),n=C(e,(e=>new N(this.firestore,new o.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Object(o.X)(this._delegate,t,n)}withConverter(e){return new R(this.firestore,e?this._delegate.withConverter(T.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class A{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new D(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class N{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new R(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new D(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new A(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new D(this._firestore,n))}))}isEqual(e){return Object(o.hb)(this._delegate,e._delegate)}}class j extends R{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new O(this.firestore,e):null}doc(e){try{return new O(this.firestore,void 0===e?Object(o.E)(this._delegate):Object(o.E)(this._delegate,e))}catch(e){throw I(e,"doc()","CollectionReference.doc()")}}add(data){return Object(o.u)(this._delegate,data).then((e=>new O(this.firestore,e)))}isEqual(e){return Object(o.cb)(this._delegate,e._delegate)}withConverter(e){return new j(this.firestore,e?this._delegate.withConverter(T.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function P(e){return Object(o.p)(e,o.d)}class M{constructor(...e){this._delegate=new o.f(...e)}static documentId(){return new M(o.o.keyField().canonicalString())}isEqual(e){return(e=Object(c.l)(e))instanceof o.f&&this._delegate._internalPath.isEqual(e._internalPath)}}class L{constructor(e){this._delegate=e}static serverTimestamp(){const e=Object(o.eb)();return e._methodName="FieldValue.serverTimestamp",new L(e)}static delete(){const e=Object(o.C)();return e._methodName="FieldValue.delete",new L(e)}static arrayUnion(...e){const t=Object(o.w)(...e);return t._methodName="FieldValue.arrayUnion",new L(t)}static arrayRemove(...e){const t=Object(o.v)(...e);return t._methodName="FieldValue.arrayRemove",new L(t)}static increment(e){const t=Object(o.S)(e);return t._methodName="FieldValue.increment",new L(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const U={Firestore:w,GeoPoint:o.h,Timestamp:o.k,Blob:m,Transaction:E,WriteBatch:S,DocumentReference:O,DocumentSnapshot:k,Query:R,QueryDocumentSnapshot:D,QuerySnapshot:N,CollectionReference:j,FieldPath:M,FieldValue:L,setLogLevel:function(e){Object(o.gb)(e)},CACHE_SIZE_UNLIMITED:o.c};var F,V;F=r.a,V=(e,t)=>new w(e,t,new y),F.INTERNAL.registerComponent(new l.a("firestore-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return V(t,n)}),"PUBLIC").setServiceProps(Object.assign({},U))),F.registerVersion("@firebase/firestore-compat","0.1.24")}]]);